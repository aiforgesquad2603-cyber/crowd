{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport let GuardService = /*#__PURE__*/(() => {\n  class GuardService {\n    // Uncomment this when you are ready to connect to your Node.js API\n    // private apiUrl = 'http://localhost:3000/api/guards';\n    // constructor(private http: HttpClient) { }\n    constructor() {\n      // 1. Setup Mock Data (Matching your screenshot)\n      this.initialGuards = [{\n        id: 1,\n        name: 'Raj Kumar',\n        mobile: '+91 98765 43210',\n        gate: 'Gate 1'\n      }, {\n        id: 2,\n        name: 'Suresh Selvam',\n        mobile: '+91 99887 76655',\n        gate: 'Gate 2'\n      }];\n      // 2. Create a reactive stream (BehaviorSubject) holding the guards array\n      this.guardsSubject = new BehaviorSubject(this.initialGuards);\n      // Expose the stream as an Observable so components can subscribe to it\n      this.guards$ = this.guardsSubject.asObservable();\n    }\n    /**\n     * Fetch all guards (Reactive)\n     */\n    getGuards() {\n      return this.guards$;\n      // BACKEND INTEGRATION READY:\n      // return this.http.get<Guard[]>(this.apiUrl);\n    }\n    /**\n     * Add a new guard to the system\n     */\n    addGuard(newGuard) {\n      // Generate a random ID for the demo\n      const guardWithId = {\n        ...newGuard,\n        id: Math.random().toString(36).substr(2, 9)\n      };\n      const currentGuards = this.guardsSubject.getValue();\n      this.guardsSubject.next([...currentGuards, guardWithId]);\n      // BACKEND INTEGRATION READY:\n      // return this.http.post<Guard>(this.apiUrl, newGuard).subscribe(res => {\n      //   this.guardsSubject.next([...currentGuards, res]);\n      // });\n    }\n    /**\n     * Update an existing guard's assignment\n     */\n    updateGuard(updatedGuard) {\n      const currentGuards = this.guardsSubject.getValue();\n      const index = currentGuards.findIndex(g => g.id === updatedGuard.id);\n      if (index !== -1) {\n        currentGuards[index] = updatedGuard;\n        this.guardsSubject.next([...currentGuards]);\n      }\n      // BACKEND INTEGRATION READY:\n      // return this.http.put<Guard>(`${this.apiUrl}/${updatedGuard.id}`, updatedGuard).subscribe();\n    }\n    /**\n     * Remove a guard from the system\n     */\n    deleteGuard(guardId) {\n      const currentGuards = this.guardsSubject.getValue();\n      const filteredGuards = currentGuards.filter(g => g.id !== guardId);\n      this.guardsSubject.next(filteredGuards);\n      // BACKEND INTEGRATION READY:\n      // return this.http.delete(`${this.apiUrl}/${guardId}`).subscribe();\n    }\n    static {\n      this.ɵfac = function GuardService_Factory(t) {\n        return new (t || GuardService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: GuardService,\n        factory: GuardService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return GuardService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}