{"ast":null,"code":"generateReport();\n{\n  // 1. Create the CSV Headers\n  let csvContent = \"data:text/csv;charset=utf-8,\";\n  csvContent += \"Security Zone,Current Risk Percentage,Threat Level\\n\";\n  // 2. Loop through the real database risk zones\n  this.riskZones.forEach(zone => {\n    csvContent += `${zone.name},${zone.percent}%,${zone.level}\\n`;\n  });\n  // 3. Add Overall Metrics\n  csvContent += `\\nOverall Peak Density,${this.metrics.peakDensity}\\n`;\n  csvContent += `Total Expected Footfall,${this.metrics.totalFootfall}\\n`;\n  csvContent += `Incidents Logged,${this.metrics.incidents}\\n`;\n  // 4. Create a hidden download link and click it!\n  const encodedUri = encodeURI(csvContent);\n  const link = document.createElement(\"a\");\n  link.setAttribute(\"href\", encodedUri);\n  link.setAttribute(\"download\", \"CrowdGuard_AI_Security_Report.csv\");\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}","map":{"version":3,"names":["generateReport","csvContent","riskZones","forEach","zone","name","percent","level","metrics","peakDensity","totalFootfall","incidents","encodedUri","encodeURI","link","document","createElement","setAttribute","body","appendChild","click","removeChild"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\analysis-report\\analysis-report.component.ts"],"sourcesContent":["generateReport() {\n    // 1. Create the CSV Headers\n    let csvContent = \"data:text/csv;charset=utf-8,\";\n    csvContent += \"Security Zone,Current Risk Percentage,Threat Level\\n\";\n\n    // 2. Loop through the real database risk zones\n    this.riskZones.forEach(zone => {\n      csvContent += `${zone.name},${zone.percent}%,${zone.level}\\n`;\n    });\n\n    // 3. Add Overall Metrics\n    csvContent += `\\nOverall Peak Density,${this.metrics.peakDensity}\\n`;\n    csvContent += `Total Expected Footfall,${this.metrics.totalFootfall}\\n`;\n    csvContent += `Incidents Logged,${this.metrics.incidents}\\n`;\n\n    // 4. Create a hidden download link and click it!\n    const encodedUri = encodeURI(csvContent);\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"href\", encodedUri);\n    link.setAttribute(\"download\", \"CrowdGuard_AI_Security_Report.csv\");\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }"],"mappings":"AAAAA,cAAc,EAAE;AAAC;EACb;EACA,IAAIC,UAAU,GAAG,8BAA8B;EAC/CA,UAAU,IAAI,sDAAsD;EAEpE;EACA,IAAI,CAACC,SAAS,CAACC,OAAO,CAACC,IAAI,IAAG;IAC5BH,UAAU,IAAI,GAAGG,IAAI,CAACC,IAAI,IAAID,IAAI,CAACE,OAAO,KAAKF,IAAI,CAACG,KAAK,IAAI;EAC/D,CAAC,CAAC;EAEF;EACAN,UAAU,IAAI,0BAA0B,IAAI,CAACO,OAAO,CAACC,WAAW,IAAI;EACpER,UAAU,IAAI,2BAA2B,IAAI,CAACO,OAAO,CAACE,aAAa,IAAI;EACvET,UAAU,IAAI,oBAAoB,IAAI,CAACO,OAAO,CAACG,SAAS,IAAI;EAE5D;EACA,MAAMC,UAAU,GAAGC,SAAS,CAACZ,UAAU,CAAC;EACxC,MAAMa,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EACxCF,IAAI,CAACG,YAAY,CAAC,MAAM,EAAEL,UAAU,CAAC;EACrCE,IAAI,CAACG,YAAY,CAAC,UAAU,EAAE,mCAAmC,CAAC;EAClEF,QAAQ,CAACG,IAAI,CAACC,WAAW,CAACL,IAAI,CAAC;EAC/BA,IAAI,CAACM,KAAK,EAAE;EACZL,QAAQ,CAACG,IAAI,CAACG,WAAW,CAACP,IAAI,CAAC;AACjC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}