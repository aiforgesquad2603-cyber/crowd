{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DemoVidAnalysisComponent = class DemoVidAnalysisComponent {\n  constructor(http) {\n    this.http = http;\n    this.selectedFile = null;\n    this.selectedGate = 'Gate 1'; // Default camera\n    this.gates = ['Gate 1', 'Gate 2', 'Gate 3', 'Gate 4', 'Gate 5']; // List of cameras\n    this.isAnalyzing = false;\n    this.analysisResult = null;\n  }\n  onFileSelected(event) {\n    if (event.target.files && event.target.files.length > 0) {\n      this.selectedFile = event.target.files[0];\n      this.analysisResult = null;\n    }\n  }\n  uploadAndAnalyze() {\n    if (!this.selectedFile) return;\n    this.isAnalyzing = true;\n    // Video file AND Gate name rendu me Python ku anupurom!\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n    formData.append('gate', this.selectedGate);\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: response => {\n        this.analysisResult = response;\n        this.isAnalyzing = false;\n      },\n      error: err => {\n        console.error(\"Analysis Failed\", err);\n        alert(\"Error connecting to Python backend!\");\n        this.isAnalyzing = false;\n      }\n    });\n  }\n};\nDemoVidAnalysisComponent = __decorate([Component({\n  selector: 'app-demo-vid-analysis',\n  templateUrl: './demo-vid-analysis.component.html',\n  styleUrls: ['./demo-vid-analysis.component.css']\n})], DemoVidAnalysisComponent);\nexport { DemoVidAnalysisComponent };","map":{"version":3,"names":["Component","DemoVidAnalysisComponent","constructor","http","selectedFile","selectedGate","gates","isAnalyzing","analysisResult","onFileSelected","event","target","files","length","uploadAndAnalyze","formData","FormData","append","post","subscribe","next","response","error","err","console","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-demo-vid-analysis',\n  templateUrl: './demo-vid-analysis.component.html',\n  styleUrls: ['./demo-vid-analysis.component.css']\n})\nexport class DemoVidAnalysisComponent {\n\n  selectedFile: File | null = null;\n  selectedGate: string = 'Gate 1'; // Default camera\n  gates: string[] = ['Gate 1', 'Gate 2', 'Gate 3', 'Gate 4', 'Gate 5']; // List of cameras\n  \n  isAnalyzing: boolean = false;\n  analysisResult: any = null;\n\n  constructor(private http: HttpClient) {}\n\n  onFileSelected(event: any) {\n    if (event.target.files && event.target.files.length > 0) {\n      this.selectedFile = event.target.files[0];\n      this.analysisResult = null; \n    }\n  }\n\n  uploadAndAnalyze() {\n    if (!this.selectedFile) return;\n\n    this.isAnalyzing = true;\n    \n    // Video file AND Gate name rendu me Python ku anupurom!\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n    formData.append('gate', this.selectedGate); \n\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: (response: any) => {\n        this.analysisResult = response;\n        this.isAnalyzing = false;\n      },\n      error: (err) => {\n        console.error(\"Analysis Failed\", err);\n        alert(\"Error connecting to Python backend!\");\n        this.isAnalyzing = false;\n      }\n    });\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EASnCC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAPxB,KAAAC,YAAY,GAAgB,IAAI;IAChC,KAAAC,YAAY,GAAW,QAAQ,CAAC,CAAC;IACjC,KAAAC,KAAK,GAAa,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEtE,KAAAC,WAAW,GAAY,KAAK;IAC5B,KAAAC,cAAc,GAAQ,IAAI;EAEa;EAEvCC,cAAcA,CAACC,KAAU;IACvB,IAAIA,KAAK,CAACC,MAAM,CAACC,KAAK,IAAIF,KAAK,CAACC,MAAM,CAACC,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;MACvD,IAAI,CAACT,YAAY,GAAGM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MACzC,IAAI,CAACJ,cAAc,GAAG,IAAI;IAC5B;EACF;EAEAM,gBAAgBA,CAAA;IACd,IAAI,CAAC,IAAI,CAACV,YAAY,EAAE;IAExB,IAAI,CAACG,WAAW,GAAG,IAAI;IAEvB;IACA,MAAMQ,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACb,YAAY,CAAC;IAC1CW,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACZ,YAAY,CAAC;IAE1C,IAAI,CAACF,IAAI,CAACe,IAAI,CAAC,yCAAyC,EAAEH,QAAQ,CAAC,CAACI,SAAS,CAAC;MAC5EC,IAAI,EAAGC,QAAa,IAAI;QACtB,IAAI,CAACb,cAAc,GAAGa,QAAQ;QAC9B,IAAI,CAACd,WAAW,GAAG,KAAK;MAC1B,CAAC;MACDe,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,iBAAiB,EAAEC,GAAG,CAAC;QACrCE,KAAK,CAAC,qCAAqC,CAAC;QAC5C,IAAI,CAAClB,WAAW,GAAG,KAAK;MAC1B;KACD,CAAC;EACJ;CACD;AAxCYN,wBAAwB,GAAAyB,UAAA,EALpC1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,uBAAuB;EACjCC,WAAW,EAAE,oCAAoC;EACjDC,SAAS,EAAE,CAAC,mCAAmC;CAChD,CAAC,C,EACW5B,wBAAwB,CAwCpC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}