{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../shared/glass-card/glass-card.component\";\nconst _c0 = (a0, a1, a2, a3) => ({\n  \"border-l-red-500\": a0,\n  \"border-l-orange-500\": a1,\n  \"border-l-yellow-500\": a2,\n  \"border-l-green-500\": a3\n});\nconst _c1 = (a0, a1, a2, a3) => ({\n  \"bg-red-500/20 text-red-500\": a0,\n  \"bg-orange-500/20 text-orange-500\": a1,\n  \"bg-yellow-500/20 text-yellow-500\": a2,\n  \"bg-green-500/20 text-green-500\": a3\n});\nconst _c2 = (a0, a1, a2) => ({\n  \"text-green-400\": a0,\n  \"text-yellow-500\": a1,\n  \"text-blue-400\": a2\n});\nfunction GuardAssignComponent_div_24_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 37);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const guard_r3 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", guard_r3.id);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate2(\" \", guard_r3.name, \" (\", guard_r3.gate, \") \");\n  }\n}\nfunction GuardAssignComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 26)(1, \"div\", 27)(2, \"div\")(3, \"h4\", 28);\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(5, \"p\", 29);\n    i0.ÉµÉµtext(6, \"Units Deployed: \");\n    i0.ÉµÉµelementStart(7, \"span\", 30);\n    i0.ÉµÉµtext(8);\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(9, \"span\", 31);\n    i0.ÉµÉµtext(10);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(11, \"div\", 32)(12, \"select\", 33);\n    i0.ÉµÉµtwoWayListener(\"ngModelChange\", function GuardAssignComponent_div_24_Template_select_ngModelChange_12_listener($event) {\n      const zone_r2 = i0.ÉµÉµrestoreView(_r1).$implicit;\n      i0.ÉµÉµtwoWayBindingSet(zone_r2.selectedGuard, $event) || (zone_r2.selectedGuard = $event);\n      return i0.ÉµÉµresetView($event);\n    });\n    i0.ÉµÉµelementStart(13, \"option\", 34);\n    i0.ÉµÉµtext(14, \"Select available unit...\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(15, GuardAssignComponent_div_24_option_15_Template, 2, 3, \"option\", 35);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(16, \"button\", 36);\n    i0.ÉµÉµlistener(\"click\", function GuardAssignComponent_div_24_Template_button_click_16_listener() {\n      const zone_r2 = i0.ÉµÉµrestoreView(_r1).$implicit;\n      const ctx_r3 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r3.dispatchGuard(zone_r2));\n    });\n    i0.ÉµÉµtext(17, \" Dispatch \");\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const zone_r2 = ctx.$implicit;\n    const ctx_r3 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction4(7, _c0, zone_r2.risk === \"Critical\", zone_r2.risk === \"High\", zone_r2.risk === \"Moderate\", zone_r2.risk === \"Low\"));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate(zone_r2.name);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate(zone_r2.deployed);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction4(12, _c1, zone_r2.risk === \"Critical\", zone_r2.risk === \"High\", zone_r2.risk === \"Moderate\", zone_r2.risk === \"Low\"));\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", zone_r2.risk, \" \");\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtwoWayProperty(\"ngModel\", zone_r2.selectedGuard);\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r3.getAvailableGuards());\n  }\n}\nfunction GuardAssignComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 38);\n    i0.ÉµÉµtext(1, \" No guards registered. \");\n    i0.ÉµÉµelement(2, \"br\");\n    i0.ÉµÉµtext(3, \" Add them in Settings. \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction GuardAssignComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 39)(1, \"div\")(2, \"p\", 40);\n    i0.ÉµÉµtext(3);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"p\", 41);\n    i0.ÉµÉµtext(5);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(6, \"span\", 42);\n    i0.ÉµÉµtext(7);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const guard_r5 = ctx.$implicit;\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµtextInterpolate(guard_r5.name);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate2(\"\", guard_r5.mobile, \" | \", guard_r5.gate, \"\");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngClass\", i0.ÉµÉµpureFunction3(5, _c2, guard_r5.status === \"Active\", guard_r5.status === \"On Break\", guard_r5.status === \"Responding\"));\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", guard_r5.status, \" \");\n  }\n}\nexport class GuardAssignComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    // We updated the names to match your real gates!\n    this.zones = [{\n      id: 'Z1',\n      name: 'Gate 1',\n      risk: 'Critical',\n      deployed: 2,\n      selectedGuard: ''\n    }, {\n      id: 'Z2',\n      name: 'Gate 2',\n      risk: 'High',\n      deployed: 1,\n      selectedGuard: ''\n    }, {\n      id: 'Z3',\n      name: 'Gate 3',\n      risk: 'Moderate',\n      deployed: 0,\n      selectedGuard: ''\n    }, {\n      id: 'Z4',\n      name: 'Gate 4',\n      risk: 'Low',\n      deployed: 1,\n      selectedGuard: ''\n    }];\n    // This will now hold your REAL guards from MongoDB\n    this.guards = [];\n  }\n  ngOnInit() {\n    // Automatically fetch real guards when the page opens!\n    this.loadRealGuards();\n  }\n  loadRealGuards() {\n    this.apiService.getGuards().subscribe({\n      next: data => {\n        this.guards = data;\n      },\n      error: err => {\n        console.error(\"Failed to load real guards from database\", err);\n      }\n    });\n  }\n  // Only show guards who are 'Active' in the dropdown menu\n  getAvailableGuards() {\n    return this.guards.filter(guard => guard.status === 'Active');\n  }\n  dispatchGuard(zone) {\n    if (!zone.selectedGuard) {\n      alert('Please select an available unit first!');\n      return;\n    }\n    // Find the real guard using their unique MongoDB ID\n    const guard = this.guards.find(g => g.id === zone.selectedGuard);\n    if (guard) {\n      guard.status = 'Responding'; // Update status to red instantly\n      zone.deployed += 1;\n      alert(`ðŸš¨ Dispatching ${guard.name} to ${zone.name} immediately.`);\n    }\n    // Reset the dropdown\n    zone.selectedGuard = '';\n  }\n  broadcastMessage() {\n    alert(\"ðŸ“¢ Broadcasting emergency message to all active units...\");\n  }\n  static {\n    this.Éµfac = function GuardAssignComponent_Factory(t) {\n      return new (t || GuardAssignComponent)(i0.ÉµÉµdirectiveInject(i1.ApiService));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: GuardAssignComponent,\n      selectors: [[\"app-guard-assign\"]],\n      decls: 40,\n      vars: 3,\n      consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-[#0f172a]\", \"via-[#1e293b]\", \"to-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"text-gray-300\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-8\"], [1, \"text-3xl\", \"font-bold\", \"text-white\", \"tracking-wide\"], [1, \"text-sm\", \"text-gray-400\", \"mt-1\"], [1, \"flex\", \"space-x-4\"], [1, \"bg-[#1e293b]\", \"hover:bg-slate-700\", \"text-gray-300\", \"border\", \"border-slate-600\", \"px-4\", \"py-2\", \"rounded-lg\", \"text-sm\", \"font-medium\", \"transition-colors\", 3, \"click\"], [1, \"bg-blue-600\", \"hover:bg-blue-500\", \"text-white\", \"px-4\", \"py-2\", \"rounded-lg\", \"text-sm\", \"font-medium\", \"transition-colors\", \"flex\", \"items-center\", \"shadow-[0_0_10px_rgba(37,99,235,0.4)]\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-4\", \"h-4\", \"mr-1\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 4v16m8-8H4\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-6\"], [1, \"lg:col-span-2\"], [\"customClasses\", \"p-6 h-full\"], [1, \"flex\", \"items-center\", \"mb-6\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-orange-400\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"], [1, \"text-lg\", \"font-semibold\", \"text-white\"], [1, \"space-y-4\"], [\"class\", \"bg-[#0f172a]/80 p-5 rounded-lg border border-slate-700/50 border-l-4\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"lg:col-span-1\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-blue-400\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"], [1, \"flex\", \"justify-between\", \"text-xs\", \"font-semibold\", \"text-gray-500\", \"uppercase\", \"tracking-wider\", \"border-b\", \"border-slate-700/50\", \"pb-2\", \"mb-3\", \"px-2\"], [\"class\", \"text-center text-gray-500 py-6 text-sm\", 4, \"ngIf\"], [1, \"space-y-1\"], [\"class\", \"flex justify-between items-center p-3 rounded-md hover:bg-[#1e293b] transition-colors border border-transparent hover:border-slate-700/50\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-[#0f172a]/80\", \"p-5\", \"rounded-lg\", \"border\", \"border-slate-700/50\", \"border-l-4\", 3, \"ngClass\"], [1, \"flex\", \"justify-between\", \"items-start\", \"mb-3\"], [1, \"text-lg\", \"font-bold\", \"text-white\"], [1, \"text-xs\", \"text-gray-400\", \"mt-1\"], [1, \"font-bold\", \"text-gray-200\"], [1, \"px-3\", \"py-1\", \"text-xs\", \"font-bold\", \"rounded-md\", \"uppercase\", \"tracking-wide\", 3, \"ngClass\"], [1, \"flex\", \"items-center\", \"space-x-3\", \"mt-4\"], [1, \"flex-1\", \"bg-[#1e293b]\", \"border\", \"border-slate-600\", \"rounded-lg\", \"px-3\", \"py-2\", \"text-sm\", \"text-gray-300\", \"outline-none\", \"focus:border-blue-500\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-[#1e3a8a]/40\", \"hover:bg-[#1e3a8a]/80\", \"border\", \"border-blue-600/50\", \"text-blue-400\", \"px-5\", \"py-2\", \"rounded-lg\", \"text-sm\", \"font-semibold\", \"transition-colors\", 3, \"click\"], [3, \"value\"], [1, \"text-center\", \"text-gray-500\", \"py-6\", \"text-sm\"], [1, \"flex\", \"justify-between\", \"items-center\", \"p-3\", \"rounded-md\", \"hover:bg-[#1e293b]\", \"transition-colors\", \"border\", \"border-transparent\", \"hover:border-slate-700/50\"], [1, \"text-sm\", \"font-medium\", \"text-gray-200\"], [1, \"text-[10px]\", \"text-gray-400\", \"mt-0.5\"], [1, \"text-xs\", \"font-bold\", 3, \"ngClass\"]],\n      template: function GuardAssignComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n          i0.ÉµÉµtext(4, \"Personnel Deployment\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(5, \"p\", 3);\n          i0.ÉµÉµtext(6, \"Manage security teams and control crowd flow\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(7, \"div\", 4)(8, \"button\", 5);\n          i0.ÉµÉµlistener(\"click\", function GuardAssignComponent_Template_button_click_8_listener() {\n            return ctx.broadcastMessage();\n          });\n          i0.ÉµÉµtext(9, \" Broadcast Message \");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(10, \"button\", 6);\n          i0.ÉµÉµnamespaceSVG();\n          i0.ÉµÉµelementStart(11, \"svg\", 7);\n          i0.ÉµÉµelement(12, \"path\", 8);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtext(13, \" Add Unit \");\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµnamespaceHTML();\n          i0.ÉµÉµelementStart(14, \"div\", 9)(15, \"div\", 10)(16, \"app-glass-card\", 11)(17, \"div\", 12);\n          i0.ÉµÉµnamespaceSVG();\n          i0.ÉµÉµelementStart(18, \"svg\", 13);\n          i0.ÉµÉµelement(19, \"path\", 14)(20, \"path\", 15);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµnamespaceHTML();\n          i0.ÉµÉµelementStart(21, \"h3\", 16);\n          i0.ÉµÉµtext(22, \"Monitored Zones\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(23, \"div\", 17);\n          i0.ÉµÉµtemplate(24, GuardAssignComponent_div_24_Template, 18, 17, \"div\", 18);\n          i0.ÉµÉµelementEnd()()();\n          i0.ÉµÉµelementStart(25, \"div\", 19)(26, \"app-glass-card\", 11)(27, \"div\", 12);\n          i0.ÉµÉµnamespaceSVG();\n          i0.ÉµÉµelementStart(28, \"svg\", 20);\n          i0.ÉµÉµelement(29, \"path\", 21);\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµnamespaceHTML();\n          i0.ÉµÉµelementStart(30, \"h3\", 16);\n          i0.ÉµÉµtext(31, \"Live Roster\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(32, \"div\", 22)(33, \"span\");\n          i0.ÉµÉµtext(34, \"Officer Info\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(35, \"span\");\n          i0.ÉµÉµtext(36, \"Status\");\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµtemplate(37, GuardAssignComponent_div_37_Template, 4, 0, \"div\", 23);\n          i0.ÉµÉµelementStart(38, \"div\", 24);\n          i0.ÉµÉµtemplate(39, GuardAssignComponent_div_39_Template, 8, 9, \"div\", 25);\n          i0.ÉµÉµelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(24);\n          i0.ÉµÉµproperty(\"ngForOf\", ctx.zones);\n          i0.ÉµÉµadvance(13);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.guards.length === 0);\n          i0.ÉµÉµadvance(2);\n          i0.ÉµÉµproperty(\"ngForOf\", ctx.guards);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ÉµNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.GlassCardComponent],\n      styles: [\"\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1YXJkLWFzc2lnbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4QiIsImZpbGUiOiJndWFyZC1hc3NpZ24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEFkZCBkcm9wZG93biAmIGVkaXQgbGF0ZXIgKi9cbiJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZ3VhcmQtYXNzaWduL2d1YXJkLWFzc2lnbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhCQUE4Qjs7QUFFOUIsd1NBQXdTIiwic291cmNlc0NvbnRlbnQiOlsiLyogQWRkIGRyb3Bkb3duICYgZWRpdCBsYXRlciAqL1xuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµproperty","guard_r3","id","ÉµÉµadvance","ÉµÉµtextInterpolate2","name","gate","ÉµÉµtwoWayListener","GuardAssignComponent_div_24_Template_select_ngModelChange_12_listener","$event","zone_r2","ÉµÉµrestoreView","_r1","$implicit","ÉµÉµtwoWayBindingSet","selectedGuard","ÉµÉµresetView","ÉµÉµtemplate","GuardAssignComponent_div_24_option_15_Template","ÉµÉµlistener","GuardAssignComponent_div_24_Template_button_click_16_listener","ctx_r3","ÉµÉµnextContext","dispatchGuard","ÉµÉµpureFunction4","_c0","risk","ÉµÉµtextInterpolate","deployed","_c1","ÉµÉµtextInterpolate1","ÉµÉµtwoWayProperty","getAvailableGuards","ÉµÉµelement","guard_r5","mobile","ÉµÉµpureFunction3","_c2","status","GuardAssignComponent","constructor","apiService","zones","guards","ngOnInit","loadRealGuards","getGuards","subscribe","next","data","error","err","console","filter","guard","zone","alert","find","g","broadcastMessage","ÉµÉµdirectiveInject","i1","ApiService","selectors","decls","vars","consts","template","GuardAssignComponent_Template","rf","ctx","GuardAssignComponent_Template_button_click_8_listener","GuardAssignComponent_div_24_Template","GuardAssignComponent_div_37_Template","GuardAssignComponent_div_39_Template","length"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\guard-assign\\guard-assign.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\guard-assign\\guard-assign.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../services/api.service';\n\n@Component({\n  selector: 'app-guard-assign',\n  templateUrl: './guard-assign.component.html',\n  styleUrls: ['./guard-assign.component.css']\n})\nexport class GuardAssignComponent implements OnInit {\n\n  // We updated the names to match your real gates!\n  zones = [\n    { id: 'Z1', name: 'Gate 1', risk: 'Critical', deployed: 2, selectedGuard: '' },\n    { id: 'Z2', name: 'Gate 2', risk: 'High', deployed: 1, selectedGuard: '' },\n    { id: 'Z3', name: 'Gate 3', risk: 'Moderate', deployed: 0, selectedGuard: '' },\n    { id: 'Z4', name: 'Gate 4', risk: 'Low', deployed: 1, selectedGuard: '' }\n  ];\n\n  // This will now hold your REAL guards from MongoDB\n  guards: any[] = [];\n\n  constructor(private apiService: ApiService) { }\n\n  ngOnInit(): void {\n    // Automatically fetch real guards when the page opens!\n    this.loadRealGuards();\n  }\n\n  loadRealGuards() {\n    this.apiService.getGuards().subscribe({\n      next: (data) => {\n        this.guards = data; \n      },\n      error: (err) => {\n        console.error(\"Failed to load real guards from database\", err);\n      }\n    });\n  }\n\n  // Only show guards who are 'Active' in the dropdown menu\n  getAvailableGuards() {\n    return this.guards.filter(guard => guard.status === 'Active');\n  }\n\n  dispatchGuard(zone: any) {\n    if (!zone.selectedGuard) {\n      alert('Please select an available unit first!');\n      return;\n    }\n\n    // Find the real guard using their unique MongoDB ID\n    const guard = this.guards.find(g => g.id === zone.selectedGuard);\n    if (guard) {\n      guard.status = 'Responding'; // Update status to red instantly\n      zone.deployed += 1; \n      alert(`ðŸš¨ Dispatching ${guard.name} to ${zone.name} immediately.`);\n    }\n\n    // Reset the dropdown\n    zone.selectedGuard = '';\n  }\n\n  broadcastMessage() {\n    alert(\"ðŸ“¢ Broadcasting emergency message to all active units...\");\n  }\n}","<div class=\"min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] p-6 lg:p-8 font-sans text-gray-300\">\n  \n  <div class=\"flex justify-between items-center mb-8\">\n    <div>\n      <h1 class=\"text-3xl font-bold text-white tracking-wide\">Personnel Deployment</h1>\n      <p class=\"text-sm text-gray-400 mt-1\">Manage security teams and control crowd flow</p>\n    </div>\n    <div class=\"flex space-x-4\">\n      <button (click)=\"broadcastMessage()\" class=\"bg-[#1e293b] hover:bg-slate-700 text-gray-300 border border-slate-600 px-4 py-2 rounded-lg text-sm font-medium transition-colors\">\n        Broadcast Message\n      </button>\n      <button class=\"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center shadow-[0_0_10px_rgba(37,99,235,0.4)]\">\n        <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\"></path></svg>\n        Add Unit\n      </button>\n    </div>\n  </div>\n\n  <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n    \n    <div class=\"lg:col-span-2\">\n      <app-glass-card customClasses=\"p-6 h-full\">\n        <div class=\"flex items-center mb-6\">\n          <svg class=\"w-5 h-5 text-orange-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"></path><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"></path></svg>\n          <h3 class=\"text-lg font-semibold text-white\">Monitored Zones</h3>\n        </div>\n\n        <div class=\"space-y-4\">\n          <div *ngFor=\"let zone of zones\" \n               class=\"bg-[#0f172a]/80 p-5 rounded-lg border border-slate-700/50 border-l-4\"\n               [ngClass]=\"{\n                 'border-l-red-500': zone.risk === 'Critical',\n                 'border-l-orange-500': zone.risk === 'High',\n                 'border-l-yellow-500': zone.risk === 'Moderate',\n                 'border-l-green-500': zone.risk === 'Low'\n               }\">\n            \n            <div class=\"flex justify-between items-start mb-3\">\n              <div>\n                <h4 class=\"text-lg font-bold text-white\">{{ zone.name }}</h4>\n                <p class=\"text-xs text-gray-400 mt-1\">Units Deployed: <span class=\"font-bold text-gray-200\">{{ zone.deployed }}</span></p>\n              </div>\n              \n               <span class=\"px-3 py-1 text-xs font-bold rounded-md uppercase tracking-wide\"\n                    [ngClass]=\"{\n                      'bg-red-500/20 text-red-500': zone.risk === 'Critical',\n                      'bg-orange-500/20 text-orange-500': zone.risk === 'High',\n                      'bg-yellow-500/20 text-yellow-500': zone.risk === 'Moderate',\n                      'bg-green-500/20 text-green-500': zone.risk === 'Low'\n                    }\">\n                {{ zone.risk }}\n              </span>\n            </div>\n\n            <div class=\"flex items-center space-x-3 mt-4\">\n              <select [(ngModel)]=\"zone.selectedGuard\" class=\"flex-1 bg-[#1e293b] border border-slate-600 rounded-lg px-3 py-2 text-sm text-gray-300 outline-none focus:border-blue-500\">\n                <option value=\"\" disabled selected>Select available unit...</option>\n                <option *ngFor=\"let guard of getAvailableGuards()\" [value]=\"guard.id\">\n                  {{ guard.name }} ({{ guard.gate }})\n                </option>\n              </select>\n              \n              <button (click)=\"dispatchGuard(zone)\" class=\"bg-[#1e3a8a]/40 hover:bg-[#1e3a8a]/80 border border-blue-600/50 text-blue-400 px-5 py-2 rounded-lg text-sm font-semibold transition-colors\">\n                Dispatch\n              </button>\n            </div>\n\n          </div>\n        </div>\n      </app-glass-card>\n    </div>\n\n    <div class=\"lg:col-span-1\">\n      <app-glass-card customClasses=\"p-6 h-full\">\n        <div class=\"flex items-center mb-6\">\n          <svg class=\"w-5 h-5 text-blue-400 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"></path></svg>\n          <h3 class=\"text-lg font-semibold text-white\">Live Roster</h3>\n        </div>\n\n        <div class=\"flex justify-between text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-slate-700/50 pb-2 mb-3 px-2\">\n          <span>Officer Info</span>\n          <span>Status</span>\n        </div>\n\n        <div *ngIf=\"guards.length === 0\" class=\"text-center text-gray-500 py-6 text-sm\">\n          No guards registered. <br> Add them in Settings.\n        </div>\n\n        <div class=\"space-y-1\">\n          <div *ngFor=\"let guard of guards\" class=\"flex justify-between items-center p-3 rounded-md hover:bg-[#1e293b] transition-colors border border-transparent hover:border-slate-700/50\">\n            <div>\n              <p class=\"text-sm font-medium text-gray-200\">{{ guard.name }}</p>\n              <p class=\"text-[10px] text-gray-400 mt-0.5\">{{ guard.mobile }} | {{ guard.gate }}</p>\n            </div>\n            \n            <span class=\"text-xs font-bold\"\n                  [ngClass]=\"{\n                    'text-green-400': guard.status === 'Active',\n                    'text-yellow-500': guard.status === 'On Break',\n                    'text-blue-400': guard.status === 'Responding'\n                  }\">\n              {{ guard.status }}\n            </span>\n          </div>\n        </div>\n      </app-glass-card>\n    </div>\n\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}