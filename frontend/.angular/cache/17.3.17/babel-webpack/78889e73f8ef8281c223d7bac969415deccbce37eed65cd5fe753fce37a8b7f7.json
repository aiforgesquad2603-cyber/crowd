{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ApiService {\n  constructor(http) {\n    this.http = http;\n    // This is your Python FastAPI backend URL\n    this.apiUrl = 'http://localhost:8000/api/guards';\n    // This helps our Guard List auto-refresh when we add a new guard!\n    this.guardsUpdated = new BehaviorSubject(true);\n    this.guardsUpdated$ = this.guardsUpdated.asObservable();\n  }\n  // Get all guards from MongoDB\n  getGuards() {\n    return this.http.get(this.apiUrl);\n  }\n  // Send a new guard to MongoDB\n  addGuard(guardData) {\n    return this.http.post(this.apiUrl, guardData);\n  }\n  // Delete a guard\n  deleteGuard(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`);\n  }\n  // Tell the app to refresh the table\n  notifyGuardsUpdated() {\n    this.guardsUpdated.next(true);\n  }\n  static {\n    this.ɵfac = function ApiService_Factory(t) {\n      return new (t || ApiService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ApiService,\n      factory: ApiService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","ApiService","constructor","http","apiUrl","guardsUpdated","guardsUpdated$","asObservable","getGuards","get","addGuard","guardData","post","deleteGuard","id","delete","notifyGuardsUpdated","next","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\services\\api.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n  \n  // This is your Python FastAPI backend URL\n  private apiUrl = 'http://localhost:8000/api/guards';\n\n  // This helps our Guard List auto-refresh when we add a new guard!\n  private guardsUpdated = new BehaviorSubject<boolean>(true);\n  guardsUpdated$ = this.guardsUpdated.asObservable();\n\n  constructor(private http: HttpClient) { }\n\n  // Get all guards from MongoDB\n  getGuards(): Observable<any> {\n    return this.http.get(this.apiUrl);\n  }\n\n  // Send a new guard to MongoDB\n  addGuard(guardData: any): Observable<any> {\n    return this.http.post(this.apiUrl, guardData);\n  }\n\n  // Delete a guard\n  deleteGuard(id: string): Observable<any> {\n    return this.http.delete(`${this.apiUrl}/${id}`);\n  }\n\n  // Tell the app to refresh the table\n  notifyGuardsUpdated() {\n    this.guardsUpdated.next(true);\n  }\n}"],"mappings":"AAEA,SAASA,eAAe,QAAoB,MAAM;;;AAKlD,OAAM,MAAOC,UAAU;EASrBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAPxB;IACQ,KAAAC,MAAM,GAAG,kCAAkC;IAEnD;IACQ,KAAAC,aAAa,GAAG,IAAIL,eAAe,CAAU,IAAI,CAAC;IAC1D,KAAAM,cAAc,GAAG,IAAI,CAACD,aAAa,CAACE,YAAY,EAAE;EAEV;EAExC;EACAC,SAASA,CAAA;IACP,OAAO,IAAI,CAACL,IAAI,CAACM,GAAG,CAAC,IAAI,CAACL,MAAM,CAAC;EACnC;EAEA;EACAM,QAAQA,CAACC,SAAc;IACrB,OAAO,IAAI,CAACR,IAAI,CAACS,IAAI,CAAC,IAAI,CAACR,MAAM,EAAEO,SAAS,CAAC;EAC/C;EAEA;EACAE,WAAWA,CAACC,EAAU;IACpB,OAAO,IAAI,CAACX,IAAI,CAACY,MAAM,CAAC,GAAG,IAAI,CAACX,MAAM,IAAIU,EAAE,EAAE,CAAC;EACjD;EAEA;EACAE,mBAAmBA,CAAA;IACjB,IAAI,CAACX,aAAa,CAACY,IAAI,CAAC,IAAI,CAAC;EAC/B;;;uBA7BWhB,UAAU,EAAAiB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAVpB,UAAU;MAAAqB,OAAA,EAAVrB,UAAU,CAAAsB,IAAA;MAAAC,UAAA,EAFT;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}