{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/threshold.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../../../shared/glass-card/glass-card.component\";\nexport class ThresholdSettingsComponent {\n  // Inject the ThresholdService to manage global state\n  constructor(thresholdService) {\n    this.thresholdService = thresholdService;\n    // Model bound to the input field in your HTML\n    this.crowdLimit = null;\n  }\n  ngOnInit() {\n    // Subscribe to the service when the component loads.\n    // This ensures the input box always displays the currently active limit (e.g., 50).\n    this.thresholdService.threshold$.subscribe(settings => {\n      this.crowdLimit = settings.crowdLimitPerGate;\n    });\n  }\n  saveThresholds() {\n    // Basic validation to prevent saving empty or negative numbers\n    if (!this.crowdLimit || this.crowdLimit <= 0) {\n      alert('Please enter a valid crowd limit number.');\n      return;\n    }\n    // Call the service to broadcast the new limit to the rest of the application\n    this.thresholdService.updateThreshold(this.crowdLimit);\n    // Provide feedback to the user and the console\n    console.log('Saved new threshold limit:', this.crowdLimit);\n    alert(`System threshold successfully updated to ${this.crowdLimit} people per gate.`);\n  }\n  static {\n    this.ɵfac = function ThresholdSettingsComponent_Factory(t) {\n      return new (t || ThresholdSettingsComponent)(i0.ɵɵdirectiveInject(i1.ThresholdService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ThresholdSettingsComponent,\n      selectors: [[\"app-threshold-settings\"]],\n      decls: 9,\n      vars: 1,\n      consts: [[\"customClasses\", \"p-6 flex flex-col justify-between\"], [1, \"text-xl\", \"font-medium\", \"text-gray-200\", \"mb-6\", \"tracking-wide\"], [1, \"mb-6\"], [\"type\", \"number\", \"placeholder\", \"Crowd Limit per Gate (e.g., 50)\", 1, \"w-full\", \"bg-[#0f172a]/80\", \"border\", \"border-slate-600/50\", \"rounded-lg\", \"px-4\", \"py-3\", \"text-gray-200\", \"placeholder-gray-500\", \"focus:outline-none\", \"focus:border-blue-500\", \"focus:ring-1\", \"focus:ring-blue-500\", \"transition-all\", 3, \"ngModelChange\", \"ngModel\"], [1, \"w-full\", \"bg-gradient-to-b\", \"from-[#3b82f6]\", \"to-[#1d4ed8]\", \"hover:from-[#60a5fa]\", \"hover:to-[#2563eb]\", \"border\", \"border-blue-400/30\", \"text-white\", \"font-medium\", \"py-3\", \"rounded-lg\", \"shadow-[0_0_15px_rgba(59,130,246,0.2)]\", \"transition-all\", \"duration-300\", \"active:scale-[0.98]\", 3, \"click\"]],\n      template: function ThresholdSettingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"app-glass-card\", 0)(1, \"div\")(2, \"h2\", 1);\n          i0.ɵɵtext(3, \"System Thresholds\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"input\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ThresholdSettingsComponent_Template_input_ngModelChange_5_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.crowdLimit, $event) || (ctx.crowdLimit = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(6, \"div\")(7, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function ThresholdSettingsComponent_Template_button_click_7_listener() {\n            return ctx.saveThresholds();\n          });\n          i0.ɵɵtext(8, \" Save Thresholds \");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.crowdLimit);\n        }\n      },\n      dependencies: [i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgModel, i3.GlassCardComponent],\n      styles: [\"\\n\\n[_nghost-%COMP%] {\\n  display: block;\\n  height: 100%;\\n}\\n\\n\\n\\n\\n\\n\\n\\n\\ninput[type=\\\"number\\\"][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=\\\"number\\\"][_ngcontent-%COMP%]::-webkit-outer-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n\\n\\n\\ninput[type=\\\"number\\\"][_ngcontent-%COMP%] {\\n  -moz-appearance: textfield;\\n}\\n\\n\\n\\ninput[type=\\\"number\\\"][_ngcontent-%COMP%]:focus {\\n  box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRocmVzaG9sZC1zZXR0aW5ncy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdFQUF3RTtBQUN4RTtFQUNFLGNBQWM7RUFDZCxZQUFZO0FBQ2Q7O0FBRUE7OzhDQUU4Qzs7QUFFOUMsb0NBQW9DO0FBQ3BDOztFQUVFLHdCQUF3QjtFQUN4QixTQUFTO0FBQ1g7O0FBRUEsZ0JBQWdCO0FBQ2hCO0VBQ0UsMEJBQTBCO0FBQzVCOztBQUVBLHdFQUF3RTtBQUN4RTtFQUNFLDRDQUE0QztBQUM5QyIsImZpbGUiOiJ0aHJlc2hvbGQtc2V0dGluZ3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEVuc3VyZSB0aGUgY29tcG9uZW50IHRha2VzIHVwIHRoZSBmdWxsIGhlaWdodCBvZiBpdHMgZ3JpZCBjb250YWluZXIgKi9cbjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgIEhpZGUgTnVtYmVyIElucHV0IFNwaW5uZXJzIChBcnJvd3MpXG4gICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBGb3IgQ2hyb21lLCBTYWZhcmksIEVkZ2UsIE9wZXJhICovXG5pbnB1dFt0eXBlPVwibnVtYmVyXCJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFxuaW5wdXRbdHlwZT1cIm51bWJlclwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgbWFyZ2luOiAwO1xufVxuXG4vKiBGb3IgRmlyZWZveCAqL1xuaW5wdXRbdHlwZT1cIm51bWJlclwiXSB7XG4gIC1tb3otYXBwZWFyYW5jZTogdGV4dGZpZWxkO1xufVxuXG4vKiBPcHRpb25hbDogRW5oYW5jZSB0aGUgZm9jdXMgZ2xvdyBzbGlnaHRseSBiZXlvbmQgVGFpbHdpbmQncyBkZWZhdWx0ICovXG5pbnB1dFt0eXBlPVwibnVtYmVyXCJdOmZvY3VzIHtcbiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSg1OSwgMTMwLCAyNDYsIDAuMyk7XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc2V0dGluZ3MvY29tcG9uZW50cy90aHJlc2hvbGQtc2V0dGluZ3MvdGhyZXNob2xkLXNldHRpbmdzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsd0VBQXdFO0FBQ3hFO0VBQ0UsY0FBYztFQUNkLFlBQVk7QUFDZDs7QUFFQTs7OENBRThDOztBQUU5QyxvQ0FBb0M7QUFDcEM7O0VBRUUsd0JBQXdCO0VBQ3hCLFNBQVM7QUFDWDs7QUFFQSxnQkFBZ0I7QUFDaEI7RUFDRSwwQkFBMEI7QUFDNUI7O0FBRUEsd0VBQXdFO0FBQ3hFO0VBQ0UsNENBQTRDO0FBQzlDO0FBQ0EsbzRDQUFvNEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBFbnN1cmUgdGhlIGNvbXBvbmVudCB0YWtlcyB1cCB0aGUgZnVsbCBoZWlnaHQgb2YgaXRzIGdyaWQgY29udGFpbmVyICovXG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICBIaWRlIE51bWJlciBJbnB1dCBTcGlubmVycyAoQXJyb3dzKVxuICAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuLyogRm9yIENocm9tZSwgU2FmYXJpLCBFZGdlLCBPcGVyYSAqL1xuaW5wdXRbdHlwZT1cIm51bWJlclwiXTo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbixcbmlucHV0W3R5cGU9XCJudW1iZXJcIl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b24ge1xuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIG1hcmdpbjogMDtcbn1cblxuLyogRm9yIEZpcmVmb3ggKi9cbmlucHV0W3R5cGU9XCJudW1iZXJcIl0ge1xuICAtbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZDtcbn1cblxuLyogT3B0aW9uYWw6IEVuaGFuY2UgdGhlIGZvY3VzIGdsb3cgc2xpZ2h0bHkgYmV5b25kIFRhaWx3aW5kJ3MgZGVmYXVsdCAqL1xuaW5wdXRbdHlwZT1cIm51bWJlclwiXTpmb2N1cyB7XG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjMpO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["ThresholdSettingsComponent","constructor","thresholdService","crowdLimit","ngOnInit","threshold$","subscribe","settings","crowdLimitPerGate","saveThresholds","alert","updateThreshold","console","log","i0","ɵɵdirectiveInject","i1","ThresholdService","selectors","decls","vars","consts","template","ThresholdSettingsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtwoWayListener","ThresholdSettingsComponent_Template_input_ngModelChange_5_listener","$event","ɵɵtwoWayBindingSet","ɵɵlistener","ThresholdSettingsComponent_Template_button_click_7_listener","ɵɵadvance","ɵɵtwoWayProperty"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\settings\\components\\threshold-settings\\threshold-settings.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\settings\\components\\threshold-settings\\threshold-settings.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ThresholdService } from '../../../../services/threshold.service';\n\n@Component({\n  selector: 'app-threshold-settings',\n  templateUrl: './threshold-settings.component.html',\n  styleUrls: ['./threshold-settings.component.css']\n})\nexport class ThresholdSettingsComponent implements OnInit {\n\n  // Model bound to the input field in your HTML\n  crowdLimit: number | null = null;\n\n  // Inject the ThresholdService to manage global state\n  constructor(private thresholdService: ThresholdService) { }\n\n  ngOnInit(): void {\n    // Subscribe to the service when the component loads.\n    // This ensures the input box always displays the currently active limit (e.g., 50).\n    this.thresholdService.threshold$.subscribe(settings => {\n      this.crowdLimit = settings.crowdLimitPerGate;\n    });\n  }\n\n  saveThresholds() {\n    // Basic validation to prevent saving empty or negative numbers\n    if (!this.crowdLimit || this.crowdLimit <= 0) {\n      alert('Please enter a valid crowd limit number.');\n      return;\n    }\n\n    // Call the service to broadcast the new limit to the rest of the application\n    this.thresholdService.updateThreshold(this.crowdLimit);\n    \n    // Provide feedback to the user and the console\n    console.log('Saved new threshold limit:', this.crowdLimit);\n    alert(`System threshold successfully updated to ${this.crowdLimit} people per gate.`);\n  }\n}","<app-glass-card customClasses=\"p-6 flex flex-col justify-between\">\n  \n  <div>\n    <h2 class=\"text-xl font-medium text-gray-200 mb-6 tracking-wide\">System Thresholds</h2>\n\n    <div class=\"mb-6\">\n      <input type=\"number\" \n             [(ngModel)]=\"crowdLimit\" \n             placeholder=\"Crowd Limit per Gate (e.g., 50)\"\n             class=\"w-full bg-[#0f172a]/80 border border-slate-600/50 rounded-lg px-4 py-3 text-gray-200 placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all\">\n    </div>\n  </div>\n\n  <div>\n    <button (click)=\"saveThresholds()\"\n            class=\"w-full bg-gradient-to-b from-[#3b82f6] to-[#1d4ed8] hover:from-[#60a5fa] hover:to-[#2563eb] border border-blue-400/30 text-white font-medium py-3 rounded-lg shadow-[0_0_15px_rgba(59,130,246,0.2)] transition-all duration-300 active:scale-[0.98]\">\n      Save Thresholds\n    </button>\n  </div>\n\n</app-glass-card>"],"mappings":";;;;AAQA,OAAM,MAAOA,0BAA0B;EAKrC;EACAC,YAAoBC,gBAAkC;IAAlC,KAAAA,gBAAgB,GAAhBA,gBAAgB;IAJpC;IACA,KAAAC,UAAU,GAAkB,IAAI;EAG0B;EAE1DC,QAAQA,CAAA;IACN;IACA;IACA,IAAI,CAACF,gBAAgB,CAACG,UAAU,CAACC,SAAS,CAACC,QAAQ,IAAG;MACpD,IAAI,CAACJ,UAAU,GAAGI,QAAQ,CAACC,iBAAiB;IAC9C,CAAC,CAAC;EACJ;EAEAC,cAAcA,CAAA;IACZ;IACA,IAAI,CAAC,IAAI,CAACN,UAAU,IAAI,IAAI,CAACA,UAAU,IAAI,CAAC,EAAE;MAC5CO,KAAK,CAAC,0CAA0C,CAAC;MACjD;IACF;IAEA;IACA,IAAI,CAACR,gBAAgB,CAACS,eAAe,CAAC,IAAI,CAACR,UAAU,CAAC;IAEtD;IACAS,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAACV,UAAU,CAAC;IAC1DO,KAAK,CAAC,4CAA4C,IAAI,CAACP,UAAU,mBAAmB,CAAC;EACvF;;;uBA7BWH,0BAA0B,EAAAc,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,gBAAA;IAAA;EAAA;;;YAA1BjB,0BAA0B;MAAAkB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,oCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCLnCV,EAHJ,CAAAY,cAAA,wBAAkE,UAE3D,YAC8D;UAAAZ,EAAA,CAAAa,MAAA,wBAAiB;UAAAb,EAAA,CAAAc,YAAA,EAAK;UAGrFd,EADF,CAAAY,cAAA,aAAkB,eAIkM;UAF3MZ,EAAA,CAAAe,gBAAA,2BAAAC,mEAAAC,MAAA;YAAAjB,EAAA,CAAAkB,kBAAA,CAAAP,GAAA,CAAAtB,UAAA,EAAA4B,MAAA,MAAAN,GAAA,CAAAtB,UAAA,GAAA4B,MAAA;YAAA,OAAAA,MAAA;UAAA,EAAwB;UAInCjB,EALI,CAAAc,YAAA,EAGkN,EAC9M,EACF;UAGJd,EADF,CAAAY,cAAA,UAAK,gBAEiQ;UAD5PZ,EAAA,CAAAmB,UAAA,mBAAAC,4DAAA;YAAA,OAAST,GAAA,CAAAhB,cAAA,EAAgB;UAAA,EAAC;UAEhCK,EAAA,CAAAa,MAAA,wBACF;UAGJb,EAHI,CAAAc,YAAA,EAAS,EACL,EAES;;;UAbJd,EAAA,CAAAqB,SAAA,GAAwB;UAAxBrB,EAAA,CAAAsB,gBAAA,YAAAX,GAAA,CAAAtB,UAAA,CAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}