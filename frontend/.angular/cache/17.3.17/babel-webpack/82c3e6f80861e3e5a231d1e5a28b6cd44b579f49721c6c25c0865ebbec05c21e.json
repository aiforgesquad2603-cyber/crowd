{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = (a0, a1) => ({\n  \"border-red-500 shadow-[0_0_25px_rgba(239,68,68,0.3)]\": a0,\n  \"border-slate-700/50\": a1\n});\nconst _c1 = (a0, a1) => ({\n  \"opacity-100\": a0,\n  \"opacity-0\": a1\n});\nconst _c2 = (a0, a1) => ({\n  \"text-green-400\": a0,\n  \"text-red-500\": a1\n});\nfunction DemoVidAnalysisComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.stopAllAlarms());\n    });\n    i0.ɵɵtext(1, \" SILENCE ALL ALARMS \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31);\n    i0.ɵɵtext(1, \"OFFLINE\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32);\n    i0.ɵɵtext(1, \"STANDBY\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \"ANALYZING\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 34);\n    i0.ɵɵtext(1, \"NORMAL\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 35);\n    i0.ɵɵtext(1, \"CRITICAL\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"input\", 37);\n    i0.ɵɵlistener(\"change\", function DemoVidAnalysisComponent_div_13_div_13_Template_input_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFileSelected($event, i_r4));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 38);\n    i0.ɵɵelement(3, \"path\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"p\", 40);\n    i0.ɵɵtext(5, \"Add Video\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_video_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"video\", 41);\n  }\n  if (rf & 2) {\n    const cam_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", cam_r5.videoUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 42);\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 43)(1, \"p\", 44);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cam_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c2, !cam_r5.showThermal, cam_r5.showThermal));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", cam_r5.isAnalyzing ? \"--\" : cam_r5.liveCount, \" \");\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_div_13_div_19_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.analyzeCamera(i_r4));\n    });\n    i0.ɵɵtext(2, \"Scan Current Feed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_div_13_div_19_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.clearCamera(i_r4));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(4, \"svg\", 48);\n    i0.ɵɵelement(5, \"path\", 49);\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_20_div_1_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\\u2713 \", msg_r8, \"\");\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_20_div_1_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 61);\n    i0.ɵɵtext(1, \"\\u26A0\\uFE0F No guards assigned here.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_20_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54)(1, \"p\", 55);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 56);\n    i0.ɵɵelement(3, \"path\", 57);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" SMS DISPATCHED: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(5, \"ul\", 58);\n    i0.ɵɵtemplate(6, DemoVidAnalysisComponent_div_13_div_20_div_1_li_6_Template, 2, 1, \"li\", 59)(7, DemoVidAnalysisComponent_div_13_div_20_div_1_li_7_Template, 2, 0, \"li\", 60);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cam_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", cam_r5.analysisResult.messagesSent);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.analysisResult.messagesSent.length === 0);\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_20_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 62);\n    i0.ɵɵtext(1, \" Crowd Levels Normal. No action required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtemplate(1, DemoVidAnalysisComponent_div_13_div_20_div_1_Template, 8, 2, \"div\", 51)(2, DemoVidAnalysisComponent_div_13_div_20_div_2_Template, 2, 0, \"div\", 52);\n    i0.ɵɵelementStart(3, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_div_13_div_20_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.clearCamera(i_r4));\n    });\n    i0.ɵɵtext(4, \"Reset Camera\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cam_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.showThermal);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !cam_r5.showThermal);\n  }\n}\nfunction DemoVidAnalysisComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12)(2, \"div\", 13);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(3, \"svg\", 14);\n    i0.ɵɵelement(4, \"path\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(5, \"span\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, DemoVidAnalysisComponent_div_13_span_7_Template, 2, 0, \"span\", 17)(8, DemoVidAnalysisComponent_div_13_span_8_Template, 2, 0, \"span\", 18)(9, DemoVidAnalysisComponent_div_13_span_9_Template, 2, 0, \"span\", 19)(10, DemoVidAnalysisComponent_div_13_span_10_Template, 2, 0, \"span\", 20)(11, DemoVidAnalysisComponent_div_13_span_11_Template, 2, 0, \"span\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 22);\n    i0.ɵɵtemplate(13, DemoVidAnalysisComponent_div_13_div_13_Template, 6, 0, \"div\", 23)(14, DemoVidAnalysisComponent_div_13_video_14_Template, 1, 1, \"video\", 24)(15, DemoVidAnalysisComponent_div_13_div_15_Template, 1, 0, \"div\", 25);\n    i0.ɵɵelement(16, \"div\", 26);\n    i0.ɵɵtemplate(17, DemoVidAnalysisComponent_div_13_div_17_Template, 3, 5, \"div\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 28);\n    i0.ɵɵtemplate(19, DemoVidAnalysisComponent_div_13_div_19_Template, 6, 0, \"div\", 29)(20, DemoVidAnalysisComponent_div_13_div_20_Template, 5, 2, \"div\", 30);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cam_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(14, _c0, cam_r5.showThermal, !cam_r5.showThermal));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", cam_r5.gateName, \" Feed\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !cam_r5.file);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.file && !cam_r5.isAnalyzing && !cam_r5.analysisResult);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.isAnalyzing);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.analysisResult && !cam_r5.showThermal);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.showThermal);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !cam_r5.file);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.videoUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.isAnalyzing);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c1, cam_r5.showThermal, !cam_r5.showThermal));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.file);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", cam_r5.file && !cam_r5.analysisResult && !cam_r5.isAnalyzing);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", cam_r5.analysisResult);\n  }\n}\nexport let DemoVidAnalysisComponent = /*#__PURE__*/(() => {\n  class DemoVidAnalysisComponent {\n    // To check if ANY alarm is ringing to show the global \"Silence All\" button\n    get isAnyAlarmRinging() {\n      return this.cameras.some(cam => cam.isAlarmRinging);\n    }\n    constructor(http) {\n      this.http = http;\n      // Array to hold dynamic cameras\n      this.cameras = [];\n      // --- NEW: Multi-tenant Account ID ---\n      this.userEmail = '';\n    }\n    ngOnInit() {\n      // 1. Securely fetch the logged-in user's email\n      this.userEmail = localStorage.getItem('userEmail') || '';\n      if (!this.userEmail) return; // Stop if not logged in\n      // 2. DYNAMICALLY FETCH GATES ONLY FOR THIS USER! (Fixes GET 422 Error)\n      this.http.get(`http://localhost:8000/api/cameras?user_email=${this.userEmail}`).subscribe({\n        next: savedCams => {\n          let gateNames = [];\n          if (savedCams.length > 0) {\n            // If you created custom gates in RTSP setup, pull them all!\n            gateNames = savedCams.map(c => c.gate);\n          } else {\n            // Fallback if database is completely empty\n            gateNames = ['Gate 1', 'Gate 2', 'Gate 3', 'Gate 4', 'Gate 5'];\n          }\n          // Create a video box for EVERY gate dynamically!\n          gateNames.forEach((name, index) => {\n            this.cameras.push({\n              id: index + 1,\n              gateName: name,\n              file: null,\n              videoUrl: null,\n              isAnalyzing: false,\n              analysisResult: null,\n              liveCount: 0,\n              showThermal: false,\n              isAlarmRinging: false,\n              alarmInterval: null\n            });\n          });\n        },\n        error: err => {\n          console.error(\"Failed to load dynamic gates from DB\", err);\n        }\n      });\n    }\n    onFileSelected(event, index) {\n      if (event.target.files && event.target.files.length > 0) {\n        const cam = this.cameras[index];\n        cam.file = event.target.files[0];\n        cam.videoUrl = URL.createObjectURL(cam.file);\n        // Reset that specific camera's stats\n        cam.analysisResult = null;\n        cam.liveCount = 0;\n        cam.showThermal = false;\n        this.stopSpecificAlarm(index);\n      }\n    }\n    // Analyze ONE specific camera\n    analyzeCamera(index) {\n      if (!this.userEmail) {\n        alert(\"Security Lock: Please Logout and Login again to sync your account.\");\n        return;\n      }\n      const cam = this.cameras[index];\n      if (!cam.file) return;\n      cam.isAnalyzing = true;\n      cam.analysisResult = null;\n      cam.liveCount = 0;\n      cam.showThermal = false;\n      const formData = new FormData();\n      formData.append('file', cam.file);\n      formData.append('gate', cam.gateName);\n      formData.append('user_email', this.userEmail); // <-- Fixes POST 422 Error!\n      this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n        next: response => {\n          cam.isAnalyzing = false;\n          cam.analysisResult = response;\n          this.animateCounting(index, response.crowdCount, response.thresholdExceeded);\n        },\n        error: err => {\n          console.error(`Analysis Failed for ${cam.gateName}`, err);\n          cam.isAnalyzing = false;\n          alert(`❌ Analysis failed for ${cam.gateName}.`);\n        }\n      });\n    }\n    // Analyze ALL uploaded cameras at the same time!\n    analyzeAllCameras() {\n      this.cameras.forEach((cam, index) => {\n        if (cam.file && !cam.isAnalyzing && !cam.analysisResult) {\n          this.analyzeCamera(index);\n        }\n      });\n    }\n    animateCounting(index, targetCount, isCritical) {\n      const cam = this.cameras[index];\n      let current = 0;\n      const interval = setInterval(() => {\n        current += Math.ceil(targetCount / 20); // Dynamic counting speed\n        if (current >= targetCount) {\n          cam.liveCount = targetCount;\n          clearInterval(interval);\n          if (isCritical) {\n            cam.showThermal = true;\n            this.triggerAudioAlarm(index);\n          }\n        } else {\n          cam.liveCount = current;\n        }\n      }, 50);\n    }\n    triggerAudioAlarm(index) {\n      const cam = this.cameras[index];\n      cam.isAlarmRinging = true;\n      const message = `Critical! High crowd at ${cam.gateName}. Deploy guards to ${cam.gateName} immediately.`;\n      const speech = new SpeechSynthesisUtterance(message);\n      speech.lang = 'en-US';\n      speech.pitch = 0.9;\n      speech.volume = 1.0;\n      window.speechSynthesis.speak(speech);\n      cam.alarmInterval = setInterval(() => {\n        window.speechSynthesis.speak(speech);\n      }, 7000);\n    }\n    stopSpecificAlarm(index) {\n      const cam = this.cameras[index];\n      cam.isAlarmRinging = false;\n      if (cam.alarmInterval) {\n        clearInterval(cam.alarmInterval);\n      }\n    }\n    stopAllAlarms() {\n      this.cameras.forEach((_, index) => this.stopSpecificAlarm(index));\n      window.speechSynthesis.cancel(); // Stops the voice immediately\n    }\n    clearCamera(index) {\n      const cam = this.cameras[index];\n      cam.file = null;\n      cam.videoUrl = null;\n      cam.analysisResult = null;\n      cam.isAnalyzing = false;\n      cam.showThermal = false;\n      this.stopSpecificAlarm(index);\n    }\n    ngOnDestroy() {\n      this.stopAllAlarms();\n    }\n    static {\n      this.ɵfac = function DemoVidAnalysisComponent_Factory(t) {\n        return new (t || DemoVidAnalysisComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DemoVidAnalysisComponent,\n        selectors: [[\"app-demo-vid-analysis\"]],\n        decls: 14,\n        vars: 2,\n        consts: [[1, \"min-h-screen\", \"bg-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"text-gray-300\"], [1, \"mb-6\", \"flex\", \"flex-col\", \"md:flex-row\", \"justify-between\", \"items-start\", \"md:items-center\", \"bg-[#1e293b]\", \"p-5\", \"rounded-xl\", \"border\", \"border-slate-700/50\", \"shadow-lg\"], [1, \"text-3xl\", \"font-bold\", \"text-white\", \"tracking-wide\", \"flex\", \"items-center\"], [1, \"w-3\", \"h-3\", \"bg-red-500\", \"rounded-full\", \"animate-pulse\", \"mr-3\"], [1, \"text-sm\", \"text-gray-400\", \"mt-1\", \"ml-6\"], [1, \"flex\", \"space-x-4\", \"mt-4\", \"md:mt-0\"], [1, \"bg-blue-600\", \"hover:bg-blue-500\", \"text-white\", \"px-6\", \"py-2\", \"rounded-lg\", \"font-bold\", \"shadow-[0_0_15px_rgba(37,99,235,0.4)]\", \"transition-all\", 3, \"click\"], [\"class\", \"bg-red-600 hover:bg-red-500 text-white px-6 py-2 rounded-lg font-bold shadow-[0_0_20px_rgba(220,38,38,0.8)] animate-pulse transition-all\", 3, \"click\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-6\"], [\"class\", \"bg-[#1e293b]/70 border rounded-xl overflow-hidden flex flex-col transition-all duration-500 shadow-xl relative\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-red-600\", \"hover:bg-red-500\", \"text-white\", \"px-6\", \"py-2\", \"rounded-lg\", \"font-bold\", \"shadow-[0_0_20px_rgba(220,38,38,0.8)]\", \"animate-pulse\", \"transition-all\", 3, \"click\"], [1, \"bg-[#1e293b]/70\", \"border\", \"rounded-xl\", \"overflow-hidden\", \"flex\", \"flex-col\", \"transition-all\", \"duration-500\", \"shadow-xl\", \"relative\", 3, \"ngClass\"], [1, \"bg-[#0f172a]\", \"px-4\", \"py-3\", \"flex\", \"justify-between\", \"items-center\", \"border-b\", \"border-slate-700/50\"], [1, \"flex\", \"items-center\", \"space-x-2\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"text-gray-400\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"], [1, \"font-bold\", \"text-white\", \"tracking-wider\"], [\"class\", \"text-[10px] bg-slate-700 text-gray-300 px-2 py-1 rounded font-bold\", 4, \"ngIf\"], [\"class\", \"text-[10px] bg-yellow-500/20 text-yellow-500 px-2 py-1 rounded font-bold\", 4, \"ngIf\"], [\"class\", \"text-[10px] bg-blue-500/20 text-blue-400 px-2 py-1 rounded font-bold animate-pulse\", 4, \"ngIf\"], [\"class\", \"text-[10px] bg-green-500/20 text-green-400 px-2 py-1 rounded font-bold\", 4, \"ngIf\"], [\"class\", \"text-[10px] bg-red-500/20 text-red-500 px-2 py-1 rounded font-bold animate-pulse\", 4, \"ngIf\"], [1, \"relative\", \"w-full\", \"h-56\", \"bg-black\", \"flex\", \"items-center\", \"justify-center\", \"group\"], [\"class\", \"w-full h-full border-2 border-dashed border-slate-600/50 m-2 rounded-lg flex flex-col items-center justify-center hover:border-blue-500 transition-colors relative cursor-pointer\", 4, \"ngIf\"], [\"autoplay\", \"\", \"loop\", \"\", \"muted\", \"\", \"class\", \"absolute inset-0 w-full h-full object-cover\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"scanner-line\", 4, \"ngIf\"], [1, \"absolute\", \"inset-0\", \"bg-red-600/50\", \"mix-blend-multiply\", \"transition-opacity\", \"duration-1000\", \"z-10\", 3, \"ngClass\"], [\"class\", \"absolute top-2 right-2 bg-black/80 px-2 py-1 rounded border border-slate-600 z-20\", 4, \"ngIf\"], [1, \"p-4\", \"bg-[#1e293b]\", \"flex-grow\", \"flex\", \"flex-col\", \"justify-between\"], [\"class\", \"flex justify-between items-center w-full\", 4, \"ngIf\"], [\"class\", \"text-sm\", 4, \"ngIf\"], [1, \"text-[10px]\", \"bg-slate-700\", \"text-gray-300\", \"px-2\", \"py-1\", \"rounded\", \"font-bold\"], [1, \"text-[10px]\", \"bg-yellow-500/20\", \"text-yellow-500\", \"px-2\", \"py-1\", \"rounded\", \"font-bold\"], [1, \"text-[10px]\", \"bg-blue-500/20\", \"text-blue-400\", \"px-2\", \"py-1\", \"rounded\", \"font-bold\", \"animate-pulse\"], [1, \"text-[10px]\", \"bg-green-500/20\", \"text-green-400\", \"px-2\", \"py-1\", \"rounded\", \"font-bold\"], [1, \"text-[10px]\", \"bg-red-500/20\", \"text-red-500\", \"px-2\", \"py-1\", \"rounded\", \"font-bold\", \"animate-pulse\"], [1, \"w-full\", \"h-full\", \"border-2\", \"border-dashed\", \"border-slate-600/50\", \"m-2\", \"rounded-lg\", \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"hover:border-blue-500\", \"transition-colors\", \"relative\", \"cursor-pointer\"], [\"type\", \"file\", \"accept\", \"video/mp4,video/x-m4v,video/*\", 1, \"absolute\", \"inset-0\", \"w-full\", \"h-full\", \"opacity-0\", \"cursor-pointer\", \"z-20\", 3, \"change\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-8\", \"h-8\", \"text-blue-500\", \"mb-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 4v16m8-8H4\"], [1, \"text-xs\", \"text-gray-400\", \"font-medium\"], [\"autoplay\", \"\", \"loop\", \"\", \"muted\", \"\", 1, \"absolute\", \"inset-0\", \"w-full\", \"h-full\", \"object-cover\", 3, \"src\"], [1, \"scanner-line\"], [1, \"absolute\", \"top-2\", \"right-2\", \"bg-black/80\", \"px-2\", \"py-1\", \"rounded\", \"border\", \"border-slate-600\", \"z-20\"], [1, \"text-xl\", \"font-mono\", \"font-bold\", 3, \"ngClass\"], [1, \"flex\", \"justify-between\", \"items-center\", \"w-full\"], [1, \"bg-blue-600\", \"hover:bg-blue-500\", \"text-white\", \"text-xs\", \"px-4\", \"py-2\", \"rounded\", \"font-bold\", \"w-full\", \"mr-2\", 3, \"click\"], [1, \"bg-slate-700\", \"hover:bg-slate-600\", \"text-white\", \"text-xs\", \"p-2\", \"rounded\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-4\", \"h-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"], [1, \"text-sm\"], [\"class\", \"mb-2\", 4, \"ngIf\"], [\"class\", \"text-green-400 text-xs font-bold bg-green-500/10 p-2 rounded border border-green-500/20 text-center\", 4, \"ngIf\"], [1, \"mt-3\", \"text-xs\", \"text-gray-400\", \"hover:text-white\", \"underline\", \"w-full\", \"text-center\", 3, \"click\"], [1, \"mb-2\"], [1, \"text-red-400\", \"font-bold\", \"text-xs\", \"flex\", \"items-center\", \"mb-1\"], [\"fill\", \"currentColor\", \"viewBox\", \"0 0 20 20\", 1, \"w-4\", \"h-4\", \"mr-1\", \"animate-pulse\"], [\"fill-rule\", \"evenodd\", \"d\", \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z\", \"clip-rule\", \"evenodd\"], [1, \"text-[10px]\", \"text-gray-300\", \"bg-red-500/10\", \"p-2\", \"rounded\", \"border\", \"border-red-500/20\", \"max-h-16\", \"overflow-y-auto\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"text-orange-400\", 4, \"ngIf\"], [1, \"text-orange-400\"], [1, \"text-green-400\", \"text-xs\", \"font-bold\", \"bg-green-500/10\", \"p-2\", \"rounded\", \"border\", \"border-green-500/20\", \"text-center\"]],\n        template: function DemoVidAnalysisComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n            i0.ɵɵelement(4, \"div\", 3);\n            i0.ɵɵtext(5, \" Live CCTV Command Center \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"p\", 4);\n            i0.ɵɵtext(7, \"Simultaneous Multi-Gate Threat Detection & Alert Routing\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 5)(9, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_Template_button_click_9_listener() {\n              return ctx.analyzeAllCameras();\n            });\n            i0.ɵɵtext(10, \" Scan All Uploaded Feeds \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(11, DemoVidAnalysisComponent_button_11_Template, 2, 0, \"button\", 7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 8);\n            i0.ɵɵtemplate(13, DemoVidAnalysisComponent_div_13_Template, 21, 20, \"div\", 9);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(11);\n            i0.ɵɵproperty(\"ngIf\", ctx.isAnyAlarmRinging);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.cameras);\n          }\n        },\n        dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n        styles: [\".scanner-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:3px;background:#22c55ee6;box-shadow:0 0 10px #22c55e;animation:_ngcontent-%COMP%_scan 2s linear infinite;z-index:20}@keyframes _ngcontent-%COMP%_scan{0%{top:0}50%{top:100%}to{top:0}}\"]\n      });\n    }\n  }\n  return DemoVidAnalysisComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}