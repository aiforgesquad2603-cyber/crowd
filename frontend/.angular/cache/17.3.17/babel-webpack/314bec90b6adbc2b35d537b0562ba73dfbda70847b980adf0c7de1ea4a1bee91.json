{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = (a0, a1) => ({\n  \"text-red-500\": a0,\n  \"text-green-500\": a1\n});\nfunction DemoVidAnalysisComponent__svg_svg_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µnamespaceSVG();\n    i0.…µ…µelementStart(0, \"svg\", 16);\n    i0.…µ…µelement(1, \"circle\", 17)(2, \"path\", 18);\n    i0.…µ…µelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_25_div_14_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"span\", 31);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r1 = ctx.$implicit;\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \\uD83D\\uDCF1 \", msg_r1, \" \");\n  }\n}\nfunction DemoVidAnalysisComponent_div_25_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 27)(1, \"p\", 28);\n    i0.…µ…µtext(2, \"Automated SMS Dispatched To Guards:\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"div\", 29);\n    i0.…µ…µtemplate(4, DemoVidAnalysisComponent_div_25_div_14_span_4_Template, 2, 1, \"span\", 30);\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r1.analysisResult.messagesSent);\n  }\n}\nfunction DemoVidAnalysisComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 19)(1, \"h3\", 20);\n    i0.…µ…µtext(2, \"AI Scan Results\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"div\", 21)(4, \"div\", 22)(5, \"p\", 23);\n    i0.…µ…µtext(6, \"Human Count\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(7, \"p\", 24);\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(9, \"div\", 22)(10, \"p\", 23);\n    i0.…µ…µtext(11, \"Threat Status\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"p\", 25);\n    i0.…µ…µtext(13);\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µtemplate(14, DemoVidAnalysisComponent_div_25_div_14_Template, 5, 1, \"div\", 26);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(8);\n    i0.…µ…µtextInterpolate(ctx_r1.analysisResult.crowdCount);\n    i0.…µ…µadvance(4);\n    i0.…µ…µproperty(\"ngClass\", i0.…µ…µpureFunction2(4, _c0, ctx_r1.analysisResult.thresholdExceeded, !ctx_r1.analysisResult.thresholdExceeded));\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", ctx_r1.analysisResult.thresholdExceeded ? \"\\uD83D\\uDEA8 CRITICAL (DANGER)\" : \"\\u2705 NORMAL (SAFE)\", \" \");\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngIf\", (ctx_r1.analysisResult.messagesSent == null ? null : ctx_r1.analysisResult.messagesSent.length) > 0);\n  }\n}\nexport class DemoVidAnalysisComponent {\n  constructor(http) {\n    this.http = http;\n    this.selectedFile = null;\n    this.selectedGate = 'Gate 1';\n    this.userEmail = '';\n    this.isAnalyzing = false;\n    this.analysisResult = null;\n  }\n  ngOnInit() {\n    // Securely fetch account email\n    this.userEmail = localStorage.getItem('userEmail') || '';\n  }\n  // When user selects a video file\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      this.selectedFile = file;\n    }\n  }\n  uploadAndAnalyze() {\n    if (!this.selectedFile) {\n      alert(\"‚ö†Ô∏è Please select an .mp4 video file first!\");\n      return;\n    }\n    if (!this.userEmail) {\n      alert(\"üîí Security Lock: Please re-login to sync your account.\");\n      return;\n    }\n    this.isAnalyzing = true;\n    this.analysisResult = null; // Clear old results\n    // üöÄ We MUST use FormData to send files to FastAPI\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n    formData.append('gate', this.selectedGate);\n    formData.append('user_email', this.userEmail); // <-- Protects against 422 Error!\n    // Send to Python AI Backend\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: res => {\n        this.isAnalyzing = false;\n        this.analysisResult = res; // Save the result to show in HTML\n        if (res.thresholdExceeded) {\n          alert(`üö® ALERT: High crowd detected! ${res.crowdCount} people counted.`);\n        } else {\n          alert(`‚úÖ Analysis Complete! ${res.crowdCount} people counted.`);\n        }\n      },\n      error: err => {\n        this.isAnalyzing = false;\n        console.error(\"Upload Error:\", err);\n        alert(\"‚ùå Failed to analyze video. Check Python terminal.\");\n      }\n    });\n  }\n  static {\n    this.…µfac = function DemoVidAnalysisComponent_Factory(t) {\n      return new (t || DemoVidAnalysisComponent)(i0.…µ…µdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: DemoVidAnalysisComponent,\n      selectors: [[\"app-demo-vid-analysis\"]],\n      decls: 26,\n      vars: 5,\n      consts: [[1, \"p-6\"], [1, \"mb-8\"], [1, \"text-3xl\", \"font-extrabold\", \"text-white\", \"flex\", \"items-center\"], [1, \"w-3\", \"h-8\", \"bg-teal-500\", \"rounded-full\", \"mr-3\"], [1, \"text-slate-400\", \"mt-2\", \"ml-6\"], [1, \"bg-[#1e293b]\", \"rounded-2xl\", \"p-8\", \"border\", \"border-slate-700\", \"max-w-2xl\", \"shadow-xl\"], [1, \"mb-6\"], [1, \"block\", \"text-gray-400\", \"text-sm\", \"font-bold\", \"mb-2\", \"uppercase\", \"tracking-wide\"], [1, \"w-full\", \"bg-[#0f172a]\", \"text-white\", \"border\", \"border-slate-600\", \"rounded-lg\", \"p-3\", \"outline-none\", \"focus:border-teal-500\", \"transition-colors\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"Gate 1\"], [\"value\", \"Gate 2\"], [\"value\", \"Gate 3\"], [\"type\", \"file\", \"accept\", \"video/mp4,video/avi,video/x-m4v,video/*\", 1, \"w-full\", \"text-white\", \"bg-[#0f172a]\", \"rounded-lg\", \"p-2\", \"border\", \"border-slate-600\", \"file:mr-4\", \"file:py-2\", \"file:px-4\", \"file:rounded-lg\", \"file:border-0\", \"file:text-sm\", \"file:font-bold\", \"file:bg-teal-500\", \"file:text-white\", \"hover:file:bg-teal-400\", \"transition-all\", \"cursor-pointer\", 3, \"change\"], [1, \"w-full\", \"bg-gradient-to-r\", \"from-teal-500\", \"to-blue-500\", \"hover:from-teal-400\", \"hover:to-blue-400\", \"text-white\", \"font-extrabold\", \"py-4\", \"px-4\", \"rounded-xl\", \"shadow-lg\", \"transition-all\", \"transform\", \"hover:scale-[1.01]\", \"disabled:opacity-50\", \"flex\", \"justify-center\", \"items-center\", 3, \"click\", \"disabled\"], [\"class\", \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 4, \"ngIf\"], [\"class\", \"mt-8 bg-[#1e293b] rounded-2xl p-8 border border-slate-700 max-w-2xl shadow-xl animate-fade-in\", 4, \"ngIf\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 1, \"animate-spin\", \"-ml-1\", \"mr-3\", \"h-5\", \"w-5\", \"text-white\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"10\", \"stroke\", \"currentColor\", \"stroke-width\", \"4\", 1, \"opacity-25\"], [\"fill\", \"currentColor\", \"d\", \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\", 1, \"opacity-75\"], [1, \"mt-8\", \"bg-[#1e293b]\", \"rounded-2xl\", \"p-8\", \"border\", \"border-slate-700\", \"max-w-2xl\", \"shadow-xl\", \"animate-fade-in\"], [1, \"text-2xl\", \"font-bold\", \"text-white\", \"mb-6\", \"border-b\", \"border-slate-600\", \"pb-2\"], [1, \"grid\", \"grid-cols-2\", \"gap-6\"], [1, \"bg-[#0f172a]\", \"p-4\", \"rounded-xl\", \"border\", \"border-slate-700\"], [1, \"text-slate-400\", \"text-xs\", \"uppercase\", \"font-bold\", \"tracking-wider\", \"mb-1\"], [1, \"text-4xl\", \"font-extrabold\", \"text-teal-400\"], [1, \"text-xl\", \"font-bold\", \"mt-2\", 3, \"ngClass\"], [\"class\", \"mt-6\", 4, \"ngIf\"], [1, \"mt-6\"], [1, \"text-slate-400\", \"text-xs\", \"uppercase\", \"font-bold\", \"tracking-wider\", \"mb-2\"], [1, \"flex\", \"flex-wrap\", \"gap-2\"], [\"class\", \"bg-blue-900/50 text-blue-300 border border-blue-700 px-3 py-1 rounded-full text-sm font-semibold\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-blue-900/50\", \"text-blue-300\", \"border\", \"border-blue-700\", \"px-3\", \"py-1\", \"rounded-full\", \"text-sm\", \"font-semibold\"]],\n      template: function DemoVidAnalysisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.…µ…µelement(3, \"span\", 3);\n          i0.…µ…µtext(4, \" Demo Video Analysis \");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(5, \"p\", 4);\n          i0.…µ…µtext(6, \"Upload pre-recorded CCTV footage to test the AI Engine.\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"label\", 7);\n          i0.…µ…µtext(10, \"Target Security Zone\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(11, \"select\", 8);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function DemoVidAnalysisComponent_Template_select_ngModelChange_11_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.selectedGate, $event) || (ctx.selectedGate = $event);\n            return $event;\n          });\n          i0.…µ…µelementStart(12, \"option\", 9);\n          i0.…µ…µtext(13, \"Gate 1\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(14, \"option\", 10);\n          i0.…µ…µtext(15, \"Gate 2\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(16, \"option\", 11);\n          i0.…µ…µtext(17, \"Gate 3\");\n          i0.…µ…µelementEnd()()();\n          i0.…µ…µelementStart(18, \"div\", 1)(19, \"label\", 7);\n          i0.…µ…µtext(20, \"Select Video File (.mp4)\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(21, \"input\", 12);\n          i0.…µ…µlistener(\"change\", function DemoVidAnalysisComponent_Template_input_change_21_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(22, \"button\", 13);\n          i0.…µ…µlistener(\"click\", function DemoVidAnalysisComponent_Template_button_click_22_listener() {\n            return ctx.uploadAndAnalyze();\n          });\n          i0.…µ…µtemplate(23, DemoVidAnalysisComponent__svg_svg_23_Template, 3, 0, \"svg\", 14);\n          i0.…µ…µtext(24);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µtemplate(25, DemoVidAnalysisComponent_div_25_Template, 15, 7, \"div\", 15);\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(11);\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.selectedGate);\n          i0.…µ…µadvance(11);\n          i0.…µ…µproperty(\"disabled\", ctx.isAnalyzing);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", ctx.isAnalyzing);\n          i0.…µ…µadvance();\n          i0.…µ…µtextInterpolate1(\" \", ctx.isAnalyzing ? \"YOLOv8 AI IS ANALYZING THE VIDEO...\" : \"INITIATE AI ANALYSIS\", \" \");\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", ctx.analysisResult);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.…µNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n      styles: [\".scanner-line[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 3px;\\n  background: rgba(34, 197, 94, 0.9);\\n  box-shadow: 0 0 10px rgba(34, 197, 94, 1);\\n  animation: _ngcontent-%COMP%_scan 2s linear infinite;\\n  z-index: 20;\\n}\\n\\n@keyframes _ngcontent-%COMP%_scan {\\n  0% { top: 0; }\\n  50% { top: 100%; }\\n  100% { top: 0; }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbW8tdmlkLWFuYWx5c2lzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxXQUFXO0VBQ1gsV0FBVztFQUNYLGtDQUFrQztFQUNsQyx5Q0FBeUM7RUFDekMsa0NBQWtDO0VBQ2xDLFdBQVc7QUFDYjs7QUFFQTtFQUNFLEtBQUssTUFBTSxFQUFFO0VBQ2IsTUFBTSxTQUFTLEVBQUU7RUFDakIsT0FBTyxNQUFNLEVBQUU7QUFDakIiLCJmaWxlIjoiZGVtby12aWQtYW5hbHlzaXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zY2FubmVyLWxpbmUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogM3B4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDM0LCAxOTcsIDk0LCAwLjkpO1xuICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDM0LCAxOTcsIDk0LCAxKTtcbiAgYW5pbWF0aW9uOiBzY2FuIDJzIGxpbmVhciBpbmZpbml0ZTtcbiAgei1pbmRleDogMjA7XG59XG5cbkBrZXlmcmFtZXMgc2NhbiB7XG4gIDAlIHsgdG9wOiAwOyB9XG4gIDUwJSB7IHRvcDogMTAwJTsgfVxuICAxMDAlIHsgdG9wOiAwOyB9XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZGVtby12aWQtYW5hbHlzaXMvZGVtby12aWQtYW5hbHlzaXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sT0FBTztFQUNQLFdBQVc7RUFDWCxXQUFXO0VBQ1gsa0NBQWtDO0VBQ2xDLHlDQUF5QztFQUN6QyxrQ0FBa0M7RUFDbEMsV0FBVztBQUNiOztBQUVBO0VBQ0UsS0FBSyxNQUFNLEVBQUU7RUFDYixNQUFNLFNBQVMsRUFBRTtFQUNqQixPQUFPLE1BQU0sRUFBRTtBQUNqQjtBQUNBLHc1QkFBdzVCIiwic291cmNlc0NvbnRlbnQiOlsiLnNjYW5uZXItbGluZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAzcHg7XG4gIGJhY2tncm91bmQ6IHJnYmEoMzQsIDE5NywgOTQsIDAuOSk7XG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMzQsIDE5NywgOTQsIDEpO1xuICBhbmltYXRpb246IHNjYW4gMnMgbGluZWFyIGluZmluaXRlO1xuICB6LWluZGV4OiAyMDtcbn1cblxuQGtleWZyYW1lcyBzY2FuIHtcbiAgMCUgeyB0b3A6IDA7IH1cbiAgNTAlIHsgdG9wOiAxMDAlOyB9XG4gIDEwMCUgeyB0b3A6IDA7IH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","…µ…µelementStart","…µ…µelement","…µ…µelementEnd","…µ…µtext","…µ…µadvance","…µ…µtextInterpolate1","msg_r1","…µ…µtemplate","DemoVidAnalysisComponent_div_25_div_14_span_4_Template","…µ…µproperty","ctx_r1","analysisResult","messagesSent","DemoVidAnalysisComponent_div_25_div_14_Template","…µ…µtextInterpolate","crowdCount","…µ…µpureFunction2","_c0","thresholdExceeded","length","DemoVidAnalysisComponent","constructor","http","selectedFile","selectedGate","userEmail","isAnalyzing","ngOnInit","localStorage","getItem","onFileSelected","event","file","target","files","uploadAndAnalyze","alert","formData","FormData","append","post","subscribe","next","res","error","err","console","…µ…µdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","DemoVidAnalysisComponent_Template","rf","ctx","…µ…µtwoWayListener","DemoVidAnalysisComponent_Template_select_ngModelChange_11_listener","$event","…µ…µtwoWayBindingSet","…µ…µlistener","DemoVidAnalysisComponent_Template_input_change_21_listener","DemoVidAnalysisComponent_Template_button_click_22_listener","DemoVidAnalysisComponent__svg_svg_23_Template","DemoVidAnalysisComponent_div_25_Template","…µ…µtwoWayProperty"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-demo-vid-analysis',\n  templateUrl: './demo-vid-analysis.component.html',\n  styleUrls: ['./demo-vid-analysis.component.css']\n})\nexport class DemoVidAnalysisComponent implements OnInit {\n  \n  selectedFile: File | null = null;\n  selectedGate: string = 'Gate 1';\n  userEmail: string = '';\n  \n  isAnalyzing: boolean = false;\n  analysisResult: any = null;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    // Securely fetch account email\n    this.userEmail = localStorage.getItem('userEmail') || '';\n  }\n\n  // When user selects a video file\n  onFileSelected(event: any) {\n    const file = event.target.files[0];\n    if (file) {\n      this.selectedFile = file;\n    }\n  }\n\n  uploadAndAnalyze() {\n    if (!this.selectedFile) {\n      alert(\"‚ö†Ô∏è Please select an .mp4 video file first!\");\n      return;\n    }\n    if (!this.userEmail) {\n      alert(\"üîí Security Lock: Please re-login to sync your account.\");\n      return;\n    }\n\n    this.isAnalyzing = true;\n    this.analysisResult = null; // Clear old results\n\n    // üöÄ We MUST use FormData to send files to FastAPI\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n    formData.append('gate', this.selectedGate);\n    formData.append('user_email', this.userEmail); // <-- Protects against 422 Error!\n\n    // Send to Python AI Backend\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: (res: any) => {\n        this.isAnalyzing = false;\n        this.analysisResult = res; // Save the result to show in HTML\n        \n        if (res.thresholdExceeded) {\n          alert(`üö® ALERT: High crowd detected! ${res.crowdCount} people counted.`);\n        } else {\n          alert(`‚úÖ Analysis Complete! ${res.crowdCount} people counted.`);\n        }\n      },\n      error: (err) => {\n        this.isAnalyzing = false;\n        console.error(\"Upload Error:\", err);\n        alert(\"‚ùå Failed to analyze video. Check Python terminal.\");\n      }\n    });\n  }\n}","<div class=\"p-6\">\n  \n  <div class=\"mb-8\">\n    <h1 class=\"text-3xl font-extrabold text-white flex items-center\">\n      <span class=\"w-3 h-8 bg-teal-500 rounded-full mr-3\"></span>\n      Demo Video Analysis\n    </h1>\n    <p class=\"text-slate-400 mt-2 ml-6\">Upload pre-recorded CCTV footage to test the AI Engine.</p>\n  </div>\n\n  <div class=\"bg-[#1e293b] rounded-2xl p-8 border border-slate-700 max-w-2xl shadow-xl\">\n    \n    <div class=\"mb-6\">\n      <label class=\"block text-gray-400 text-sm font-bold mb-2 uppercase tracking-wide\">Target Security Zone</label>\n      <select [(ngModel)]=\"selectedGate\" class=\"w-full bg-[#0f172a] text-white border border-slate-600 rounded-lg p-3 outline-none focus:border-teal-500 transition-colors\">\n        <option value=\"Gate 1\">Gate 1</option>\n        <option value=\"Gate 2\">Gate 2</option>\n        <option value=\"Gate 3\">Gate 3</option>\n      </select>\n    </div>\n\n    <div class=\"mb-8\">\n      <label class=\"block text-gray-400 text-sm font-bold mb-2 uppercase tracking-wide\">Select Video File (.mp4)</label>\n      <input type=\"file\" accept=\"video/mp4,video/avi,video/x-m4v,video/*\" (change)=\"onFileSelected($event)\" \n             class=\"w-full text-white bg-[#0f172a] rounded-lg p-2 border border-slate-600 \n                    file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 \n                    file:text-sm file:font-bold file:bg-teal-500 file:text-white hover:file:bg-teal-400 transition-all cursor-pointer\">\n    </div>\n\n    <button (click)=\"uploadAndAnalyze()\" [disabled]=\"isAnalyzing\" \n            class=\"w-full bg-gradient-to-r from-teal-500 to-blue-500 hover:from-teal-400 hover:to-blue-400 text-white font-extrabold py-4 px-4 rounded-xl shadow-lg transition-all transform hover:scale-[1.01] disabled:opacity-50 flex justify-center items-center\">\n      \n      <svg *ngIf=\"isAnalyzing\" class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"><circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle><path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n      \n      {{ isAnalyzing ? 'YOLOv8 AI IS ANALYZING THE VIDEO...' : 'INITIATE AI ANALYSIS' }}\n    </button>\n  </div>\n\n  <div *ngIf=\"analysisResult\" class=\"mt-8 bg-[#1e293b] rounded-2xl p-8 border border-slate-700 max-w-2xl shadow-xl animate-fade-in\">\n    <h3 class=\"text-2xl font-bold text-white mb-6 border-b border-slate-600 pb-2\">AI Scan Results</h3>\n    \n    <div class=\"grid grid-cols-2 gap-6\">\n      <div class=\"bg-[#0f172a] p-4 rounded-xl border border-slate-700\">\n        <p class=\"text-slate-400 text-xs uppercase font-bold tracking-wider mb-1\">Human Count</p>\n        <p class=\"text-4xl font-extrabold text-teal-400\">{{ analysisResult.crowdCount }}</p>\n      </div>\n\n      <div class=\"bg-[#0f172a] p-4 rounded-xl border border-slate-700\">\n        <p class=\"text-slate-400 text-xs uppercase font-bold tracking-wider mb-1\">Threat Status</p>\n        <p class=\"text-xl font-bold mt-2\" [ngClass]=\"{'text-red-500': analysisResult.thresholdExceeded, 'text-green-500': !analysisResult.thresholdExceeded}\">\n          {{ analysisResult.thresholdExceeded ? 'üö® CRITICAL (DANGER)' : '‚úÖ NORMAL (SAFE)' }}\n        </p>\n      </div>\n    </div>\n\n    <div class=\"mt-6\" *ngIf=\"analysisResult.messagesSent?.length > 0\">\n      <p class=\"text-slate-400 text-xs uppercase font-bold tracking-wider mb-2\">Automated SMS Dispatched To Guards:</p>\n      <div class=\"flex flex-wrap gap-2\">\n        <span *ngFor=\"let msg of analysisResult.messagesSent\" class=\"bg-blue-900/50 text-blue-300 border border-blue-700 px-3 py-1 rounded-full text-sm font-semibold\">\n          üì± {{ msg }}\n        </span>\n      </div>\n    </div>\n  </div>\n\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}