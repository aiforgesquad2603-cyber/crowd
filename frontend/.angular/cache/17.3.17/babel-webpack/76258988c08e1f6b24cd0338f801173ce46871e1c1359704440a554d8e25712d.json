{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../shared/glass-card/glass-card.component\";\nconst _c0 = (a0, a1) => ({\n  \"border-l-green-500\": a0,\n  \"border-l-slate-600\": a1\n});\nconst _c1 = (a0, a1) => ({\n  \"bg-green-500/20 text-green-400\": a0,\n  \"bg-slate-700 text-gray-400\": a1\n});\nconst _c2 = (a0, a1) => ({\n  \"bg-green-500 animate-pulse\": a0,\n  \"bg-gray-500\": a1\n});\nfunction CameraSetupComponent_app_glass_card_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"app-glass-card\", 11)(1, \"div\", 12)(2, \"h3\", 13);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"span\", 14);\n    i0.…µ…µelement(5, \"div\", 15);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(7, \"div\", 16)(8, \"label\", 17);\n    i0.…µ…µtext(9, \"Network Stream URL (RTSP / HTTP)\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"div\", 18)(11, \"span\", 19);\n    i0.…µ…µnamespaceSVG();\n    i0.…µ…µelementStart(12, \"svg\", 20);\n    i0.…µ…µelement(13, \"path\", 21);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µnamespaceHTML();\n    i0.…µ…µelementStart(14, \"input\", 22);\n    i0.…µ…µtwoWayListener(\"ngModelChange\", function CameraSetupComponent_app_glass_card_14_Template_input_ngModelChange_14_listener($event) {\n      const cam_r2 = i0.…µ…µrestoreView(_r1).$implicit;\n      i0.…µ…µtwoWayBindingSet(cam_r2.rtsp_url, $event) || (cam_r2.rtsp_url = $event);\n      return i0.…µ…µresetView($event);\n    });\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(15, \"div\", 23)(16, \"button\", 24);\n    i0.…µ…µlistener(\"click\", function CameraSetupComponent_app_glass_card_14_Template_button_click_16_listener() {\n      const cam_r2 = i0.…µ…µrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r2.testConnection(cam_r2));\n    });\n    i0.…µ…µtext(17, \" Ping Camera \");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(18, \"button\", 25);\n    i0.…µ…µlistener(\"click\", function CameraSetupComponent_app_glass_card_14_Template_button_click_18_listener() {\n      const cam_r2 = i0.…µ…µrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r2.saveCamera(cam_r2));\n    });\n    i0.…µ…µtext(19);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const cam_r2 = ctx.$implicit;\n    i0.…µ…µproperty(\"ngClass\", i0.…µ…µpureFunction2(7, _c0, cam_r2.status === \"Live\", cam_r2.status === \"Offline\"));\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(cam_r2.gate);\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngClass\", i0.…µ…µpureFunction2(10, _c1, cam_r2.status === \"Live\", cam_r2.status === \"Offline\"));\n    i0.…µ…µadvance();\n    i0.…µ…µproperty(\"ngClass\", i0.…µ…µpureFunction2(13, _c2, cam_r2.status === \"Live\", cam_r2.status === \"Offline\"));\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", cam_r2.status, \" \");\n    i0.…µ…µadvance(8);\n    i0.…µ…µtwoWayProperty(\"ngModel\", cam_r2.rtsp_url);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate1(\" \", cam_r2.isSaving ? \"Saving...\" : \"Save Configuration\", \" \");\n  }\n}\nexport class CameraSetupComponent {\n  constructor(http) {\n    this.http = http;\n    this.cameraNodes = [];\n    this.userEmail = '';\n  }\n  ngOnInit() {\n    this.userEmail = localStorage.getItem('userEmail') || '';\n    this.loadSavedCameras();\n  }\n  loadSavedCameras() {\n    if (!this.userEmail) return;\n    this.http.get(`http://localhost:8000/api/cameras?user_email=${this.userEmail}`).subscribe({\n      next: savedCams => {\n        if (savedCams.length > 0) {\n          this.cameraNodes = savedCams.map(cam => ({\n            gate: cam.gate,\n            rtsp_url: cam.rtsp_url === '0' ? '0' : cam.rtsp_url,\n            status: cam.status,\n            isSaving: false\n          }));\n        } else {\n          for (let i = 1; i <= 5; i++) {\n            this.cameraNodes.push({\n              gate: `Gate ${i}`,\n              rtsp_url: '',\n              status: 'Offline',\n              isSaving: false\n            });\n          }\n        }\n      },\n      error: err => console.error(\"Could not load cameras\", err)\n    });\n  }\n  addNewGate() {\n    const nextNumber = this.cameraNodes.length + 1;\n    this.cameraNodes.push({\n      gate: `Gate ${nextNumber}`,\n      rtsp_url: '',\n      status: 'Offline',\n      isSaving: false\n    });\n  }\n  saveCamera(cam) {\n    if (!this.userEmail) {\n      alert(\"Please Logout and Login again to sync your account.\");\n      return;\n    }\n    cam.isSaving = true;\n    const payload = {\n      gate: cam.gate || `Unknown Gate`,\n      rtsp_url: cam.rtsp_url || \"0\",\n      status: cam.rtsp_url || cam.rtsp_url === \"0\" ? 'Live' : 'Offline',\n      user_email: this.userEmail\n    };\n    this.http.post('http://localhost:8000/api/cameras', payload).subscribe({\n      next: res => {\n        cam.isSaving = false;\n        cam.status = payload.status;\n        cam.rtsp_url = payload.rtsp_url;\n        alert(`‚úÖ ${cam.gate} network node created & saved for your account!`);\n      },\n      error: err => {\n        cam.isSaving = false;\n        alert(\"‚ùå Failed to save to database. Check terminal for details.\");\n      }\n    });\n  }\n  // --- NEW: FUNCTION TO REMOVE CAMERA ---\n  removeCamera(cam) {\n    if (!confirm(`Are you sure you want to remove the camera stream from ${cam.gate}?`)) {\n      return; // Cancel the delete if user clicks \"No\"\n    }\n    cam.isSaving = true;\n    // We send an EMPTY URL to overwrite the database!\n    const payload = {\n      gate: cam.gate,\n      rtsp_url: \"\",\n      status: \"Offline\",\n      user_email: this.userEmail\n    };\n    this.http.post('http://localhost:8000/api/cameras', payload).subscribe({\n      next: res => {\n        cam.isSaving = false;\n        cam.status = \"Offline\";\n        cam.rtsp_url = \"\"; // Clear the UI box\n        alert(`üóëÔ∏è Camera removed from ${cam.gate} successfully!`);\n      },\n      error: err => {\n        cam.isSaving = false;\n        alert(\"‚ùå Failed to remove camera.\");\n      }\n    });\n  }\n  testConnection(cam) {\n    if (!cam.rtsp_url) {\n      alert(\"Please enter an RTSP URL first.\");\n      return;\n    }\n    alert(`üì° Pinging ${cam.rtsp_url}... \\nConnection successful!`);\n  }\n  static {\n    this.…µfac = function CameraSetupComponent_Factory(t) {\n      return new (t || CameraSetupComponent)(i0.…µ…µdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: CameraSetupComponent,\n      selectors: [[\"app-camera-setup\"]],\n      decls: 15,\n      vars: 1,\n      consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-[#0f172a]\", \"via-[#1e293b]\", \"to-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"text-gray-300\"], [1, \"mb-8\", \"border-b\", \"border-slate-700/50\", \"pb-5\", \"flex\", \"justify-between\", \"items-center\"], [1, \"text-3xl\", \"font-bold\", \"text-white\", \"tracking-wide\", \"flex\", \"items-center\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-8\", \"h-8\", \"mr-3\", \"text-blue-500\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"], [1, \"text-sm\", \"text-gray-400\", \"mt-2\", \"ml-11\"], [1, \"bg-teal-600\", \"hover:bg-teal-500\", \"text-white\", \"px-5\", \"py-2.5\", \"rounded-lg\", \"font-bold\", \"shadow-lg\", \"flex\", \"items-center\", \"transition-all\", \"transform\", \"hover:scale-105\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-5\", \"h-5\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 4v16m8-8H4\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-2\", \"gap-6\"], [\"customClasses\", \"p-6 border-l-4 transition-colors\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"customClasses\", \"p-6 border-l-4 transition-colors\", 3, \"ngClass\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-4\"], [1, \"text-xl\", \"font-bold\", \"text-white\"], [1, \"px-3\", \"py-1\", \"text-[10px]\", \"font-bold\", \"rounded-md\", \"uppercase\", \"tracking-wide\", \"flex\", \"items-center\", 3, \"ngClass\"], [1, \"w-2\", \"h-2\", \"rounded-full\", \"mr-2\", 3, \"ngClass\"], [1, \"mb-4\"], [1, \"block\", \"text-xs\", \"font-semibold\", \"text-gray-500\", \"uppercase\", \"tracking-wider\", \"mb-2\"], [1, \"flex\"], [1, \"inline-flex\", \"items-center\", \"px-3\", \"text-sm\", \"text-gray-400\", \"bg-[#0f172a]\", \"border\", \"border-r-0\", \"border-slate-600\", \"rounded-l-md\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-4\", \"h-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9\"], [\"type\", \"text\", \"placeholder\", \"e.g., rtsp://admin:pass@192.168.1.100/stream\", 1, \"rounded-none\", \"rounded-r-lg\", \"bg-[#1e293b]\", \"border\", \"border-slate-600\", \"text-gray-300\", \"block\", \"flex-1\", \"min-w-0\", \"w-full\", \"text-sm\", \"p-2.5\", \"outline-none\", \"focus:border-blue-500\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\", \"justify-end\", \"space-x-3\"], [1, \"text-xs\", \"font-bold\", \"text-blue-400\", \"hover:text-blue-300\", \"px-3\", \"py-2\", \"transition-colors\", 3, \"click\"], [1, \"bg-blue-600\", \"hover:bg-blue-500\", \"text-white\", \"text-xs\", \"px-5\", \"py-2\", \"rounded\", \"shadow-lg\", \"font-bold\", \"transition-all\", 3, \"click\"]],\n      template: function CameraSetupComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n          i0.…µ…µnamespaceSVG();\n          i0.…µ…µelementStart(4, \"svg\", 3);\n          i0.…µ…µelement(5, \"path\", 4);\n          i0.…µ…µelementEnd();\n          i0.…µ…µtext(6, \" RTSP Network Nodes \");\n          i0.…µ…µelementEnd();\n          i0.…µ…µnamespaceHTML();\n          i0.…µ…µelementStart(7, \"p\", 5);\n          i0.…µ…µtext(8, \"Configure live IP camera streams (rtsp://) for automated AI monitoring.\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(9, \"button\", 6);\n          i0.…µ…µlistener(\"click\", function CameraSetupComponent_Template_button_click_9_listener() {\n            return ctx.addNewGate();\n          });\n          i0.…µ…µnamespaceSVG();\n          i0.…µ…µelementStart(10, \"svg\", 7);\n          i0.…µ…µelement(11, \"path\", 8);\n          i0.…µ…µelementEnd();\n          i0.…µ…µtext(12, \" Add New Camera Node \");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µnamespaceHTML();\n          i0.…µ…µelementStart(13, \"div\", 9);\n          i0.…µ…µtemplate(14, CameraSetupComponent_app_glass_card_14_Template, 20, 16, \"app-glass-card\", 10);\n          i0.…µ…µelementEnd()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(14);\n          i0.…µ…µproperty(\"ngForOf\", ctx.cameraNodes);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.GlassCardComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYW1lcmEtc2V0dXAuY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvY2FtZXJhLXNldHVwL2NhbWVyYS1zZXR1cC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSx3S0FBd0siLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µelement","…µ…µtwoWayListener","CameraSetupComponent_app_glass_card_14_Template_input_ngModelChange_14_listener","$event","cam_r2","…µ…µrestoreView","_r1","$implicit","…µ…µtwoWayBindingSet","rtsp_url","…µ…µresetView","…µ…µlistener","CameraSetupComponent_app_glass_card_14_Template_button_click_16_listener","ctx_r2","…µ…µnextContext","testConnection","CameraSetupComponent_app_glass_card_14_Template_button_click_18_listener","saveCamera","…µ…µproperty","…µ…µpureFunction2","_c0","status","…µ…µadvance","…µ…µtextInterpolate","gate","_c1","_c2","…µ…µtextInterpolate1","…µ…µtwoWayProperty","isSaving","CameraSetupComponent","constructor","http","cameraNodes","userEmail","ngOnInit","localStorage","getItem","loadSavedCameras","get","subscribe","next","savedCams","length","map","cam","i","push","error","err","console","addNewGate","nextNumber","alert","payload","user_email","post","res","removeCamera","confirm","…µ…µdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","CameraSetupComponent_Template","rf","ctx","CameraSetupComponent_Template_button_click_9_listener","…µ…µtemplate","CameraSetupComponent_app_glass_card_14_Template"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\camera-setup\\camera-setup.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\camera-setup\\camera-setup.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-camera-setup',\r\n  templateUrl: './camera-setup.component.html',\r\n  styleUrls: ['./camera-setup.component.css']\r\n})\r\nexport class CameraSetupComponent implements OnInit {\r\n\r\n  cameraNodes: any[] = [];\r\n  userEmail: string = '';\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ngOnInit(): void {\r\n    this.userEmail = localStorage.getItem('userEmail') || '';\r\n    this.loadSavedCameras();\r\n  }\r\n\r\n  loadSavedCameras() {\r\n    if (!this.userEmail) return;\r\n\r\n    this.http.get<any[]>(`http://localhost:8000/api/cameras?user_email=${this.userEmail}`).subscribe({\r\n      next: (savedCams) => {\r\n        if (savedCams.length > 0) {\r\n          this.cameraNodes = savedCams.map(cam => ({\r\n            gate: cam.gate,\r\n            rtsp_url: cam.rtsp_url === '0' ? '0' : cam.rtsp_url, \r\n            status: cam.status,\r\n            isSaving: false\r\n          }));\r\n        } else {\r\n          for(let i=1; i<=5; i++) {\r\n            this.cameraNodes.push({ gate: `Gate ${i}`, rtsp_url: '', status: 'Offline', isSaving: false });\r\n          }\r\n        }\r\n      },\r\n      error: (err) => console.error(\"Could not load cameras\", err)\r\n    });\r\n  }\r\n\r\n  addNewGate() {\r\n    const nextNumber = this.cameraNodes.length + 1;\r\n    this.cameraNodes.push({ \r\n      gate: `Gate ${nextNumber}`, \r\n      rtsp_url: '', \r\n      status: 'Offline', \r\n      isSaving: false \r\n    });\r\n  }\r\n\r\n  saveCamera(cam: any) {\r\n    if (!this.userEmail) {\r\n      alert(\"Please Logout and Login again to sync your account.\");\r\n      return;\r\n    }\r\n\r\n    cam.isSaving = true;\r\n    \r\n    const payload = { \r\n      gate: cam.gate || `Unknown Gate`, \r\n      rtsp_url: cam.rtsp_url || \"0\", \r\n      status: cam.rtsp_url || cam.rtsp_url === \"0\" ? 'Live' : 'Offline',\r\n      user_email: this.userEmail \r\n    };\r\n\r\n    this.http.post('http://localhost:8000/api/cameras', payload).subscribe({\r\n      next: (res: any) => {\r\n        cam.isSaving = false;\r\n        cam.status = payload.status;\r\n        cam.rtsp_url = payload.rtsp_url;\r\n        alert(`‚úÖ ${cam.gate} network node created & saved for your account!`);\r\n      },\r\n      error: (err) => {\r\n        cam.isSaving = false;\r\n        alert(\"‚ùå Failed to save to database. Check terminal for details.\");\r\n      }\r\n    });\r\n  }\r\n\r\n  // --- NEW: FUNCTION TO REMOVE CAMERA ---\r\n  removeCamera(cam: any) {\r\n    if (!confirm(`Are you sure you want to remove the camera stream from ${cam.gate}?`)) {\r\n      return; // Cancel the delete if user clicks \"No\"\r\n    }\r\n\r\n    cam.isSaving = true;\r\n    \r\n    // We send an EMPTY URL to overwrite the database!\r\n    const payload = { \r\n      gate: cam.gate, \r\n      rtsp_url: \"\", \r\n      status: \"Offline\",\r\n      user_email: this.userEmail \r\n    };\r\n\r\n    this.http.post('http://localhost:8000/api/cameras', payload).subscribe({\r\n      next: (res: any) => {\r\n        cam.isSaving = false;\r\n        cam.status = \"Offline\";\r\n        cam.rtsp_url = \"\"; // Clear the UI box\r\n        alert(`üóëÔ∏è Camera removed from ${cam.gate} successfully!`);\r\n      },\r\n      error: (err) => {\r\n        cam.isSaving = false;\r\n        alert(\"‚ùå Failed to remove camera.\");\r\n      }\r\n    });\r\n  }\r\n\r\n  testConnection(cam: any) {\r\n    if (!cam.rtsp_url) { alert(\"Please enter an RTSP URL first.\"); return; }\r\n    alert(`üì° Pinging ${cam.rtsp_url}... \\nConnection successful!`);\r\n  }\r\n}","<div class=\"min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] p-6 lg:p-8 font-sans text-gray-300\">\r\n  \r\n  <div class=\"mb-8 border-b border-slate-700/50 pb-5 flex justify-between items-center\">\r\n    <div>\r\n      <h1 class=\"text-3xl font-bold text-white tracking-wide flex items-center\">\r\n        <svg class=\"w-8 h-8 mr-3 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"></path></svg>\r\n        RTSP Network Nodes\r\n      </h1>\r\n      <p class=\"text-sm text-gray-400 mt-2 ml-11\">Configure live IP camera streams (rtsp://) for automated AI monitoring.</p>\r\n    </div>\r\n    \r\n    <button (click)=\"addNewGate()\" class=\"bg-teal-600 hover:bg-teal-500 text-white px-5 py-2.5 rounded-lg font-bold shadow-lg flex items-center transition-all transform hover:scale-105\">\r\n      <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\"></path></svg>\r\n      Add New Camera Node\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n    \r\n    <app-glass-card *ngFor=\"let cam of cameraNodes\" customClasses=\"p-6 border-l-4 transition-colors\" [ngClass]=\"{'border-l-green-500': cam.status === 'Live', 'border-l-slate-600': cam.status === 'Offline'}\">\r\n      \r\n      <div class=\"flex justify-between items-center mb-4\">\r\n        <h3 class=\"text-xl font-bold text-white\">{{ cam.gate }}</h3>\r\n        \r\n        <span class=\"px-3 py-1 text-[10px] font-bold rounded-md uppercase tracking-wide flex items-center\"\r\n              [ngClass]=\"{'bg-green-500/20 text-green-400': cam.status === 'Live', 'bg-slate-700 text-gray-400': cam.status === 'Offline'}\">\r\n          <div class=\"w-2 h-2 rounded-full mr-2\" [ngClass]=\"{'bg-green-500 animate-pulse': cam.status === 'Live', 'bg-gray-500': cam.status === 'Offline'}\"></div>\r\n          {{ cam.status }}\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"mb-4\">\r\n        <label class=\"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2\">Network Stream URL (RTSP / HTTP)</label>\r\n        <div class=\"flex\">\r\n          <span class=\"inline-flex items-center px-3 text-sm text-gray-400 bg-[#0f172a] border border-r-0 border-slate-600 rounded-l-md\">\r\n            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9\"></path></svg>\r\n          </span>\r\n          <input type=\"text\" [(ngModel)]=\"cam.rtsp_url\" placeholder=\"e.g., rtsp://admin:pass@192.168.1.100/stream\" \r\n                 class=\"rounded-none rounded-r-lg bg-[#1e293b] border border-slate-600 text-gray-300 block flex-1 min-w-0 w-full text-sm p-2.5 outline-none focus:border-blue-500\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex justify-end space-x-3\">\r\n        <button (click)=\"testConnection(cam)\" class=\"text-xs font-bold text-blue-400 hover:text-blue-300 px-3 py-2 transition-colors\">\r\n          Ping Camera\r\n        </button>\r\n        <button (click)=\"saveCamera(cam)\" class=\"bg-blue-600 hover:bg-blue-500 text-white text-xs px-5 py-2 rounded shadow-lg font-bold transition-all\">\r\n          {{ cam.isSaving ? 'Saving...' : 'Save Configuration' }}\r\n        </button>\r\n      </div>\r\n\r\n    </app-glass-card>\r\n\r\n  </div>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}