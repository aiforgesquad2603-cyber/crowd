{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../shared/glass-card/glass-card.component\";\nfunction GuardListComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 9)(1, \"td\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 11);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 12)(8, \"div\", 13)(9, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function GuardListComponent_tr_16_Template_button_click_9_listener() {\n      const guard_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onEdit(guard_r2));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(10, \"svg\", 15);\n    i0.ɵɵelement(11, \"path\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(13, \"span\", 17);\n    i0.ɵɵtext(14, \"|\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function GuardListComponent_tr_16_Template_button_click_15_listener() {\n      const guard_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDelete(guard_r2));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(16, \"svg\", 15);\n    i0.ɵɵelement(17, \"path\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" Delete \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const guard_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(guard_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(guard_r2.mobile);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(guard_r2.gate);\n  }\n}\nfunction GuardListComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20);\n    i0.ɵɵtext(2, \" No guards currently registered. \");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class GuardListComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.editGuard = new EventEmitter();\n    this.guards = [];\n  }\n  ngOnInit() {\n    // This automatically fetches data when the page loads OR when a new guard is registered\n    this.apiService.guardsUpdated$.subscribe(() => {\n      this.loadGuards();\n    });\n  }\n  loadGuards() {\n    this.apiService.getGuards().subscribe({\n      next: data => {\n        this.guards = data; // Put the database data into your table!\n      },\n      error: err => console.error(\"Could not load guards\", err)\n    });\n  }\n  onEdit(guard) {\n    this.editGuard.emit(guard);\n  }\n  onDelete(guard) {\n    if (confirm(`Are you sure you want to delete ${guard.name}?`)) {\n      this.apiService.deleteGuard(guard.id).subscribe(() => {\n        this.loadGuards(); // Refresh table after deleting\n      });\n    }\n  }\n  static {\n    this.ɵfac = function GuardListComponent_Factory(t) {\n      return new (t || GuardListComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: GuardListComponent,\n      selectors: [[\"app-guard-list\"]],\n      outputs: {\n        editGuard: \"editGuard\"\n      },\n      decls: 18,\n      vars: 2,\n      consts: [[1, \"text-xl\", \"font-medium\", \"text-gray-200\", \"mb-6\", \"tracking-wide\"], [1, \"overflow-x-auto\"], [1, \"w-full\", \"text-left\", \"border-collapse\"], [1, \"text-sm\", \"font-semibold\", \"text-gray-300\", \"border-b\", \"border-slate-600/50\"], [1, \"pb-3\", \"px-2\"], [1, \"pb-3\", \"px-2\", \"text-right\"], [1, \"text-sm\", \"text-gray-300\"], [\"class\", \"border-b border-slate-700/50 hover:bg-[#0f172a]/40 transition-colors\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"border-b\", \"border-slate-700/50\", \"hover:bg-[#0f172a]/40\", \"transition-colors\"], [1, \"py-4\", \"px-2\", \"text-gray-200\"], [1, \"py-4\", \"px-2\"], [1, \"py-4\", \"px-2\", \"text-right\"], [1, \"flex\", \"items-center\", \"justify-end\", \"space-x-2\"], [1, \"text-blue-400\", \"hover:text-blue-300\", \"transition-colors\", \"flex\", \"items-center\", \"group\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"w-4\", \"h-4\", \"mr-1\", \"group-hover:scale-110\", \"transition-transform\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"], [1, \"text-gray-600\"], [1, \"text-red-400\", \"hover:text-red-300\", \"transition-colors\", \"flex\", \"items-center\", \"group\", 3, \"click\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"], [\"colspan\", \"4\", 1, \"py-8\", \"text-center\", \"text-gray-500\", \"italic\"]],\n      template: function GuardListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"app-glass-card\")(1, \"h2\", 0);\n          i0.ɵɵtext(2, \"Registered Guards & Assignments\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1)(4, \"table\", 2)(5, \"thead\")(6, \"tr\", 3)(7, \"th\", 4);\n          i0.ɵɵtext(8, \"Guard Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\", 4);\n          i0.ɵɵtext(10, \"Mobile Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"th\", 4);\n          i0.ɵɵtext(12, \"Assigned Gate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"th\", 5);\n          i0.ɵɵtext(14, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(15, \"tbody\", 6);\n          i0.ɵɵtemplate(16, GuardListComponent_tr_16_Template, 19, 3, \"tr\", 7)(17, GuardListComponent_tr_17_Template, 3, 0, \"tr\", 8);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngForOf\", ctx.guards);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.guards.length === 0);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.GlassCardComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJndWFyZC1saXN0LmNvbXBvbmVudC5jc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc2V0dGluZ3MvY29tcG9uZW50cy9ndWFyZC1saXN0L2d1YXJkLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0Esd0tBQXdLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","GuardListComponent_tr_16_Template_button_click_9_listener","guard_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","onEdit","ɵɵelement","GuardListComponent_tr_16_Template_button_click_15_listener","onDelete","ɵɵadvance","ɵɵtextInterpolate","name","mobile","gate","GuardListComponent","constructor","apiService","editGuard","guards","ngOnInit","guardsUpdated$","subscribe","loadGuards","getGuards","next","data","error","err","console","guard","emit","confirm","deleteGuard","id","ɵɵdirectiveInject","i1","ApiService","selectors","outputs","decls","vars","consts","template","GuardListComponent_Template","rf","ctx","ɵɵtemplate","GuardListComponent_tr_16_Template","GuardListComponent_tr_17_Template","ɵɵproperty","length"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\settings\\components\\guard-list\\guard-list.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\settings\\components\\guard-list\\guard-list.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { ApiService } from '../../../../services/api.service';\n\n@Component({\n  selector: 'app-guard-list',\n  templateUrl: './guard-list.component.html',\n  styleUrls: ['./guard-list.component.css']\n})\nexport class GuardListComponent implements OnInit {\n\n  @Output() editGuard = new EventEmitter<any>();\n  guards: any[] = [];\n\n  constructor(private apiService: ApiService) { }\n\n  ngOnInit(): void {\n    // This automatically fetches data when the page loads OR when a new guard is registered\n    this.apiService.guardsUpdated$.subscribe(() => {\n      this.loadGuards();\n    });\n  }\n\n  loadGuards() {\n    this.apiService.getGuards().subscribe({\n      next: (data) => {\n        this.guards = data; // Put the database data into your table!\n      },\n      error: (err) => console.error(\"Could not load guards\", err)\n    });\n  }\n\n  onEdit(guard: any) {\n    this.editGuard.emit(guard);\n  }\n\n  onDelete(guard: any) {\n    if(confirm(`Are you sure you want to delete ${guard.name}?`)) {\n      this.apiService.deleteGuard(guard.id).subscribe(() => {\n        this.loadGuards(); // Refresh table after deleting\n      });\n    }\n  }\n}","<app-glass-card>\n  \n  <h2 class=\"text-xl font-medium text-gray-200 mb-6 tracking-wide\">Registered Guards & Assignments</h2>\n\n  <div class=\"overflow-x-auto\">\n    <table class=\"w-full text-left border-collapse\">\n      \n      <thead>\n        <tr class=\"text-sm font-semibold text-gray-300 border-b border-slate-600/50\">\n          <th class=\"pb-3 px-2\">Guard Name</th>\n          <th class=\"pb-3 px-2\">Mobile Number</th>\n          <th class=\"pb-3 px-2\">Assigned Gate</th>\n          <th class=\"pb-3 px-2 text-right\">Actions</th>\n        </tr>\n      </thead>\n      \n      <tbody class=\"text-sm text-gray-300\">\n        \n        <tr *ngFor=\"let guard of guards\" class=\"border-b border-slate-700/50 hover:bg-[#0f172a]/40 transition-colors\">\n          <td class=\"py-4 px-2 text-gray-200\">{{ guard.name }}</td>\n          <td class=\"py-4 px-2\">{{ guard.mobile }}</td>\n          <td class=\"py-4 px-2\">{{ guard.gate }}</td>\n          \n          <td class=\"py-4 px-2 text-right\">\n            <div class=\"flex items-center justify-end space-x-2\">\n              \n              <button (click)=\"onEdit(guard)\" \n                      class=\"text-blue-400 hover:text-blue-300 transition-colors flex items-center group\">\n                <svg class=\"w-4 h-4 mr-1 group-hover:scale-110 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path>\n                </svg>\n                Edit\n              </button>\n              \n              <span class=\"text-gray-600\">|</span>\n              \n              <button (click)=\"onDelete(guard)\" \n                      class=\"text-red-400 hover:text-red-300 transition-colors flex items-center group\">\n                <svg class=\"w-4 h-4 mr-1 group-hover:scale-110 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\n                </svg>\n                Delete\n              </button>\n\n            </div>\n          </td>\n        </tr>\n        \n        <tr *ngIf=\"guards.length === 0\">\n          <td colspan=\"4\" class=\"py-8 text-center text-gray-500 italic\">\n            No guards currently registered.\n          </td>\n        </tr>\n\n      </tbody>\n    </table>\n  </div>\n\n</app-glass-card>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}