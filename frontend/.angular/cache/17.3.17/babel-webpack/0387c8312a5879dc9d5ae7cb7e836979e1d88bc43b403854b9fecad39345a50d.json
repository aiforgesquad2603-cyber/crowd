{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/guard.service\";\nimport * as i2 from \"./components/guard-register/guard-register.component\";\nimport * as i3 from \"./components/guard-list/guard-list.component\";\nimport * as i4 from \"./components/threshold-settings/threshold-settings.component\";\nimport * as i5 from \"./modals/guard-assign-modal/guard-assign-modal.component\";\nexport class SettingsComponent {\n  constructor(guardService) {\n    this.guardService = guardService;\n    // Variables to control the modal popup\n    this.isModalOpen = false;\n    this.selectedGuardForEdit = null;\n  }\n  // 1. Triggered when you click \"Edit\" in the Guard List\n  openEditModal(guard) {\n    this.selectedGuardForEdit = guard;\n    this.isModalOpen = true; // This opens the popup!\n  }\n  // 2. Triggered when you click \"Cancel\" or the \"X\" in the modal\n  closeModal() {\n    this.isModalOpen = false; // This closes the popup\n    this.selectedGuardForEdit = null;\n  }\n  // 3. Triggered when you click \"Confirm Assignment\" in the modal\n  saveGuardAssignment(updatedGuard) {\n    this.guardService.updateGuard(updatedGuard); // Instantly updates the table!\n    this.closeModal(); // Close the popup after saving\n  }\n  static {\n    this.ɵfac = function SettingsComponent_Factory(t) {\n      return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.GuardService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: SettingsComponent,\n      selectors: [[\"app-settings\"]],\n      decls: 16,\n      vars: 2,\n      consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-[#0f172a]\", \"via-[#1e293b]\", \"to-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"relative\", \"text-gray-300\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-8\"], [1, \"text-2xl\", \"font-bold\", \"text-white\", \"tracking-wide\"], [1, \"text-sm\", \"text-gray-400\", \"mt-1\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-12\", \"gap-6\", \"h-[calc(100vh-160px)]\", \"min-h-[600px]\"], [1, \"lg:col-span-5\", \"h-full\"], [1, \"lg:col-span-7\", \"flex\", \"flex-col\", \"gap-6\", \"h-full\"], [1, \"flex-grow\"], [3, \"editGuard\"], [1, \"h-auto\"], [3, \"closeModal\", \"saveAssignment\", \"isOpen\", \"guardData\"]],\n      template: function SettingsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n          i0.ɵɵtext(4, \"System Settings & Guard Management\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 3);\n          i0.ɵɵtext(6, \"Configure crowd thresholds, register security personnel, and manage assignments.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5);\n          i0.ɵɵelement(9, \"app-guard-register\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"app-guard-list\", 8);\n          i0.ɵɵlistener(\"editGuard\", function SettingsComponent_Template_app_guard_list_editGuard_12_listener($event) {\n            return ctx.openEditModal($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 9);\n          i0.ɵɵelement(14, \"app-threshold-settings\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(15, \"app-guard-assign-modal\", 10);\n          i0.ɵɵlistener(\"closeModal\", function SettingsComponent_Template_app_guard_assign_modal_closeModal_15_listener() {\n            return ctx.closeModal();\n          })(\"saveAssignment\", function SettingsComponent_Template_app_guard_assign_modal_saveAssignment_15_listener($event) {\n            return ctx.saveGuardAssignment($event);\n          });\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(15);\n          i0.ɵɵproperty(\"isOpen\", ctx.isModalOpen)(\"guardData\", ctx.selectedGuardForEdit);\n        }\n      },\n      dependencies: [i2.GuardRegisterComponent, i3.GuardListComponent, i4.ThresholdSettingsComponent, i5.GuardAssignModalComponent],\n      styles: [\"@keyframes _ngcontent-%COMP%_fadeIn {\\n  from { opacity: 0; transform: translateY(5px); }\\n  to { opacity: 1; transform: translateY(0); }\\n}\\n\\n.animate-fade-in[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_fadeIn 0.3s ease-out forwards;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNldHRpbmdzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxPQUFPLFVBQVUsRUFBRSwwQkFBMEIsRUFBRTtFQUMvQyxLQUFLLFVBQVUsRUFBRSx3QkFBd0IsRUFBRTtBQUM3Qzs7QUFFQTtFQUNFLHdDQUF3QztBQUMxQyIsImZpbGUiOiJzZXR0aW5ncy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGtleWZyYW1lcyBmYWRlSW4ge1xuICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDVweCk7IH1cbiAgdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH1cbn1cblxuLmFuaW1hdGUtZmFkZS1pbiB7XG4gIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1vdXQgZm9yd2FyZHM7XG59Il19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc2V0dGluZ3Mvc2V0dGluZ3MuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLE9BQU8sVUFBVSxFQUFFLDBCQUEwQixFQUFFO0VBQy9DLEtBQUssVUFBVSxFQUFFLHdCQUF3QixFQUFFO0FBQzdDOztBQUVBO0VBQ0Usd0NBQXdDO0FBQzFDO0FBQ0Esb21CQUFvbUIiLCJzb3VyY2VzQ29udGVudCI6WyJAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gIGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNXB4KTsgfVxuICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxufVxuXG4uYW5pbWF0ZS1mYWRlLWluIHtcbiAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zcyBlYXNlLW91dCBmb3J3YXJkcztcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["SettingsComponent","constructor","guardService","isModalOpen","selectedGuardForEdit","openEditModal","guard","closeModal","saveGuardAssignment","updatedGuard","updateGuard","i0","ɵɵdirectiveInject","i1","GuardService","selectors","decls","vars","consts","template","SettingsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","SettingsComponent_Template_app_guard_list_editGuard_12_listener","$event","SettingsComponent_Template_app_guard_assign_modal_closeModal_15_listener","SettingsComponent_Template_app_guard_assign_modal_saveAssignment_15_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\settings\\settings.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\settings\\settings.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { GuardService } from '../../services/guard.service'; // Import the service\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent {\n  \n  // Variables to control the modal popup\n  isModalOpen: boolean = false;\n  selectedGuardForEdit: any = null;\n\n  constructor(private guardService: GuardService) { }\n\n  // 1. Triggered when you click \"Edit\" in the Guard List\n  openEditModal(guard: any) {\n    this.selectedGuardForEdit = guard;\n    this.isModalOpen = true; // This opens the popup!\n  }\n\n  // 2. Triggered when you click \"Cancel\" or the \"X\" in the modal\n  closeModal() {\n    this.isModalOpen = false; // This closes the popup\n    this.selectedGuardForEdit = null;\n  }\n\n  // 3. Triggered when you click \"Confirm Assignment\" in the modal\n  saveGuardAssignment(updatedGuard: any) {\n    this.guardService.updateGuard(updatedGuard); // Instantly updates the table!\n    this.closeModal(); // Close the popup after saving\n  }\n}","<div class=\"min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] p-6 lg:p-8 font-sans relative text-gray-300\">\n  \n  <div class=\"flex justify-between items-center mb-8\">\n    <div>\n      <h1 class=\"text-2xl font-bold text-white tracking-wide\">System Settings & Guard Management</h1>\n      <p class=\"text-sm text-gray-400 mt-1\">Configure crowd thresholds, register security personnel, and manage assignments.</p>\n    </div>\n  </div>\n\n  <div class=\"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-160px)] min-h-[600px]\">\n    \n    <div class=\"lg:col-span-5 h-full\">\n      <app-guard-register></app-guard-register>\n    </div>\n\n    <div class=\"lg:col-span-7 flex flex-col gap-6 h-full\">\n      \n      <div class=\"flex-grow\">\n        <app-guard-list (editGuard)=\"openEditModal($event)\"></app-guard-list>\n      </div>\n\n      <div class=\"h-auto\">\n        <app-threshold-settings></app-threshold-settings>\n      </div>\n\n    </div>\n  </div>\n\n  <app-guard-assign-modal \n    [isOpen]=\"isModalOpen\" \n    [guardData]=\"selectedGuardForEdit\" \n    (closeModal)=\"closeModal()\" \n    (saveAssignment)=\"saveGuardAssignment($event)\">\n  </app-guard-assign-modal>\n\n</div>"],"mappings":";;;;;;AAQA,OAAM,MAAOA,iBAAiB;EAM5BC,YAAoBC,YAA0B;IAA1B,KAAAA,YAAY,GAAZA,YAAY;IAJhC;IACA,KAAAC,WAAW,GAAY,KAAK;IAC5B,KAAAC,oBAAoB,GAAQ,IAAI;EAEkB;EAElD;EACAC,aAAaA,CAACC,KAAU;IACtB,IAAI,CAACF,oBAAoB,GAAGE,KAAK;IACjC,IAAI,CAACH,WAAW,GAAG,IAAI,CAAC,CAAC;EAC3B;EAEA;EACAI,UAAUA,CAAA;IACR,IAAI,CAACJ,WAAW,GAAG,KAAK,CAAC,CAAC;IAC1B,IAAI,CAACC,oBAAoB,GAAG,IAAI;EAClC;EAEA;EACAI,mBAAmBA,CAACC,YAAiB;IACnC,IAAI,CAACP,YAAY,CAACQ,WAAW,CAACD,YAAY,CAAC,CAAC,CAAC;IAC7C,IAAI,CAACF,UAAU,EAAE,CAAC,CAAC;EACrB;;;uBAxBWP,iBAAiB,EAAAW,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,YAAA;IAAA;EAAA;;;YAAjBd,iBAAiB;MAAAe,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCJxBV,EAJN,CAAAY,cAAA,aAAkI,aAE5E,UAC7C,YACqD;UAAAZ,EAAA,CAAAa,MAAA,yCAAkC;UAAAb,EAAA,CAAAc,YAAA,EAAK;UAC/Fd,EAAA,CAAAY,cAAA,WAAsC;UAAAZ,EAAA,CAAAa,MAAA,uFAAgF;UAE1Hb,EAF0H,CAAAc,YAAA,EAAI,EACtH,EACF;UAIJd,EAFF,CAAAY,cAAA,aAAwF,aAEpD;UAChCZ,EAAA,CAAAe,SAAA,yBAAyC;UAC3Cf,EAAA,CAAAc,YAAA,EAAM;UAKFd,EAHJ,CAAAY,cAAA,cAAsD,cAE7B,yBAC+B;UAApCZ,EAAA,CAAAgB,UAAA,uBAAAC,gEAAAC,MAAA;YAAA,OAAaP,GAAA,CAAAjB,aAAA,CAAAwB,MAAA,CAAqB;UAAA,EAAC;UACrDlB,EADsD,CAAAc,YAAA,EAAiB,EACjE;UAENd,EAAA,CAAAY,cAAA,cAAoB;UAClBZ,EAAA,CAAAe,SAAA,8BAAiD;UAIvDf,EAHI,CAAAc,YAAA,EAAM,EAEF,EACF;UAENd,EAAA,CAAAY,cAAA,kCAIiD;UAA/CZ,EADA,CAAAgB,UAAA,wBAAAG,yEAAA;YAAA,OAAcR,GAAA,CAAAf,UAAA,EAAY;UAAA,EAAC,4BAAAwB,6EAAAF,MAAA;YAAA,OACTP,GAAA,CAAAd,mBAAA,CAAAqB,MAAA,CAA2B;UAAA,EAAC;UAGlDlB,EAFE,CAAAc,YAAA,EAAyB,EAErB;;;UANFd,EAAA,CAAAqB,SAAA,IAAsB;UACtBrB,EADA,CAAAsB,UAAA,WAAAX,GAAA,CAAAnB,WAAA,CAAsB,cAAAmB,GAAA,CAAAlB,oBAAA,CACY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}