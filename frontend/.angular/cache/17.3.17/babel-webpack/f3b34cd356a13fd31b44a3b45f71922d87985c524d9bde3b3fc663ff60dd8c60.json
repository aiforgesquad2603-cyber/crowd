{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/guard.service\";\nimport * as i2 from \"./components/guard-register/guard-register.component\";\nimport * as i3 from \"./components/guard-list/guard-list.component\";\nimport * as i4 from \"./components/threshold-settings/threshold-settings.component\";\nimport * as i5 from \"./modals/guard-assign-modal/guard-assign-modal.component\";\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor(guardService) {\n      this.guardService = guardService;\n      // Variables to control the modal popup\n      this.isModalOpen = false;\n      this.selectedGuardForEdit = null;\n    }\n    // 1. Triggered when you click \"Edit\" in the Guard List\n    openEditModal(guard) {\n      this.selectedGuardForEdit = guard;\n      this.isModalOpen = true; // This opens the popup!\n    }\n    // 2. Triggered when you click \"Cancel\" or the \"X\" in the modal\n    closeModal() {\n      this.isModalOpen = false; // This closes the popup\n      this.selectedGuardForEdit = null;\n    }\n    // 3. Triggered when you click \"Confirm Assignment\" in the modal\n    saveGuardAssignment(updatedGuard) {\n      this.guardService.updateGuard(updatedGuard); // Instantly updates the table!\n      this.closeModal(); // Close the popup after saving\n    }\n    static {\n      this.ɵfac = function SettingsComponent_Factory(t) {\n        return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.GuardService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: SettingsComponent,\n        selectors: [[\"app-settings\"]],\n        decls: 16,\n        vars: 2,\n        consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-[#0f172a]\", \"via-[#1e293b]\", \"to-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"relative\", \"text-gray-300\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-8\"], [1, \"text-2xl\", \"font-bold\", \"text-white\", \"tracking-wide\"], [1, \"text-sm\", \"text-gray-400\", \"mt-1\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-12\", \"gap-6\", \"h-[calc(100vh-160px)]\", \"min-h-[600px]\"], [1, \"lg:col-span-5\", \"h-full\"], [1, \"lg:col-span-7\", \"flex\", \"flex-col\", \"gap-6\", \"h-full\"], [1, \"flex-grow\"], [3, \"editGuard\"], [1, \"h-auto\"], [3, \"closeModal\", \"saveAssignment\", \"isOpen\", \"guardData\"]],\n        template: function SettingsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n            i0.ɵɵtext(4, \"System Settings & Guard Management\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"p\", 3);\n            i0.ɵɵtext(6, \"Configure crowd thresholds, register security personnel, and manage assignments.\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5);\n            i0.ɵɵelement(9, \"app-guard-register\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"app-guard-list\", 8);\n            i0.ɵɵlistener(\"editGuard\", function SettingsComponent_Template_app_guard_list_editGuard_12_listener($event) {\n              return ctx.openEditModal($event);\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"div\", 9);\n            i0.ɵɵelement(14, \"app-threshold-settings\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(15, \"app-guard-assign-modal\", 10);\n            i0.ɵɵlistener(\"closeModal\", function SettingsComponent_Template_app_guard_assign_modal_closeModal_15_listener() {\n              return ctx.closeModal();\n            })(\"saveAssignment\", function SettingsComponent_Template_app_guard_assign_modal_saveAssignment_15_listener($event) {\n              return ctx.saveGuardAssignment($event);\n            });\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(15);\n            i0.ɵɵproperty(\"isOpen\", ctx.isModalOpen)(\"guardData\", ctx.selectedGuardForEdit);\n          }\n        },\n        dependencies: [i2.GuardRegisterComponent, i3.GuardListComponent, i4.ThresholdSettingsComponent, i5.GuardAssignModalComponent],\n        styles: [\"@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out forwards}\"]\n      });\n    }\n  }\n  return SettingsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}