{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../shared/glass-card/glass-card.component\";\nconst _c0 = (a0, a1) => ({\n  \"opacity-100\": a0,\n  \"opacity-0\": a1\n});\nconst _c1 = (a0, a1) => ({\n  \"text-green-400\": a0,\n  \"text-red-500\": a1\n});\nconst _c2 = (a0, a1, a2) => ({\n  \"bg-blue-500 animate-pulse\": a0,\n  \"bg-red-500 animate-pulse\": a1,\n  \"bg-green-500\": a2\n});\nconst _c3 = (a0, a1) => ({\n  \"border-t-red-500\": a0,\n  \"border-t-green-500\": a1\n});\nconst _c4 = (a0, a1) => ({\n  \"text-red-500\": a0,\n  \"text-green-400\": a1\n});\nfunction DemoVidAnalysisComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.stopAlarm());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 15);\n    i0.ɵɵelement(2, \"path\", 16)(3, \"path\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" SILENCE ALARM \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const gate_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", gate_r3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(gate_r3);\n  }\n}\nfunction DemoVidAnalysisComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"input\", 20);\n    i0.ɵɵlistener(\"change\", function DemoVidAnalysisComponent_div_16_Template_input_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 21);\n    i0.ɵɵelement(3, \"path\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"h3\", 23);\n    i0.ɵɵtext(5, \"Drag & Drop Video File\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DemoVidAnalysisComponent_div_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 37);\n  }\n}\nfunction DemoVidAnalysisComponent_div_17_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_div_17_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.uploadAndAnalyze());\n    });\n    i0.ɵɵtext(1, \" Begin AI Scan \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_17_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_div_17_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.selectedFile = null;\n      ctx_r1.videoUrl = null;\n      return i0.ɵɵresetView(ctx_r1.stopAlarm());\n    });\n    i0.ɵɵtext(1, \" Clear & Upload New \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"video\", 25);\n    i0.ɵɵtemplate(2, DemoVidAnalysisComponent_div_17_div_2_Template, 1, 0, \"div\", 26);\n    i0.ɵɵelement(3, \"div\", 27);\n    i0.ɵɵelementStart(4, \"div\", 28)(5, \"p\", 29);\n    i0.ɵɵtext(6, \"Live Count\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 30);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 31);\n    i0.ɵɵelement(10, \"div\", 32);\n    i0.ɵɵelementStart(11, \"span\", 33);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 34);\n    i0.ɵɵtemplate(14, DemoVidAnalysisComponent_div_17_button_14_Template, 2, 0, \"button\", 35)(15, DemoVidAnalysisComponent_div_17_button_15_Template, 2, 0, \"button\", 36);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r1.videoUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAnalyzing);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(9, _c0, ctx_r1.showThermal, !ctx_r1.showThermal));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(12, _c1, !ctx_r1.showThermal, ctx_r1.showThermal));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.isAnalyzing ? \"---\" : ctx_r1.liveCount, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(15, _c2, ctx_r1.isAnalyzing, ctx_r1.showThermal, !ctx_r1.isAnalyzing && !ctx_r1.showThermal));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.selectedGate, \" FEED\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.isAnalyzing && !ctx_r1.analysisResult);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.analysisResult);\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_18_div_14_ul_10_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\\u2705 Sent to \", msg_r7, \"\");\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_18_div_14_ul_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 56);\n    i0.ɵɵtemplate(1, DemoVidAnalysisComponent_app_glass_card_18_div_14_ul_10_li_1_Template, 2, 1, \"li\", 57);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.analysisResult.messagesSent);\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_18_div_14_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 58);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u26A0\\uFE0F No guards assigned to \", ctx_r1.analysisResult.camera_source, \". \");\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_18_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 15);\n    i0.ɵɵelement(3, \"path\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" CRITICAL ALERT TRIGGERED \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(5, \"p\", 51);\n    i0.ɵɵtext(6, \"Audio alarm activated. Automated SMS dispatch initiated to guards.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 52)(8, \"p\", 53);\n    i0.ɵɵtext(9, \"SMS Dispatch Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, DemoVidAnalysisComponent_app_glass_card_18_div_14_ul_10_Template, 2, 1, \"ul\", 54)(11, DemoVidAnalysisComponent_app_glass_card_18_div_14_p_11_Template, 2, 1, \"p\", 55);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.analysisResult.messagesSent.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.analysisResult.messagesSent.length === 0);\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-glass-card\", 40)(1, \"h3\", 41);\n    i0.ɵɵtext(2, \"Analysis Results\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42)(4, \"div\", 43)(5, \"span\", 44);\n    i0.ɵɵtext(6, \"Camera Location:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 45);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 43)(10, \"span\", 44);\n    i0.ɵɵtext(11, \"Final Detected Count:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 46);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, DemoVidAnalysisComponent_app_glass_card_18_div_14_Template, 12, 2, \"div\", 47);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c3, ctx_r1.analysisResult.crowdCount > 50, ctx_r1.analysisResult.crowdCount <= 50));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.analysisResult.camera_source);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c4, ctx_r1.analysisResult.crowdCount > 50, ctx_r1.analysisResult.crowdCount <= 50));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.analysisResult.crowdCount, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.analysisResult.crowdCount > 50);\n  }\n}\nexport class DemoVidAnalysisComponent {\n  // To check if ANY alarm is ringing to show the global \"Silence All\" button\n  get isAnyAlarmRinging() {\n    return this.cameras.some(cam => cam.isAlarmRinging);\n  }\n  constructor(http) {\n    this.http = http;\n    // Array of 5 Cameras!\n    this.cameras = [];\n  }\n  ngOnInit() {\n    // Initialize 5 empty camera slots\n    for (let i = 1; i <= 5; i++) {\n      this.cameras.push({\n        id: i,\n        gateName: `Gate ${i}`,\n        file: null,\n        videoUrl: null,\n        isAnalyzing: false,\n        analysisResult: null,\n        liveCount: 0,\n        showThermal: false,\n        isAlarmRinging: false,\n        alarmInterval: null\n      });\n    }\n  }\n  onFileSelected(event, index) {\n    if (event.target.files && event.target.files.length > 0) {\n      const cam = this.cameras[index];\n      cam.file = event.target.files[0];\n      cam.videoUrl = URL.createObjectURL(cam.file);\n      // Reset that specific camera's stats\n      cam.analysisResult = null;\n      cam.liveCount = 0;\n      cam.showThermal = false;\n      this.stopSpecificAlarm(index);\n    }\n  }\n  // Analyze ONE specific camera\n  analyzeCamera(index) {\n    const cam = this.cameras[index];\n    if (!cam.file) return;\n    cam.isAnalyzing = true;\n    cam.analysisResult = null;\n    cam.liveCount = 0;\n    cam.showThermal = false;\n    const formData = new FormData();\n    formData.append('file', cam.file);\n    formData.append('gate', cam.gateName);\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: response => {\n        cam.isAnalyzing = false;\n        cam.analysisResult = response;\n        this.animateCounting(index, response.crowdCount, response.thresholdExceeded);\n      },\n      error: err => {\n        console.error(`Analysis Failed for ${cam.gateName}`, err);\n        cam.isAnalyzing = false;\n      }\n    });\n  }\n  // Analyze ALL uploaded cameras at the same time!\n  analyzeAllCameras() {\n    this.cameras.forEach((cam, index) => {\n      if (cam.file && !cam.isAnalyzing && !cam.analysisResult) {\n        this.analyzeCamera(index);\n      }\n    });\n  }\n  animateCounting(index, targetCount, isCritical) {\n    const cam = this.cameras[index];\n    let current = 0;\n    const interval = setInterval(() => {\n      current += Math.ceil(targetCount / 20); // Dynamic counting speed\n      if (current >= targetCount) {\n        cam.liveCount = targetCount;\n        clearInterval(interval);\n        if (isCritical) {\n          cam.showThermal = true;\n          this.triggerAudioAlarm(index);\n        }\n      } else {\n        cam.liveCount = current;\n      }\n    }, 50);\n  }\n  triggerAudioAlarm(index) {\n    const cam = this.cameras[index];\n    cam.isAlarmRinging = true;\n    const message = `Critical! High crowd at ${cam.gateName}. Deploy guards to ${cam.gateName} immediately.`;\n    const speech = new SpeechSynthesisUtterance(message);\n    speech.lang = 'en-US';\n    speech.pitch = 0.9;\n    speech.volume = 1.0;\n    window.speechSynthesis.speak(speech);\n    cam.alarmInterval = setInterval(() => {\n      window.speechSynthesis.speak(speech);\n    }, 7000);\n  }\n  stopSpecificAlarm(index) {\n    const cam = this.cameras[index];\n    cam.isAlarmRinging = false;\n    if (cam.alarmInterval) {\n      clearInterval(cam.alarmInterval);\n    }\n  }\n  stopAllAlarms() {\n    this.cameras.forEach((_, index) => this.stopSpecificAlarm(index));\n    window.speechSynthesis.cancel(); // Stops the voice immediately\n  }\n  clearCamera(index) {\n    const cam = this.cameras[index];\n    cam.file = null;\n    cam.videoUrl = null;\n    cam.analysisResult = null;\n    cam.isAnalyzing = false;\n    cam.showThermal = false;\n    this.stopSpecificAlarm(index);\n  }\n  ngOnDestroy() {\n    this.stopAllAlarms();\n  }\n  static {\n    this.ɵfac = function DemoVidAnalysisComponent_Factory(t) {\n      return new (t || DemoVidAnalysisComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DemoVidAnalysisComponent,\n      selectors: [[\"app-demo-vid-analysis\"]],\n      decls: 19,\n      vars: 6,\n      consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-[#0f172a]\", \"via-[#1e293b]\", \"to-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"text-gray-300\"], [1, \"mb-8\", \"flex\", \"justify-between\", \"items-center\"], [1, \"text-3xl\", \"font-bold\", \"text-white\", \"tracking-wide\"], [1, \"text-sm\", \"text-gray-400\", \"mt-1\"], [\"class\", \"bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-lg font-bold shadow-[0_0_20px_rgba(220,38,38,0.8)] animate-pulse flex items-center\", 3, \"click\", 4, \"ngIf\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-2\", \"gap-8\"], [1, \"flex\", \"flex-col\", \"h-full\", \"space-y-4\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-400\", \"mb-2\"], [1, \"w-full\", \"bg-[#1e293b]\", \"border\", \"border-slate-600\", \"rounded-lg\", \"px-4\", \"py-3\", \"text-white\", \"outline-none\", \"focus:border-blue-500\", \"shadow-lg\", \"transition-colors\", \"cursor-pointer\", 3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"customClasses\", \"p-1 flex-grow flex flex-col items-center justify-center border-dashed border-2 border-slate-600/50 hover:border-blue-500 transition-colors relative overflow-hidden min-h-[350px]\"], [\"class\", \"flex flex-col items-center justify-center w-full h-full p-8 absolute z-20\", 4, \"ngIf\"], [\"class\", \"relative w-full h-full bg-black rounded-lg overflow-hidden group\", 4, \"ngIf\"], [\"customClasses\", \"p-8 h-full border-t-4 transition-colors duration-500\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"bg-red-600\", \"hover:bg-red-500\", \"text-white\", \"px-6\", \"py-3\", \"rounded-lg\", \"font-bold\", \"shadow-[0_0_20px_rgba(220,38,38,0.8)]\", \"animate-pulse\", \"flex\", \"items-center\", 3, \"click\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2\"], [3, \"value\"], [1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"w-full\", \"h-full\", \"p-8\", \"absolute\", \"z-20\"], [\"type\", \"file\", \"accept\", \"video/mp4,video/x-m4v,video/*\", 1, \"absolute\", \"inset-0\", \"w-full\", \"h-full\", \"opacity-0\", \"cursor-pointer\", \"z-30\", 3, \"change\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-16\", \"h-16\", \"text-blue-500\", \"mb-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"], [1, \"text-xl\", \"font-bold\", \"text-white\", \"mb-2\"], [1, \"relative\", \"w-full\", \"h-full\", \"bg-black\", \"rounded-lg\", \"overflow-hidden\", \"group\"], [\"autoplay\", \"\", \"loop\", \"\", \"muted\", \"\", 1, \"w-full\", \"h-full\", \"object-cover\", 3, \"src\"], [\"class\", \"scanner-line\", 4, \"ngIf\"], [1, \"absolute\", \"inset-0\", \"bg-gradient-to-t\", \"from-red-600/60\", \"via-red-500/30\", \"to-transparent\", \"mix-blend-multiply\", \"transition-opacity\", \"duration-1000\", \"z-10\", 3, \"ngClass\"], [1, \"absolute\", \"top-4\", \"right-4\", \"bg-black/80\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-slate-600\", \"z-20\", \"shadow-lg\"], [1, \"text-[10px]\", \"text-gray-400\", \"uppercase\", \"tracking-widest\", \"mb-1\"], [1, \"text-3xl\", \"font-mono\", \"font-bold\", 3, \"ngClass\"], [1, \"absolute\", \"top-4\", \"left-4\", \"bg-black/80\", \"px-3\", \"py-1\", \"rounded\", \"border\", \"border-slate-600\", \"z-20\", \"flex\", \"items-center\"], [1, \"w-2\", \"h-2\", \"rounded-full\", \"mr-2\", 3, \"ngClass\"], [1, \"text-xs\", \"font-bold\", \"text-white\", \"uppercase\"], [1, \"absolute\", \"bottom-4\", \"left-0\", \"right-0\", \"flex\", \"justify-center\", \"z-30\"], [\"class\", \"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-full font-bold shadow-[0_0_15px_rgba(37,99,235,0.6)]\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"bg-slate-700 hover:bg-slate-600 text-white px-6 py-2 rounded-full font-bold shadow-lg text-sm border border-slate-500\", 3, \"click\", 4, \"ngIf\"], [1, \"scanner-line\"], [1, \"bg-blue-600\", \"hover:bg-blue-500\", \"text-white\", \"px-8\", \"py-3\", \"rounded-full\", \"font-bold\", \"shadow-[0_0_15px_rgba(37,99,235,0.6)]\", 3, \"click\"], [1, \"bg-slate-700\", \"hover:bg-slate-600\", \"text-white\", \"px-6\", \"py-2\", \"rounded-full\", \"font-bold\", \"shadow-lg\", \"text-sm\", \"border\", \"border-slate-500\", 3, \"click\"], [\"customClasses\", \"p-8 h-full border-t-4 transition-colors duration-500\", 3, \"ngClass\"], [1, \"text-2xl\", \"font-bold\", \"text-white\", \"mb-6\"], [1, \"space-y-6\"], [1, \"flex\", \"justify-between\", \"items-center\", \"bg-[#0f172a]\", \"p-4\", \"rounded-lg\"], [1, \"text-gray-400\", \"font-medium\"], [1, \"text-lg\", \"font-bold\", \"text-blue-400\"], [1, \"text-3xl\", \"font-bold\", 3, \"ngClass\"], [\"class\", \"bg-red-500/20 border border-red-500/50 p-4 rounded-lg\", 4, \"ngIf\"], [1, \"bg-red-500/20\", \"border\", \"border-red-500/50\", \"p-4\", \"rounded-lg\"], [1, \"flex\", \"items-center\", \"text-red-400\", \"font-bold\", \"mb-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"], [1, \"text-sm\", \"text-red-200\"], [1, \"mt-4\", \"pt-4\", \"border-t\", \"border-red-500/30\"], [1, \"text-xs\", \"text-red-400\", \"uppercase\", \"tracking-wider\", \"mb-2\"], [\"class\", \"text-sm space-y-1 text-gray-300\", 4, \"ngIf\"], [\"class\", \"text-sm text-orange-400\", 4, \"ngIf\"], [1, \"text-sm\", \"space-y-1\", \"text-gray-300\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-sm\", \"text-orange-400\"]],\n      template: function DemoVidAnalysisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n          i0.ɵɵtext(4, \"Live Video Processing\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 3);\n          i0.ɵɵtext(6, \"AI-powered object counting with thermal density and automated alerts.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(7, DemoVidAnalysisComponent_button_7_Template, 5, 0, \"button\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 5)(9, \"div\", 6)(10, \"div\")(11, \"label\", 7);\n          i0.ɵɵtext(12, \"Select Camera Target\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"select\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function DemoVidAnalysisComponent_Template_select_ngModelChange_13_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedGate, $event) || (ctx.selectedGate = $event);\n            return $event;\n          });\n          i0.ɵɵtemplate(14, DemoVidAnalysisComponent_option_14_Template, 2, 2, \"option\", 9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"app-glass-card\", 10);\n          i0.ɵɵtemplate(16, DemoVidAnalysisComponent_div_16_Template, 6, 0, \"div\", 11)(17, DemoVidAnalysisComponent_div_17_Template, 16, 19, \"div\", 12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(18, DemoVidAnalysisComponent_app_glass_card_18_Template, 15, 11, \"app-glass-card\", 13);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.isAlarmRinging);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedGate);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.gates);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedFile && ctx.videoUrl);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.analysisResult);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.GlassCardComponent],\n      styles: [\"\\n\\n.scanner-line[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 4px;\\n  background: rgba(34, 197, 94, 0.8);\\n  box-shadow: 0 0 15px rgba(34, 197, 94, 1);\\n  animation: _ngcontent-%COMP%_scan 2s linear infinite;\\n  z-index: 20;\\n}\\n\\n@keyframes _ngcontent-%COMP%_scan {\\n  0% { top: 0; }\\n  50% { top: 100%; }\\n  100% { top: 0; }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbW8tdmlkLWFuYWx5c2lzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUNBQXFDO0FBQ3JDO0VBQ0Usa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixPQUFPO0VBQ1AsV0FBVztFQUNYLFdBQVc7RUFDWCxrQ0FBa0M7RUFDbEMseUNBQXlDO0VBQ3pDLGtDQUFrQztFQUNsQyxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxLQUFLLE1BQU0sRUFBRTtFQUNiLE1BQU0sU0FBUyxFQUFFO0VBQ2pCLE9BQU8sTUFBTSxFQUFFO0FBQ2pCIiwiZmlsZSI6ImRlbW8tdmlkLWFuYWx5c2lzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBBSSBTY2FubmluZyBMYXNlciBMaW5lIEFuaW1hdGlvbiAqL1xuLnNjYW5uZXItbGluZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA0cHg7XG4gIGJhY2tncm91bmQ6IHJnYmEoMzQsIDE5NywgOTQsIDAuOCk7XG4gIGJveC1zaGFkb3c6IDAgMCAxNXB4IHJnYmEoMzQsIDE5NywgOTQsIDEpO1xuICBhbmltYXRpb246IHNjYW4gMnMgbGluZWFyIGluZmluaXRlO1xuICB6LWluZGV4OiAyMDtcbn1cblxuQGtleWZyYW1lcyBzY2FuIHtcbiAgMCUgeyB0b3A6IDA7IH1cbiAgNTAlIHsgdG9wOiAxMDAlOyB9XG4gIDEwMCUgeyB0b3A6IDA7IH1cbn0iXX0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZGVtby12aWQtYW5hbHlzaXMvZGVtby12aWQtYW5hbHlzaXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxQ0FBcUM7QUFDckM7RUFDRSxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxXQUFXO0VBQ1gsV0FBVztFQUNYLGtDQUFrQztFQUNsQyx5Q0FBeUM7RUFDekMsa0NBQWtDO0VBQ2xDLFdBQVc7QUFDYjs7QUFFQTtFQUNFLEtBQUssTUFBTSxFQUFFO0VBQ2IsTUFBTSxTQUFTLEVBQUU7RUFDakIsT0FBTyxNQUFNLEVBQUU7QUFDakI7QUFDQSxnK0JBQWcrQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIEFJIFNjYW5uaW5nIExhc2VyIExpbmUgQW5pbWF0aW9uICovXG4uc2Nhbm5lci1saW5lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDRweDtcbiAgYmFja2dyb3VuZDogcmdiYSgzNCwgMTk3LCA5NCwgMC44KTtcbiAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgzNCwgMTk3LCA5NCwgMSk7XG4gIGFuaW1hdGlvbjogc2NhbiAycyBsaW5lYXIgaW5maW5pdGU7XG4gIHotaW5kZXg6IDIwO1xufVxuXG5Aa2V5ZnJhbWVzIHNjYW4ge1xuICAwJSB7IHRvcDogMDsgfVxuICA1MCUgeyB0b3A6IDEwMCU7IH1cbiAgMTAwJSB7IHRvcDogMDsgfVxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","DemoVidAnalysisComponent_button_7_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","stopAlarm","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵproperty","gate_r3","ɵɵadvance","ɵɵtextInterpolate","DemoVidAnalysisComponent_div_16_Template_input_change_1_listener","$event","_r4","onFileSelected","DemoVidAnalysisComponent_div_17_button_14_Template_button_click_0_listener","_r5","uploadAndAnalyze","DemoVidAnalysisComponent_div_17_button_15_Template_button_click_0_listener","_r6","selectedFile","videoUrl","ɵɵtemplate","DemoVidAnalysisComponent_div_17_div_2_Template","DemoVidAnalysisComponent_div_17_button_14_Template","DemoVidAnalysisComponent_div_17_button_15_Template","ɵɵsanitizeUrl","isAnalyzing","ɵɵpureFunction2","_c0","showThermal","_c1","ɵɵtextInterpolate1","liveCount","ɵɵpureFunction3","_c2","selectedGate","analysisResult","msg_r7","DemoVidAnalysisComponent_app_glass_card_18_div_14_ul_10_li_1_Template","messagesSent","camera_source","DemoVidAnalysisComponent_app_glass_card_18_div_14_ul_10_Template","DemoVidAnalysisComponent_app_glass_card_18_div_14_p_11_Template","length","DemoVidAnalysisComponent_app_glass_card_18_div_14_Template","_c3","crowdCount","_c4","DemoVidAnalysisComponent","isAnyAlarmRinging","cameras","some","cam","isAlarmRinging","constructor","http","ngOnInit","i","push","id","gateName","file","alarmInterval","event","index","target","files","URL","createObjectURL","stopSpecificAlarm","analyzeCamera","formData","FormData","append","post","subscribe","next","response","animateCounting","thresholdExceeded","error","err","console","analyzeAllCameras","forEach","targetCount","isCritical","current","interval","setInterval","Math","ceil","clearInterval","triggerAudioAlarm","message","speech","SpeechSynthesisUtterance","lang","pitch","volume","window","speechSynthesis","speak","stopAllAlarms","_","cancel","clearCamera","ngOnDestroy","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","DemoVidAnalysisComponent_Template","rf","ctx","DemoVidAnalysisComponent_button_7_Template","ɵɵtwoWayListener","DemoVidAnalysisComponent_Template_select_ngModelChange_13_listener","ɵɵtwoWayBindingSet","DemoVidAnalysisComponent_option_14_Template","DemoVidAnalysisComponent_div_16_Template","DemoVidAnalysisComponent_div_17_Template","DemoVidAnalysisComponent_app_glass_card_18_Template","ɵɵtwoWayProperty","gates"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n// Create a structure for each camera\ninterface CameraFeed {\n  id: number;\n  gateName: string;\n  file: File | null;\n  videoUrl: string | null;\n  isAnalyzing: boolean;\n  analysisResult: any;\n  liveCount: number;\n  showThermal: boolean;\n  isAlarmRinging: boolean;\n  alarmInterval: any;\n}\n\n@Component({\n  selector: 'app-demo-vid-analysis',\n  templateUrl: './demo-vid-analysis.component.html',\n  styleUrls: ['./demo-vid-analysis.component.css']\n})\nexport class DemoVidAnalysisComponent implements OnInit, OnDestroy {\n\n  // Array of 5 Cameras!\n  cameras: CameraFeed[] = [];\n  \n  // To check if ANY alarm is ringing to show the global \"Silence All\" button\n  get isAnyAlarmRinging(): boolean {\n    return this.cameras.some(cam => cam.isAlarmRinging);\n  }\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    // Initialize 5 empty camera slots\n    for (let i = 1; i <= 5; i++) {\n      this.cameras.push({\n        id: i,\n        gateName: `Gate ${i}`,\n        file: null,\n        videoUrl: null,\n        isAnalyzing: false,\n        analysisResult: null,\n        liveCount: 0,\n        showThermal: false,\n        isAlarmRinging: false,\n        alarmInterval: null\n      });\n    }\n  }\n\n  onFileSelected(event: any, index: number) {\n    if (event.target.files && event.target.files.length > 0) {\n      const cam = this.cameras[index];\n      cam.file = event.target.files[0];\n      cam.videoUrl = URL.createObjectURL(cam.file!);\n      \n      // Reset that specific camera's stats\n      cam.analysisResult = null; \n      cam.liveCount = 0;\n      cam.showThermal = false;\n      this.stopSpecificAlarm(index);\n    }\n  }\n\n  // Analyze ONE specific camera\n  analyzeCamera(index: number) {\n    const cam = this.cameras[index];\n    if (!cam.file) return;\n\n    cam.isAnalyzing = true;\n    cam.analysisResult = null;\n    cam.liveCount = 0;\n    cam.showThermal = false;\n    \n    const formData = new FormData();\n    formData.append('file', cam.file);\n    formData.append('gate', cam.gateName); \n\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: (response: any) => {\n        cam.isAnalyzing = false;\n        cam.analysisResult = response;\n        this.animateCounting(index, response.crowdCount, response.thresholdExceeded);\n      },\n      error: (err) => {\n        console.error(`Analysis Failed for ${cam.gateName}`, err);\n        cam.isAnalyzing = false;\n      }\n    });\n  }\n\n  // Analyze ALL uploaded cameras at the same time!\n  analyzeAllCameras() {\n    this.cameras.forEach((cam, index) => {\n      if (cam.file && !cam.isAnalyzing && !cam.analysisResult) {\n        this.analyzeCamera(index);\n      }\n    });\n  }\n\n  animateCounting(index: number, targetCount: number, isCritical: boolean) {\n    const cam = this.cameras[index];\n    let current = 0;\n    const interval = setInterval(() => {\n      current += Math.ceil(targetCount / 20); // Dynamic counting speed\n      if (current >= targetCount) {\n        cam.liveCount = targetCount;\n        clearInterval(interval);\n        \n        if (isCritical) {\n          cam.showThermal = true;\n          this.triggerAudioAlarm(index);\n        }\n      } else {\n        cam.liveCount = current;\n      }\n    }, 50);\n  }\n\n  triggerAudioAlarm(index: number) {\n    const cam = this.cameras[index];\n    cam.isAlarmRinging = true;\n    \n    const message = `Critical! High crowd at ${cam.gateName}. Deploy guards to ${cam.gateName} immediately.`;\n    const speech = new SpeechSynthesisUtterance(message);\n    speech.lang = 'en-US';\n    speech.pitch = 0.9;\n    speech.volume = 1.0;\n\n    window.speechSynthesis.speak(speech);\n\n    cam.alarmInterval = setInterval(() => {\n      window.speechSynthesis.speak(speech);\n    }, 7000);\n  }\n\n  stopSpecificAlarm(index: number) {\n    const cam = this.cameras[index];\n    cam.isAlarmRinging = false;\n    if (cam.alarmInterval) {\n      clearInterval(cam.alarmInterval);\n    }\n  }\n\n  stopAllAlarms() {\n    this.cameras.forEach((_, index) => this.stopSpecificAlarm(index));\n    window.speechSynthesis.cancel(); // Stops the voice immediately\n  }\n\n  clearCamera(index: number) {\n    const cam = this.cameras[index];\n    cam.file = null;\n    cam.videoUrl = null;\n    cam.analysisResult = null;\n    cam.isAnalyzing = false;\n    cam.showThermal = false;\n    this.stopSpecificAlarm(index);\n  }\n\n  ngOnDestroy() {\n    this.stopAllAlarms();\n  }\n}","<div class=\"min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] p-6 lg:p-8 font-sans text-gray-300\">\n  \n  <div class=\"mb-8 flex justify-between items-center\">\n    <div>\n      <h1 class=\"text-3xl font-bold text-white tracking-wide\">Live Video Processing</h1>\n      <p class=\"text-sm text-gray-400 mt-1\">AI-powered object counting with thermal density and automated alerts.</p>\n    </div>\n\n    <button *ngIf=\"isAlarmRinging\" (click)=\"stopAlarm()\" class=\"bg-red-600 hover:bg-red-500 text-white px-6 py-3 rounded-lg font-bold shadow-[0_0_20px_rgba(220,38,38,0.8)] animate-pulse flex items-center\">\n      <svg class=\"w-6 h-6 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\"></path><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2\"></path></svg>\n      SILENCE ALARM\n    </button>\n  </div>\n\n  <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n    \n    <div class=\"flex flex-col h-full space-y-4\">\n      \n      <div>\n        <label class=\"block text-sm font-medium text-gray-400 mb-2\">Select Camera Target</label>\n        <select [(ngModel)]=\"selectedGate\" class=\"w-full bg-[#1e293b] border border-slate-600 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 shadow-lg transition-colors cursor-pointer\">\n          <option *ngFor=\"let gate of gates\" [value]=\"gate\">{{ gate }}</option>\n        </select>\n      </div>\n\n      <app-glass-card customClasses=\"p-1 flex-grow flex flex-col items-center justify-center border-dashed border-2 border-slate-600/50 hover:border-blue-500 transition-colors relative overflow-hidden min-h-[350px]\">\n        \n        <div *ngIf=\"!selectedFile\" class=\"flex flex-col items-center justify-center w-full h-full p-8 absolute z-20\">\n          <input type=\"file\" accept=\"video/mp4,video/x-m4v,video/*\" (change)=\"onFileSelected($event)\" class=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-30\">\n          <svg class=\"w-16 h-16 text-blue-500 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"></path></svg>\n          <h3 class=\"text-xl font-bold text-white mb-2\">Drag & Drop Video File</h3>\n        </div>\n\n        <div *ngIf=\"selectedFile && videoUrl\" class=\"relative w-full h-full bg-black rounded-lg overflow-hidden group\">\n          \n          <video [src]=\"videoUrl\" autoplay loop muted class=\"w-full h-full object-cover\"></video>\n          \n          <div *ngIf=\"isAnalyzing\" class=\"scanner-line\"></div>\n\n          <div class=\"absolute inset-0 bg-gradient-to-t from-red-600/60 via-red-500/30 to-transparent mix-blend-multiply transition-opacity duration-1000 z-10\"\n               [ngClass]=\"{'opacity-100': showThermal, 'opacity-0': !showThermal}\">\n          </div>\n\n          <div class=\"absolute top-4 right-4 bg-black/80 px-4 py-2 rounded-md border border-slate-600 z-20 shadow-lg\">\n            <p class=\"text-[10px] text-gray-400 uppercase tracking-widest mb-1\">Live Count</p>\n            <p class=\"text-3xl font-mono font-bold\" \n               [ngClass]=\"{'text-green-400': !showThermal, 'text-red-500': showThermal}\">\n              {{ isAnalyzing ? '---' : liveCount }}\n            </p>\n          </div>\n\n          <div class=\"absolute top-4 left-4 bg-black/80 px-3 py-1 rounded border border-slate-600 z-20 flex items-center\">\n            <div class=\"w-2 h-2 rounded-full mr-2\" [ngClass]=\"{'bg-blue-500 animate-pulse': isAnalyzing, 'bg-red-500 animate-pulse': showThermal, 'bg-green-500': !isAnalyzing && !showThermal}\"></div>\n            <span class=\"text-xs font-bold text-white uppercase\">{{ selectedGate }} FEED</span>\n          </div>\n\n          <div class=\"absolute bottom-4 left-0 right-0 flex justify-center z-30\">\n            <button *ngIf=\"!isAnalyzing && !analysisResult\" (click)=\"uploadAndAnalyze()\" class=\"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-full font-bold shadow-[0_0_15px_rgba(37,99,235,0.6)]\">\n              Begin AI Scan\n            </button>\n            <button *ngIf=\"analysisResult\" (click)=\"selectedFile = null; videoUrl = null; stopAlarm()\" class=\"bg-slate-700 hover:bg-slate-600 text-white px-6 py-2 rounded-full font-bold shadow-lg text-sm border border-slate-500\">\n              Clear & Upload New\n            </button>\n          </div>\n\n        </div>\n      </app-glass-card>\n    </div>\n\n    <app-glass-card *ngIf=\"analysisResult\" customClasses=\"p-8 h-full border-t-4 transition-colors duration-500\" [ngClass]=\"{'border-t-red-500': analysisResult.crowdCount > 50, 'border-t-green-500': analysisResult.crowdCount <= 50}\">\n      <h3 class=\"text-2xl font-bold text-white mb-6\">Analysis Results</h3>\n      \n      <div class=\"space-y-6\">\n        \n        <div class=\"flex justify-between items-center bg-[#0f172a] p-4 rounded-lg\">\n          <span class=\"text-gray-400 font-medium\">Camera Location:</span>\n          <span class=\"text-lg font-bold text-blue-400\">{{ analysisResult.camera_source }}</span>\n        </div>\n\n        <div class=\"flex justify-between items-center bg-[#0f172a] p-4 rounded-lg\">\n          <span class=\"text-gray-400 font-medium\">Final Detected Count:</span>\n          <span class=\"text-3xl font-bold\" [ngClass]=\"{'text-red-500': analysisResult.crowdCount > 50, 'text-green-400': analysisResult.crowdCount <= 50}\">\n            {{ analysisResult.crowdCount }}\n          </span>\n        </div>\n\n        <div *ngIf=\"analysisResult.crowdCount > 50\" class=\"bg-red-500/20 border border-red-500/50 p-4 rounded-lg\">\n          <div class=\"flex items-center text-red-400 font-bold mb-2\">\n            <svg class=\"w-6 h-6 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path></svg>\n            CRITICAL ALERT TRIGGERED\n          </div>\n          <p class=\"text-sm text-red-200\">Audio alarm activated. Automated SMS dispatch initiated to guards.</p>\n          \n          <div class=\"mt-4 pt-4 border-t border-red-500/30\">\n            <p class=\"text-xs text-red-400 uppercase tracking-wider mb-2\">SMS Dispatch Status:</p>\n            <ul class=\"text-sm space-y-1 text-gray-300\" *ngIf=\"analysisResult.messagesSent.length > 0\">\n               <li *ngFor=\"let msg of analysisResult.messagesSent\">✅ Sent to {{ msg }}</li>\n            </ul>\n            <p class=\"text-sm text-orange-400\" *ngIf=\"analysisResult.messagesSent.length === 0\">\n              ⚠️ No guards assigned to {{ analysisResult.camera_source }}.\n            </p>\n          </div>\n        </div>\n\n      </div>\n    </app-glass-card>\n\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}