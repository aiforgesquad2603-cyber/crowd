{"ast":null,"code":"ngOnInit();\n{\n  // 1. Ask Database how many gates exist right now!\n  this.http.get('http://localhost:8000/api/cameras').subscribe({\n    next: savedCams => {\n      let gateNames = [];\n      if (savedCams.length > 0) {\n        // If you created 7 gates in RTSP setup, it pulls all 7!\n        gateNames = savedCams.map(c => c.gate);\n      } else {\n        // Fallback if DB is completely empty\n        gateNames = ['Gate 1', 'Gate 2', 'Gate 3', 'Gate 4', 'Gate 5'];\n      }\n      // 2. Setup the dropdown and grid based on the exact number of gates!\n      this.gates = gateNames;\n      this.selectedGate = gateNames[0];\n      // 3. Create a video box for EVERY gate dynamically!\n      gateNames.forEach((name, index) => {\n        this.cameras.push({\n          id: index + 1,\n          gateName: name,\n          file: null,\n          videoUrl: null,\n          isAnalyzing: false,\n          analysisResult: null,\n          liveCount: 0,\n          showThermal: false,\n          isAlarmRinging: false,\n          alarmInterval: null\n        });\n      });\n    },\n    error: err => {\n      console.error(\"Failed to load dynamic gates from DB\", err);\n    }\n  });\n}","map":{"version":3,"names":["ngOnInit","http","get","subscribe","next","savedCams","gateNames","length","map","c","gate","gates","selectedGate","forEach","name","index","cameras","push","id","gateName","file","videoUrl","isAnalyzing","analysisResult","liveCount","showThermal","isAlarmRinging","alarmInterval","error","err","console"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.ts"],"sourcesContent":["ngOnInit() {\n    // 1. Ask Database how many gates exist right now!\n    this.http.get<any[]>('http://localhost:8000/api/cameras').subscribe({\n      next: (savedCams) => {\n        \n        let gateNames: string[] = [];\n        \n        if (savedCams.length > 0) {\n          // If you created 7 gates in RTSP setup, it pulls all 7!\n          gateNames = savedCams.map(c => c.gate);\n        } else {\n          // Fallback if DB is completely empty\n          gateNames = ['Gate 1', 'Gate 2', 'Gate 3', 'Gate 4', 'Gate 5']; \n        }\n\n        // 2. Setup the dropdown and grid based on the exact number of gates!\n        this.gates = gateNames;\n        this.selectedGate = gateNames[0];\n\n        // 3. Create a video box for EVERY gate dynamically!\n        gateNames.forEach((name, index) => {\n          this.cameras.push({\n            id: index + 1,\n            gateName: name,\n            file: null,\n            videoUrl: null,\n            isAnalyzing: false,\n            analysisResult: null,\n            liveCount: 0,\n            showThermal: false,\n            isAlarmRinging: false,\n            alarmInterval: null\n          });\n        });\n      },\n      error: (err) => {\n        console.error(\"Failed to load dynamic gates from DB\", err);\n      }\n    });\n  }"],"mappings":"AAAAA,QAAQ,EAAE;AAAC;EACP;EACA,IAAI,CAACC,IAAI,CAACC,GAAG,CAAQ,mCAAmC,CAAC,CAACC,SAAS,CAAC;IAClEC,IAAI,EAAGC,SAAS,IAAI;MAElB,IAAIC,SAAS,GAAa,EAAE;MAE5B,IAAID,SAAS,CAACE,MAAM,GAAG,CAAC,EAAE;QACxB;QACAD,SAAS,GAAGD,SAAS,CAACG,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC;MACxC,CAAC,MAAM;QACL;QACAJ,SAAS,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,CAAC;MAChE;MAEA;MACA,IAAI,CAACK,KAAK,GAAGL,SAAS;MACtB,IAAI,CAACM,YAAY,GAAGN,SAAS,CAAC,CAAC,CAAC;MAEhC;MACAA,SAAS,CAACO,OAAO,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAI;QAChC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAChBC,EAAE,EAAEH,KAAK,GAAG,CAAC;UACbI,QAAQ,EAAEL,IAAI;UACdM,IAAI,EAAE,IAAI;UACVC,QAAQ,EAAE,IAAI;UACdC,WAAW,EAAE,KAAK;UAClBC,cAAc,EAAE,IAAI;UACpBC,SAAS,EAAE,CAAC;UACZC,WAAW,EAAE,KAAK;UAClBC,cAAc,EAAE,KAAK;UACrBC,aAAa,EAAE;SAChB,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC;IACDC,KAAK,EAAGC,GAAG,IAAI;MACbC,OAAO,CAACF,KAAK,CAAC,sCAAsC,EAAEC,GAAG,CAAC;IAC5D;GACD,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}