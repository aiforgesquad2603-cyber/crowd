{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../shared/glass-card/glass-card.component\";\nconst _c0 = (a0, a1) => ({\n  \"border-t-red-500\": a0,\n  \"border-t-green-500\": a1\n});\nconst _c1 = (a0, a1) => ({\n  \"text-red-500\": a0,\n  \"text-green-400\": a1\n});\nfunction DemoVidAnalysisComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const gate_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", gate_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", gate_r1, \" - Live Feed\");\n  }\n}\nfunction DemoVidAnalysisComponent_h3_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 20);\n    i0.ɵɵtext(1, \"Drag & Drop Video Here\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_h3_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.selectedFile.name);\n  }\n}\nfunction DemoVidAnalysisComponent_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function DemoVidAnalysisComponent_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.uploadAndAnalyze());\n    });\n    i0.ɵɵtext(1, \" Start AI Analysis \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DemoVidAnalysisComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"div\", 24);\n    i0.ɵɵelementStart(2, \"p\", 25);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Running YOLOv8 Detection on \", ctx_r1.selectedGate, \"...\");\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_23_div_19_ul_13_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\\u2705 Sent to \", msg_r4, \"\");\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_23_div_19_ul_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 44);\n    i0.ɵɵtemplate(1, DemoVidAnalysisComponent_app_glass_card_23_div_19_ul_13_li_1_Template, 2, 1, \"li\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.analysisResult.messagesSent);\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_23_div_19_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \\u26A0\\uFE0F No guards are currently assigned to \", ctx_r1.analysisResult.camera_source, \". \");\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_23_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35)(1, \"div\", 36);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 37);\n    i0.ɵɵelement(3, \"path\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" CRITICAL ALERT TRIGGERED \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(5, \"p\", 39);\n    i0.ɵɵtext(6, \"Threshold exceeded! Automated SMS dispatch initiated to guards at \");\n    i0.ɵɵelementStart(7, \"b\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \".\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 40)(11, \"p\", 41);\n    i0.ɵɵtext(12, \"SMS Dispatch Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, DemoVidAnalysisComponent_app_glass_card_23_div_19_ul_13_Template, 2, 1, \"ul\", 42)(14, DemoVidAnalysisComponent_app_glass_card_23_div_19_p_14_Template, 2, 1, \"p\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.analysisResult.camera_source);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.analysisResult.messagesSent.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.analysisResult.messagesSent.length === 0);\n  }\n}\nfunction DemoVidAnalysisComponent_app_glass_card_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-glass-card\", 26)(1, \"h3\", 27);\n    i0.ɵɵtext(2, \"Analysis Results\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 28)(4, \"div\", 29)(5, \"span\", 30);\n    i0.ɵɵtext(6, \"Camera Location:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 31);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 29)(10, \"span\", 30);\n    i0.ɵɵtext(11, \"Detected Crowd Count:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 32);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 29)(15, \"span\", 30);\n    i0.ɵɵtext(16, \"System Threshold:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 33);\n    i0.ɵɵtext(18, \"50 Persons\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(19, DemoVidAnalysisComponent_app_glass_card_23_div_19_Template, 15, 3, \"div\", 34);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c0, ctx_r1.analysisResult.crowdCount > 50, ctx_r1.analysisResult.crowdCount <= 50));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.analysisResult.camera_source, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c1, ctx_r1.analysisResult.crowdCount > 50, ctx_r1.analysisResult.crowdCount <= 50));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.analysisResult.crowdCount, \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.analysisResult.crowdCount > 50);\n  }\n}\nexport class DemoVidAnalysisComponent {\n  constructor(http) {\n    this.http = http;\n    this.selectedFile = null;\n    this.selectedGate = 'Gate 1'; // Default camera\n    this.gates = ['Gate 1', 'Gate 2', 'Gate 3', 'Gate 4', 'Gate 5']; // List of cameras\n    this.isAnalyzing = false;\n    this.analysisResult = null;\n  }\n  onFileSelected(event) {\n    if (event.target.files && event.target.files.length > 0) {\n      this.selectedFile = event.target.files[0];\n      this.analysisResult = null;\n    }\n  }\n  uploadAndAnalyze() {\n    if (!this.selectedFile) return;\n    this.isAnalyzing = true;\n    // Video file AND Gate name rendu me Python ku anupurom!\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n    formData.append('gate', this.selectedGate);\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: response => {\n        this.analysisResult = response;\n        this.isAnalyzing = false;\n      },\n      error: err => {\n        console.error(\"Analysis Failed\", err);\n        alert(\"Error connecting to Python backend!\");\n        this.isAnalyzing = false;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function DemoVidAnalysisComponent_Factory(t) {\n      return new (t || DemoVidAnalysisComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DemoVidAnalysisComponent,\n      selectors: [[\"app-demo-vid-analysis\"]],\n      decls: 24,\n      vars: 7,\n      consts: [[1, \"min-h-screen\", \"bg-gradient-to-br\", \"from-[#0f172a]\", \"via-[#1e293b]\", \"to-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"text-gray-300\"], [1, \"mb-8\"], [1, \"text-3xl\", \"font-bold\", \"text-white\", \"tracking-wide\"], [1, \"text-sm\", \"text-gray-400\", \"mt-1\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-2\", \"gap-8\"], [1, \"flex\", \"flex-col\", \"h-full\", \"space-y-4\"], [1, \"block\", \"text-sm\", \"font-medium\", \"text-gray-400\", \"mb-2\"], [1, \"w-full\", \"bg-[#1e293b]\", \"border\", \"border-slate-600\", \"rounded-lg\", \"px-4\", \"py-3\", \"text-white\", \"outline-none\", \"focus:border-blue-500\", \"shadow-lg\", \"transition-colors\", \"cursor-pointer\", 3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"customClasses\", \"p-8 flex-grow flex flex-col items-center justify-center border-dashed border-2 border-slate-600/50 hover:border-blue-500 transition-colors relative\"], [\"type\", \"file\", \"accept\", \"video/mp4,video/x-m4v,video/*\", 1, \"absolute\", \"inset-0\", \"w-full\", \"h-full\", \"opacity-0\", \"cursor-pointer\", \"z-10\", 3, \"change\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-16\", \"h-16\", \"text-blue-500\", \"mb-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"], [\"class\", \"text-xl font-bold text-white mb-2\", 4, \"ngIf\"], [\"class\", \"text-xl font-bold text-green-400 mb-2\", 4, \"ngIf\"], [1, \"text-sm\", \"text-gray-500\", \"text-center\", \"max-w-xs\"], [\"class\", \"mt-6 bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg font-bold shadow-[0_0_15px_rgba(37,99,235,0.4)] z-20 relative\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"mt-6 flex flex-col items-center\", 4, \"ngIf\"], [\"customClasses\", \"p-8 h-full border-t-4\", 3, \"ngClass\", 4, \"ngIf\"], [3, \"value\"], [1, \"text-xl\", \"font-bold\", \"text-white\", \"mb-2\"], [1, \"text-xl\", \"font-bold\", \"text-green-400\", \"mb-2\"], [1, \"mt-6\", \"bg-blue-600\", \"hover:bg-blue-500\", \"text-white\", \"px-8\", \"py-3\", \"rounded-lg\", \"font-bold\", \"shadow-[0_0_15px_rgba(37,99,235,0.4)]\", \"z-20\", \"relative\", 3, \"click\"], [1, \"mt-6\", \"flex\", \"flex-col\", \"items-center\"], [1, \"animate-spin\", \"rounded-full\", \"h-10\", \"w-10\", \"border-b-2\", \"border-blue-500\", \"mb-3\"], [1, \"text-blue-400\", \"font-semibold\", \"animate-pulse\"], [\"customClasses\", \"p-8 h-full border-t-4\", 3, \"ngClass\"], [1, \"text-2xl\", \"font-bold\", \"text-white\", \"mb-6\"], [1, \"space-y-6\"], [1, \"flex\", \"justify-between\", \"items-center\", \"bg-[#0f172a]\", \"p-4\", \"rounded-lg\"], [1, \"text-gray-400\", \"font-medium\"], [1, \"text-lg\", \"font-bold\", \"text-blue-400\"], [1, \"text-3xl\", \"font-bold\", 3, \"ngClass\"], [1, \"text-xl\", \"font-bold\", \"text-gray-200\"], [\"class\", \"bg-red-500/20 border border-red-500/50 p-4 rounded-lg\", 4, \"ngIf\"], [1, \"bg-red-500/20\", \"border\", \"border-red-500/50\", \"p-4\", \"rounded-lg\"], [1, \"flex\", \"items-center\", \"text-red-400\", \"font-bold\", \"mb-2\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-6\", \"h-6\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"], [1, \"text-sm\", \"text-red-200\"], [1, \"mt-4\", \"pt-4\", \"border-t\", \"border-red-500/30\"], [1, \"text-xs\", \"text-red-400\", \"uppercase\", \"tracking-wider\", \"mb-2\"], [\"class\", \"text-sm space-y-1 text-gray-300\", 4, \"ngIf\"], [\"class\", \"text-sm text-orange-400\", 4, \"ngIf\"], [1, \"text-sm\", \"space-y-1\", \"text-gray-300\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-sm\", \"text-orange-400\"]],\n      template: function DemoVidAnalysisComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Demo Video Analysis\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\", 3);\n          i0.ɵɵtext(5, \"Upload a CCTV clip to test the AI crowd detection and automated SMS alerts per Gate.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\")(9, \"label\", 6);\n          i0.ɵɵtext(10, \"Select Camera Source\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"select\", 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function DemoVidAnalysisComponent_Template_select_ngModelChange_11_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedGate, $event) || (ctx.selectedGate = $event);\n            return $event;\n          });\n          i0.ɵɵtemplate(12, DemoVidAnalysisComponent_option_12_Template, 2, 2, \"option\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"app-glass-card\", 9)(14, \"input\", 10);\n          i0.ɵɵlistener(\"change\", function DemoVidAnalysisComponent_Template_input_change_14_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(15, \"svg\", 11);\n          i0.ɵɵelement(16, \"path\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(17, DemoVidAnalysisComponent_h3_17_Template, 2, 0, \"h3\", 13)(18, DemoVidAnalysisComponent_h3_18_Template, 2, 1, \"h3\", 14);\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(19, \"p\", 15);\n          i0.ɵɵtext(20, \"Supports MP4, AVI, MOV up to 50MB.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(21, DemoVidAnalysisComponent_button_21_Template, 2, 0, \"button\", 16)(22, DemoVidAnalysisComponent_div_22_Template, 4, 1, \"div\", 17);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(23, DemoVidAnalysisComponent_app_glass_card_23_Template, 20, 11, \"app-glass-card\", 18);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedGate);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", ctx.gates);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", !ctx.selectedFile);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedFile);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.selectedFile && !ctx.isAnalyzing);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isAnalyzing);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.analysisResult);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.GlassCardComponent],\n      styles: [\"/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZW1vLXZpZC1hbmFseXNpcy5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZGVtby12aWQtYW5hbHlzaXMvZGVtby12aWQtYW5hbHlzaXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsZ0xBQWdMIiwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","gate_r1","ɵɵadvance","ɵɵtextInterpolate1","ɵɵtextInterpolate","ctx_r1","selectedFile","name","ɵɵlistener","DemoVidAnalysisComponent_button_21_Template_button_click_0_listener","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵresetView","uploadAndAnalyze","ɵɵelement","selectedGate","msg_r4","ɵɵtemplate","DemoVidAnalysisComponent_app_glass_card_23_div_19_ul_13_li_1_Template","analysisResult","messagesSent","camera_source","DemoVidAnalysisComponent_app_glass_card_23_div_19_ul_13_Template","DemoVidAnalysisComponent_app_glass_card_23_div_19_p_14_Template","length","DemoVidAnalysisComponent_app_glass_card_23_div_19_Template","ɵɵpureFunction2","_c0","crowdCount","_c1","DemoVidAnalysisComponent","constructor","http","gates","isAnalyzing","onFileSelected","event","target","files","formData","FormData","append","post","subscribe","next","response","error","err","console","alert","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","DemoVidAnalysisComponent_Template","rf","ctx","ɵɵtwoWayListener","DemoVidAnalysisComponent_Template_select_ngModelChange_11_listener","$event","ɵɵtwoWayBindingSet","DemoVidAnalysisComponent_option_12_Template","DemoVidAnalysisComponent_Template_input_change_14_listener","DemoVidAnalysisComponent_h3_17_Template","DemoVidAnalysisComponent_h3_18_Template","DemoVidAnalysisComponent_button_21_Template","DemoVidAnalysisComponent_div_22_Template","DemoVidAnalysisComponent_app_glass_card_23_Template","ɵɵtwoWayProperty"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\demo-vid-analysis\\demo-vid-analysis.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-demo-vid-analysis',\n  templateUrl: './demo-vid-analysis.component.html',\n  styleUrls: ['./demo-vid-analysis.component.css']\n})\nexport class DemoVidAnalysisComponent {\n\n  selectedFile: File | null = null;\n  selectedGate: string = 'Gate 1'; // Default camera\n  gates: string[] = ['Gate 1', 'Gate 2', 'Gate 3', 'Gate 4', 'Gate 5']; // List of cameras\n  \n  isAnalyzing: boolean = false;\n  analysisResult: any = null;\n\n  constructor(private http: HttpClient) {}\n\n  onFileSelected(event: any) {\n    if (event.target.files && event.target.files.length > 0) {\n      this.selectedFile = event.target.files[0];\n      this.analysisResult = null; \n    }\n  }\n\n  uploadAndAnalyze() {\n    if (!this.selectedFile) return;\n\n    this.isAnalyzing = true;\n    \n    // Video file AND Gate name rendu me Python ku anupurom!\n    const formData = new FormData();\n    formData.append('file', this.selectedFile);\n    formData.append('gate', this.selectedGate); \n\n    this.http.post('http://localhost:8000/api/analyze-video', formData).subscribe({\n      next: (response: any) => {\n        this.analysisResult = response;\n        this.isAnalyzing = false;\n      },\n      error: (err) => {\n        console.error(\"Analysis Failed\", err);\n        alert(\"Error connecting to Python backend!\");\n        this.isAnalyzing = false;\n      }\n    });\n  }\n}","<div class=\"min-h-screen bg-gradient-to-br from-[#0f172a] via-[#1e293b] to-[#0f172a] p-6 lg:p-8 font-sans text-gray-300\">\n  \n  <div class=\"mb-8\">\n    <h1 class=\"text-3xl font-bold text-white tracking-wide\">Demo Video Analysis</h1>\n    <p class=\"text-sm text-gray-400 mt-1\">Upload a CCTV clip to test the AI crowd detection and automated SMS alerts per Gate.</p>\n  </div>\n\n  <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n    \n    <div class=\"flex flex-col h-full space-y-4\">\n      \n      <div>\n        <label class=\"block text-sm font-medium text-gray-400 mb-2\">Select Camera Source</label>\n        <select [(ngModel)]=\"selectedGate\" class=\"w-full bg-[#1e293b] border border-slate-600 rounded-lg px-4 py-3 text-white outline-none focus:border-blue-500 shadow-lg transition-colors cursor-pointer\">\n          <option *ngFor=\"let gate of gates\" [value]=\"gate\">{{ gate }} - Live Feed</option>\n        </select>\n      </div>\n\n      <app-glass-card customClasses=\"p-8 flex-grow flex flex-col items-center justify-center border-dashed border-2 border-slate-600/50 hover:border-blue-500 transition-colors relative\">\n        <input type=\"file\" accept=\"video/mp4,video/x-m4v,video/*\" (change)=\"onFileSelected($event)\" class=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\">\n        \n        <svg class=\"w-16 h-16 text-blue-500 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"></path></svg>\n        <h3 class=\"text-xl font-bold text-white mb-2\" *ngIf=\"!selectedFile\">Drag & Drop Video Here</h3>\n        <h3 class=\"text-xl font-bold text-green-400 mb-2\" *ngIf=\"selectedFile\">{{ selectedFile.name }}</h3>\n        <p class=\"text-sm text-gray-500 text-center max-w-xs\">Supports MP4, AVI, MOV up to 50MB.</p>\n        \n        <button *ngIf=\"selectedFile && !isAnalyzing\" (click)=\"uploadAndAnalyze()\" class=\"mt-6 bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg font-bold shadow-[0_0_15px_rgba(37,99,235,0.4)] z-20 relative\">\n          Start AI Analysis\n        </button>\n\n        <div *ngIf=\"isAnalyzing\" class=\"mt-6 flex flex-col items-center\">\n          <div class=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-3\"></div>\n          <p class=\"text-blue-400 font-semibold animate-pulse\">Running YOLOv8 Detection on {{ selectedGate }}...</p>\n        </div>\n      </app-glass-card>\n\n    </div>\n\n    <app-glass-card *ngIf=\"analysisResult\" customClasses=\"p-8 h-full border-t-4\" [ngClass]=\"{'border-t-red-500': analysisResult.crowdCount > 50, 'border-t-green-500': analysisResult.crowdCount <= 50}\">\n      <h3 class=\"text-2xl font-bold text-white mb-6\">Analysis Results</h3>\n      \n      <div class=\"space-y-6\">\n        \n        <div class=\"flex justify-between items-center bg-[#0f172a] p-4 rounded-lg\">\n          <span class=\"text-gray-400 font-medium\">Camera Location:</span>\n          <span class=\"text-lg font-bold text-blue-400\">\n            {{ analysisResult.camera_source }}\n          </span>\n        </div>\n\n        <div class=\"flex justify-between items-center bg-[#0f172a] p-4 rounded-lg\">\n          <span class=\"text-gray-400 font-medium\">Detected Crowd Count:</span>\n          <span class=\"text-3xl font-bold\" [ngClass]=\"{'text-red-500': analysisResult.crowdCount > 50, 'text-green-400': analysisResult.crowdCount <= 50}\">\n            {{ analysisResult.crowdCount }}\n          </span>\n        </div>\n\n        <div class=\"flex justify-between items-center bg-[#0f172a] p-4 rounded-lg\">\n          <span class=\"text-gray-400 font-medium\">System Threshold:</span>\n          <span class=\"text-xl font-bold text-gray-200\">50 Persons</span>\n        </div>\n\n        <div *ngIf=\"analysisResult.crowdCount > 50\" class=\"bg-red-500/20 border border-red-500/50 p-4 rounded-lg\">\n          <div class=\"flex items-center text-red-400 font-bold mb-2\">\n            <svg class=\"w-6 h-6 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path></svg>\n            CRITICAL ALERT TRIGGERED\n          </div>\n          <p class=\"text-sm text-red-200\">Threshold exceeded! Automated SMS dispatch initiated to guards at <b>{{ analysisResult.camera_source }}</b>.</p>\n          \n          <div class=\"mt-4 pt-4 border-t border-red-500/30\">\n            <p class=\"text-xs text-red-400 uppercase tracking-wider mb-2\">SMS Dispatch Status:</p>\n            \n            <ul class=\"text-sm space-y-1 text-gray-300\" *ngIf=\"analysisResult.messagesSent.length > 0\">\n               <li *ngFor=\"let msg of analysisResult.messagesSent\">✅ Sent to {{ msg }}</li>\n            </ul>\n\n            <p class=\"text-sm text-orange-400\" *ngIf=\"analysisResult.messagesSent.length === 0\">\n              ⚠️ No guards are currently assigned to {{ analysisResult.camera_source }}.\n            </p>\n          </div>\n        </div>\n      </div>\n    </app-glass-card>\n\n  </div>\n  \n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}