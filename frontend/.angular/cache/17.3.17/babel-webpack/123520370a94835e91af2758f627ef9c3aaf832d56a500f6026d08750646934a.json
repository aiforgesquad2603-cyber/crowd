{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = (a0, a1, a2) => ({\n  \"border-teal-500 bg-[#0f172a]\": a0,\n  \"border-gray-700 hover:border-gray-500 cursor-pointer\": a1,\n  \"opacity-50 cursor-not-allowed\": a2\n});\nfunction LiveMonitoringComponent_ng_container_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 30)(2, \"span\", 31);\n    i0.ɵɵtext(3, \"Person 98%\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 32)(5, \"span\", 31);\n    i0.ɵɵtext(6, \"Person 95%\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 33)(8, \"span\", 34);\n    i0.ɵɵtext(9, \"Person 88%\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction LiveMonitoringComponent_ng_container_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 35)(2, \"div\", 36)(3, \"div\", 37);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction LiveMonitoringComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵlistener(\"click\", function LiveMonitoringComponent_div_49_Template_div_click_0_listener() {\n      const cam_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectCamera(cam_r2));\n    });\n    i0.ɵɵelementStart(1, \"div\", 39)(2, \"span\", 40);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 41);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"uppercase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p\", 42);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 43)(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cam_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(9, _c0, ctx_r2.activeCamera.id === cam_r2.id, ctx_r2.activeCamera.id !== cam_r2.id && cam_r2.status === \"Live\", cam_r2.status === \"Offline\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cam_r2.id);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", cam_r2.status === \"Live\" ? \"bg-green-900/50 text-green-400\" : \"bg-gray-800 text-gray-500\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 7, cam_r2.status), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cam_r2.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"D: \", cam_r2.currentDensity, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"C: \", cam_r2.headcount, \"\");\n  }\n}\nexport class LiveMonitoringComponent {\n  constructor(http) {\n    this.http = http;\n    this.cameraNodes = [];\n    this.selectedCamera = null;\n    this.liveStreamUrl = '';\n  }\n  ngOnInit() {\n    this.loadCameras();\n  }\n  loadCameras() {\n    this.http.get('http://localhost:8000/api/cameras').subscribe({\n      next: cams => {\n        this.cameraNodes = cams;\n        // Auto-select the first 'Live' camera, or just the first camera\n        const firstLive = cams.find(c => c.status === 'Live') || cams[0];\n        if (firstLive) {\n          this.selectCamera(firstLive);\n        }\n      },\n      error: err => console.error(\"Error fetching cameras\", err)\n    });\n  }\n  selectCamera(cam) {\n    this.selectedCamera = cam;\n    if (cam.status === 'Live' || cam.rtsp_url === '0') {\n      // Point directly to our new Python streaming endpoint!\n      this.liveStreamUrl = `http://localhost:8000/api/video-feed/${cam.gate}`;\n    } else {\n      this.liveStreamUrl = ''; // Offline camera\n    }\n  }\n  static {\n    this.ɵfac = function LiveMonitoringComponent_Factory(t) {\n      return new (t || LiveMonitoringComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LiveMonitoringComponent,\n      selectors: [[\"app-live-monitoring\"]],\n      decls: 50,\n      vars: 9,\n      consts: [[1, \"p-6\", \"bg-[#0f172a]\", \"min-h-full\", \"text-gray-300\", \"flex\", \"flex-col\", \"h-full\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-6\"], [1, \"text-2xl\", \"font-bold\", \"text-white\"], [1, \"text-sm\", \"text-gray-400\"], [1, \"flex\", \"space-x-3\", \"bg-slate-800\", \"p-1.5\", \"rounded-lg\", \"border\", \"border-gray-700\", \"shadow-sm\"], [1, \"px-3\", \"py-1.5\", \"rounded\", \"text-sm\", \"font-medium\", \"border\", \"transition-colors\", \"flex\", \"items-center\", 3, \"click\", \"ngClass\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"w-4\", \"h-4\", \"mr-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-4\", \"gap-6\", \"flex-grow\"], [1, \"lg:col-span-3\", \"bg-black\", \"rounded-lg\", \"border\", \"border-gray-700\", \"shadow-xl\", \"relative\", \"overflow-hidden\", \"flex\", \"flex-col\"], [1, \"absolute\", \"top-0\", \"left-0\", \"w-full\", \"p-4\", \"flex\", \"justify-between\", \"items-start\", \"z-10\", \"bg-gradient-to-b\", \"from-black/80\", \"to-transparent\"], [1, \"flex\", \"items-center\", \"space-x-3\"], [1, \"animate-pulse\", \"h-3\", \"w-3\", \"bg-red-500\", \"rounded-full\"], [1, \"text-white\", \"font-mono\", \"text-lg\", \"font-semibold\", \"tracking-wider\"], [1, \"bg-gray-800/80\", \"text-gray-300\", \"text-xs\", \"px-2\", \"py-1\", \"rounded\", \"border\", \"border-gray-600\", \"font-mono\"], [1, \"text-right\", \"font-mono\", \"text-white\"], [1, \"text-2xl\", \"font-bold\"], [1, \"text-sm\", \"text-gray-400\", \"font-normal\", \"tracking-wide\"], [1, \"text-sm\", 3, \"ngClass\"], [1, \"flex-grow\", \"w-full\", \"bg-slate-900\", \"relative\", \"flex\", \"items-center\", \"justify-center\", \"overflow-hidden\"], [1, \"absolute\", \"inset-0\", \"bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))]\", \"from-slate-800\", \"via-slate-900\", \"to-black\", \"opacity-80\"], [4, \"ngIf\"], [1, \"absolute\", \"inset-0\", \"bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)]\", \"bg-[size:40px_40px]\", \"pointer-events-none\"], [1, \"bg-gray-900\", \"px-4\", \"py-2\", \"border-t\", \"border-gray-800\", \"flex\", \"justify-between\", \"text-xs\", \"font-mono\", \"text-gray-500\"], [1, \"bg-slate-800\", \"rounded-lg\", \"border\", \"border-gray-700\", \"shadow-sm\", \"p-4\", \"overflow-y-auto\", \"max-h-[calc(100vh-180px)]\"], [1, \"text-sm\", \"font-semibold\", \"text-white\", \"mb-4\", \"uppercase\", \"tracking-wider\"], [1, \"space-y-3\"], [\"class\", \"p-3 rounded-md border-2 transition-all relative overflow-hidden group\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"absolute\", \"border-2\", \"border-teal-500\", \"w-16\", \"h-32\", \"top-1/4\", \"left-1/4\", \"bg-teal-500/10\"], [1, \"absolute\", \"-top-5\", \"left-0\", \"bg-teal-500\", \"text-black\", \"text-[10px]\", \"px-1\", \"font-bold\"], [1, \"absolute\", \"border-2\", \"border-teal-500\", \"w-14\", \"h-28\", \"top-1/3\", \"left-1/2\", \"bg-teal-500/10\"], [1, \"absolute\", \"border-2\", \"border-orange-500\", \"w-20\", \"h-40\", \"bottom-1/4\", \"right-1/4\", \"bg-orange-500/10\"], [1, \"absolute\", \"-top-5\", \"left-0\", \"bg-orange-500\", \"text-black\", \"text-[10px]\", \"px-1\", \"font-bold\"], [1, \"absolute\", \"inset-0\", \"bg-gradient-to-br\", \"from-transparent\", \"via-blue-500/20\", \"to-transparent\"], [1, \"absolute\", \"w-64\", \"h-64\", \"bg-red-500/40\", \"rounded-full\", \"blur-3xl\", \"bottom-1/4\", \"right-1/4\"], [1, \"absolute\", \"w-48\", \"h-48\", \"bg-yellow-500/40\", \"rounded-full\", \"blur-3xl\", \"top-1/3\", \"left-1/2\"], [1, \"p-3\", \"rounded-md\", \"border-2\", \"transition-all\", \"relative\", \"overflow-hidden\", \"group\", 3, \"click\", \"ngClass\"], [1, \"flex\", \"justify-between\", \"items-start\", \"mb-1\"], [1, \"text-sm\", \"font-bold\", \"text-white\", \"group-hover:text-teal-400\", \"transition-colors\"], [1, \"text-[10px]\", \"font-bold\", \"px-1.5\", \"py-0.5\", \"rounded\", 3, \"ngClass\"], [1, \"text-xs\", \"text-gray-400\", \"mb-2\"], [1, \"flex\", \"justify-between\", \"text-[10px]\", \"text-gray-500\", \"mt-2\", \"border-t\", \"border-gray-700\", \"pt-2\"]],\n      template: function LiveMonitoringComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\", 2);\n          i0.ɵɵtext(4, \"Live AI Monitoring\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 3);\n          i0.ɵɵtext(6, \"Computer Vision based people detection & risk analysis\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function LiveMonitoringComponent_Template_button_click_8_listener() {\n            return ctx.toggleBoundingBoxes();\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(9, \"svg\", 6);\n          i0.ɵɵelement(10, \"path\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(11, \" Object Detection \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(12, \"button\", 5);\n          i0.ɵɵlistener(\"click\", function LiveMonitoringComponent_Template_button_click_12_listener() {\n            return ctx.toggleHeatmap();\n          });\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(13, \"svg\", 6);\n          i0.ɵɵelement(14, \"path\", 8)(15, \"path\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(16, \" Thermal Density \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(17, \"div\", 10)(18, \"div\", 11)(19, \"div\", 12)(20, \"div\", 13);\n          i0.ɵɵelement(21, \"span\", 14);\n          i0.ɵɵelementStart(22, \"h2\", 15);\n          i0.ɵɵtext(23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"span\", 16);\n          i0.ɵɵtext(25, \"REC\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 17)(27, \"p\", 18);\n          i0.ɵɵtext(28);\n          i0.ɵɵelementStart(29, \"span\", 19);\n          i0.ɵɵtext(30, \"DETECTED\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(31, \"p\", 20);\n          i0.ɵɵtext(32);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(33, \"div\", 21);\n          i0.ɵɵelement(34, \"div\", 22);\n          i0.ɵɵtemplate(35, LiveMonitoringComponent_ng_container_35_Template, 10, 0, \"ng-container\", 23)(36, LiveMonitoringComponent_ng_container_36_Template, 4, 0, \"ng-container\", 23);\n          i0.ɵɵelement(37, \"div\", 24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 25)(39, \"span\");\n          i0.ɵɵtext(40, \"FPS: 30.00\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"span\");\n          i0.ɵɵtext(42, \"LATENCY: 42ms\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"span\");\n          i0.ɵɵtext(44, \"MODEL: YOLOv8_Crowd_Opt\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(45, \"div\", 26)(46, \"h3\", 27);\n          i0.ɵɵtext(47, \"Camera Nodes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"div\", 28);\n          i0.ɵɵtemplate(49, LiveMonitoringComponent_div_49_Template, 14, 13, \"div\", 29);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngClass\", ctx.showBoundingBoxes ? \"bg-teal-600/20 text-teal-400 border-teal-500\" : \"text-gray-400 border-transparent hover:text-gray-200\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", ctx.showHeatmap ? \"bg-orange-600/20 text-orange-400 border-orange-500\" : \"text-gray-400 border-transparent hover:text-gray-200\");\n          i0.ɵɵadvance(11);\n          i0.ɵɵtextInterpolate(ctx.activeCamera.name);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"\", ctx.activeCamera.headcount, \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngClass\", ctx.activeCamera.currentDensity > 80 ? \"text-red-400\" : \"text-teal-400\");\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\"Density: \", ctx.activeCamera.currentDensity, \"%\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.showBoundingBoxes);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showHeatmap);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngForOf\", ctx.cameras);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i2.UpperCasePipe],\n      styles: [\"\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpdmUtbW9uaXRvcmluZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QjtBQUN4QixvREFBb0QiLCJmaWxlIjoibGl2ZS1tb25pdG9yaW5nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBUYWlsd2luZCBoYW5kbGVzIFVJICovXG4vKiBGdXR1cmU6IHNpcmVuIGFuaW1hdGlvbiwgdmlkZW8gb3ZlcmxheSwgaGVhdG1hcCAqL1xuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbGl2ZS1tb25pdG9yaW5nL2xpdmUtbW9uaXRvcmluZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHdCQUF3QjtBQUN4QixvREFBb0Q7O0FBRXBELGdZQUFnWSIsInNvdXJjZXNDb250ZW50IjpbIi8qIFRhaWx3aW5kIGhhbmRsZXMgVUkgKi9cbi8qIEZ1dHVyZTogc2lyZW4gYW5pbWF0aW9uLCB2aWRlbyBvdmVybGF5LCBoZWF0bWFwICovXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","LiveMonitoringComponent_div_49_Template_div_click_0_listener","cam_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","selectCamera","ɵɵproperty","ɵɵpureFunction3","_c0","activeCamera","id","status","ɵɵadvance","ɵɵtextInterpolate","ɵɵtextInterpolate1","ɵɵpipeBind1","name","currentDensity","headcount","LiveMonitoringComponent","constructor","http","cameraNodes","selectedCamera","liveStreamUrl","ngOnInit","loadCameras","get","subscribe","next","cams","firstLive","find","c","error","err","console","cam","rtsp_url","gate","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","LiveMonitoringComponent_Template","rf","ctx","LiveMonitoringComponent_Template_button_click_8_listener","toggleBoundingBoxes","LiveMonitoringComponent_Template_button_click_12_listener","toggleHeatmap","ɵɵtemplate","LiveMonitoringComponent_ng_container_35_Template","LiveMonitoringComponent_ng_container_36_Template","LiveMonitoringComponent_div_49_Template","showBoundingBoxes","showHeatmap","cameras"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\live-monitoring\\live-monitoring.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\live-monitoring\\live-monitoring.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-live-monitoring',\n  templateUrl: './live-monitoring.component.html',\n  styleUrls: ['./live-monitoring.component.css']\n})\nexport class LiveMonitoringComponent implements OnInit {\n  \n  cameraNodes: any[] = [];\n  selectedCamera: any = null;\n  liveStreamUrl: string = '';\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.loadCameras();\n  }\n\n  loadCameras() {\n    this.http.get<any[]>('http://localhost:8000/api/cameras').subscribe({\n      next: (cams) => {\n        this.cameraNodes = cams;\n        // Auto-select the first 'Live' camera, or just the first camera\n        const firstLive = cams.find(c => c.status === 'Live') || cams[0];\n        if (firstLive) {\n          this.selectCamera(firstLive);\n        }\n      },\n      error: (err) => console.error(\"Error fetching cameras\", err)\n    });\n  }\n\n  selectCamera(cam: any) {\n    this.selectedCamera = cam;\n    if (cam.status === 'Live' || cam.rtsp_url === '0') {\n      // Point directly to our new Python streaming endpoint!\n      this.liveStreamUrl = `http://localhost:8000/api/video-feed/${cam.gate}`;\n    } else {\n      this.liveStreamUrl = ''; // Offline camera\n    }\n  }\n}","<div class=\"p-6 bg-[#0f172a] min-h-full text-gray-300 flex flex-col h-full\">\n  \n  <div class=\"flex justify-between items-center mb-6\">\n    <div>\n      <h1 class=\"text-2xl font-bold text-white\">Live AI Monitoring</h1>\n      <p class=\"text-sm text-gray-400\">Computer Vision based people detection & risk analysis</p>\n    </div>\n    \n    <div class=\"flex space-x-3 bg-slate-800 p-1.5 rounded-lg border border-gray-700 shadow-sm\">\n      <button (click)=\"toggleBoundingBoxes()\" \n              [ngClass]=\"showBoundingBoxes ? 'bg-teal-600/20 text-teal-400 border-teal-500' : 'text-gray-400 border-transparent hover:text-gray-200'\"\n              class=\"px-3 py-1.5 rounded text-sm font-medium border transition-colors flex items-center\">\n        <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\"></path></svg>\n        Object Detection\n      </button>\n      <button (click)=\"toggleHeatmap()\"\n              [ngClass]=\"showHeatmap ? 'bg-orange-600/20 text-orange-400 border-orange-500' : 'text-gray-400 border-transparent hover:text-gray-200'\"\n              class=\"px-3 py-1.5 rounded text-sm font-medium border transition-colors flex items-center\">\n        <svg class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z\"></path><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z\"></path></svg>\n        Thermal Density\n      </button>\n    </div>\n  </div>\n\n  <div class=\"grid grid-cols-1 lg:grid-cols-4 gap-6 flex-grow\">\n    \n    <div class=\"lg:col-span-3 bg-black rounded-lg border border-gray-700 shadow-xl relative overflow-hidden flex flex-col\">\n      \n      <div class=\"absolute top-0 left-0 w-full p-4 flex justify-between items-start z-10 bg-gradient-to-b from-black/80 to-transparent\">\n        <div class=\"flex items-center space-x-3\">\n          <span class=\"animate-pulse h-3 w-3 bg-red-500 rounded-full\"></span>\n          <h2 class=\"text-white font-mono text-lg font-semibold tracking-wider\">{{ activeCamera.name }}</h2>\n          <span class=\"bg-gray-800/80 text-gray-300 text-xs px-2 py-1 rounded border border-gray-600 font-mono\">REC</span>\n        </div>\n        <div class=\"text-right font-mono text-white\">\n          <p class=\"text-2xl font-bold\">{{ activeCamera.headcount }} <span class=\"text-sm text-gray-400 font-normal tracking-wide\">DETECTED</span></p>\n          <p [ngClass]=\"activeCamera.currentDensity > 80 ? 'text-red-400' : 'text-teal-400'\" class=\"text-sm\">Density: {{ activeCamera.currentDensity }}%</p>\n        </div>\n      </div>\n\n      <div class=\"flex-grow w-full bg-slate-900 relative flex items-center justify-center overflow-hidden\">\n        <div class=\"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black opacity-80\"></div>\n        \n        <ng-container *ngIf=\"showBoundingBoxes\">\n          <div class=\"absolute border-2 border-teal-500 w-16 h-32 top-1/4 left-1/4 bg-teal-500/10\">\n            <span class=\"absolute -top-5 left-0 bg-teal-500 text-black text-[10px] px-1 font-bold\">Person 98%</span>\n          </div>\n          <div class=\"absolute border-2 border-teal-500 w-14 h-28 top-1/3 left-1/2 bg-teal-500/10\">\n            <span class=\"absolute -top-5 left-0 bg-teal-500 text-black text-[10px] px-1 font-bold\">Person 95%</span>\n          </div>\n          <div class=\"absolute border-2 border-orange-500 w-20 h-40 bottom-1/4 right-1/4 bg-orange-500/10\">\n            <span class=\"absolute -top-5 left-0 bg-orange-500 text-black text-[10px] px-1 font-bold\">Person 88%</span>\n          </div>\n        </ng-container>\n\n        <ng-container *ngIf=\"showHeatmap\">\n          <div class=\"absolute inset-0 bg-gradient-to-br from-transparent via-blue-500/20 to-transparent\"></div>\n          <div class=\"absolute w-64 h-64 bg-red-500/40 rounded-full blur-3xl bottom-1/4 right-1/4\"></div>\n          <div class=\"absolute w-48 h-48 bg-yellow-500/40 rounded-full blur-3xl top-1/3 left-1/2\"></div>\n        </ng-container>\n\n        <div class=\"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:40px_40px] pointer-events-none\"></div>\n      </div>\n\n      <div class=\"bg-gray-900 px-4 py-2 border-t border-gray-800 flex justify-between text-xs font-mono text-gray-500\">\n        <span>FPS: 30.00</span>\n        <span>LATENCY: 42ms</span>\n        <span>MODEL: YOLOv8_Crowd_Opt</span>\n      </div>\n    </div>\n\n    <div class=\"bg-slate-800 rounded-lg border border-gray-700 shadow-sm p-4 overflow-y-auto max-h-[calc(100vh-180px)]\">\n      <h3 class=\"text-sm font-semibold text-white mb-4 uppercase tracking-wider\">Camera Nodes</h3>\n      \n      <div class=\"space-y-3\">\n        <div *ngFor=\"let cam of cameras\" \n             (click)=\"selectCamera(cam)\"\n             [ngClass]=\"{\n               'border-teal-500 bg-[#0f172a]': activeCamera.id === cam.id,\n               'border-gray-700 hover:border-gray-500 cursor-pointer': activeCamera.id !== cam.id && cam.status === 'Live',\n               'opacity-50 cursor-not-allowed': cam.status === 'Offline'\n             }\"\n             class=\"p-3 rounded-md border-2 transition-all relative overflow-hidden group\">\n          \n          <div class=\"flex justify-between items-start mb-1\">\n            <span class=\"text-sm font-bold text-white group-hover:text-teal-400 transition-colors\">{{ cam.id }}</span>\n            <span class=\"text-[10px] font-bold px-1.5 py-0.5 rounded\"\n                  [ngClass]=\"cam.status === 'Live' ? 'bg-green-900/50 text-green-400' : 'bg-gray-800 text-gray-500'\">\n              {{ cam.status | uppercase }}\n            </span>\n          </div>\n          <p class=\"text-xs text-gray-400 mb-2\">{{ cam.name }}</p>\n          \n          <div class=\"flex justify-between text-[10px] text-gray-500 mt-2 border-t border-gray-700 pt-2\">\n            <span>D: {{ cam.currentDensity }}%</span>\n            <span>C: {{ cam.headcount }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}