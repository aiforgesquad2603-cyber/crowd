{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = a0 => ({\n  \"animate-pulse shadow-[0_0_20px_rgba(239,68,68,0.5)]\": a0\n});\nconst _c1 = (a0, a1) => ({\n  \"text-red-500\": a0,\n  \"text-green-500\": a1\n});\nconst _c2 = (a0, a1) => ({\n  \"bg-red-500/20 text-red-500\": a0,\n  \"bg-green-500/20 text-green-500\": a1\n});\nconst _c3 = (a0, a1) => ({\n  \"bg-green-500 animate-pulse\": a0,\n  \"bg-gray-500\": a1\n});\nfunction DashboardComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 24);\n    i0.ɵɵelement(2, \"path\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"h3\", 26);\n    i0.ɵɵtext(4, \"Cameras Offline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 27);\n    i0.ɵɵtext(6, \"Go to the RTSP Setup tab to configure live IP cameras.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_39_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"div\", 31);\n    i0.ɵɵelement(2, \"div\", 32);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"img\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cam_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", cam_r1.gate, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", \"http://localhost:8000/api/video-feed/\" + cam_r1.gate + \"?mode=object\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction DashboardComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, DashboardComponent_div_39_div_1_Template, 5, 2, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.activeCameras);\n  }\n}\nexport class DashboardComponent {\n  constructor(http) {\n    this.http = http;\n    // Dynamic Variables\n    this.policeDeployed = 0;\n    this.totalCrowdEstimate = 1450;\n    this.activeAlerts = 0;\n    // To store cameras that actually have RTSP links\n    this.activeCameras = [];\n  }\n  ngOnInit() {\n    this.fetchRealTimeData();\n    // Simulates a live changing crowd count for the Hackathon Demo!\n    this.crowdInterval = setInterval(() => {\n      // Randomly increase or decrease crowd by -5 to +10\n      const change = Math.floor(Math.random() * 16) - 5;\n      this.totalCrowdEstimate += change;\n      // Dynamic Alert Logic\n      if (this.totalCrowdEstimate > 1600) {\n        this.activeAlerts = 2; // Critical High\n      } else if (this.totalCrowdEstimate > 1500) {\n        this.activeAlerts = 1; // Warning\n      } else {\n        this.activeAlerts = 0; // Normal\n      }\n    }, 3000); // Changes every 3 seconds\n  }\n  fetchRealTimeData() {\n    // 1. Get exact number of Guards deployed from MongoDB\n    this.http.get('http://localhost:8000/api/guards').subscribe({\n      next: guards => {\n        this.policeDeployed = guards.length;\n      },\n      error: err => console.error(err)\n    });\n    // 2. Get all configured Cameras from MongoDB\n    this.http.get('http://localhost:8000/api/cameras').subscribe({\n      next: cams => {\n        // Filter out offline cameras, only keep ones with URLs\n        this.activeCameras = cams.filter(c => c.rtsp_url && c.rtsp_url.trim() !== '');\n      },\n      error: err => console.error(err)\n    });\n  }\n  ngOnDestroy() {\n    // Stop the timer when we leave the page\n    if (this.crowdInterval) {\n      clearInterval(this.crowdInterval);\n    }\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      decls: 40,\n      vars: 20,\n      consts: [[1, \"min-h-screen\", \"bg-[#0f172a]\", \"p-6\", \"lg:p-8\", \"font-sans\", \"text-gray-300\"], [1, \"mb-8\", \"border-b\", \"border-slate-700/50\", \"pb-5\"], [1, \"text-3xl\", \"font-bold\", \"text-white\", \"tracking-wide\"], [1, \"text-sm\", \"text-gray-400\", \"mt-2\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-6\", \"mb-8\"], [1, \"bg-[#1e293b]\", \"border-l-4\", \"border-blue-500\", \"rounded-xl\", \"p-6\", \"shadow-lg\", \"flex\", \"justify-between\", \"items-center\", \"transition-all\", \"hover:scale-105\", \"duration-300\"], [1, \"text-sm\", \"text-gray-400\", \"font-bold\", \"mb-1\"], [1, \"text-4xl\", \"font-bold\", \"text-white\"], [1, \"p-3\", \"bg-blue-500/20\", \"rounded-lg\", \"text-blue-400\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-8\", \"h-8\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"], [1, \"bg-[#1e293b]\", \"border-l-4\", \"border-orange-500\", \"rounded-xl\", \"p-6\", \"shadow-lg\", \"flex\", \"justify-between\", \"items-center\", \"transition-all\", \"hover:scale-105\", \"duration-300\"], [1, \"p-3\", \"bg-orange-500/20\", \"rounded-lg\", \"text-orange-400\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"], [1, \"bg-[#1e293b]\", \"border-l-4\", \"border-red-500\", \"rounded-xl\", \"p-6\", \"shadow-lg\", \"flex\", \"justify-between\", \"items-center\", \"transition-all\", \"duration-300\", 3, \"ngClass\"], [1, \"text-4xl\", \"font-bold\", 3, \"ngClass\"], [1, \"p-3\", \"rounded-lg\", 3, \"ngClass\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"], [1, \"bg-[#1e293b]\", \"rounded-xl\", \"border\", \"border-slate-700/50\", \"p-6\", \"shadow-xl\"], [1, \"text-xl\", \"font-bold\", \"text-white\", \"mb-6\", \"flex\", \"items-center\"], [1, \"w-3\", \"h-3\", \"rounded-full\", \"mr-3\", 3, \"ngClass\"], [\"class\", \"border-2 border-dashed border-slate-600 rounded-xl p-16 text-center bg-[#0f172a]/50\", 4, \"ngIf\"], [\"class\", \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\", 4, \"ngIf\"], [1, \"border-2\", \"border-dashed\", \"border-slate-600\", \"rounded-xl\", \"p-16\", \"text-center\", \"bg-[#0f172a]/50\"], [\"fill\", \"none\", \"stroke\", \"currentColor\", \"viewBox\", \"0 0 24 24\", 1, \"w-16\", \"h-16\", \"text-slate-500\", \"mx-auto\", \"mb-4\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"], [1, \"text-2xl\", \"font-bold\", \"text-gray-400\"], [1, \"text-sm\", \"text-gray-500\", \"mt-2\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-6\"], [\"class\", \"bg-black rounded-lg overflow-hidden border border-slate-600 relative aspect-video shadow-lg group\", 4, \"ngFor\", \"ngForOf\"], [1, \"bg-black\", \"rounded-lg\", \"overflow-hidden\", \"border\", \"border-slate-600\", \"relative\", \"aspect-video\", \"shadow-lg\", \"group\"], [1, \"absolute\", \"top-3\", \"left-3\", \"bg-black/80\", \"px-3\", \"py-1.5\", \"rounded\", \"text-xs\", \"font-bold\", \"text-white\", \"border\", \"border-slate-500\", \"z-10\", \"flex\", \"items-center\"], [1, \"w-2\", \"h-2\", \"bg-red-500\", \"rounded-full\", \"animate-pulse\", \"mr-2\"], [\"alt\", \"Live Feed\", 1, \"w-full\", \"h-full\", \"object-cover\", \"transition-transform\", \"duration-700\", \"group-hover:scale-105\", 3, \"src\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"CrowdGuardAI Live Dashboard\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\", 3);\n          i0.ɵɵtext(5, \"Real-time overview of station security, crowd metrics, and AI alerts.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5)(8, \"div\")(9, \"p\", 6);\n          i0.ɵɵtext(10, \"Police Deployed\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"h2\", 7);\n          i0.ɵɵtext(12);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 8);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(14, \"svg\", 9);\n          i0.ɵɵelement(15, \"path\", 10);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(16, \"div\", 11)(17, \"div\")(18, \"p\", 6);\n          i0.ɵɵtext(19, \"Total Crowd Estimate\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"h2\", 7);\n          i0.ɵɵtext(21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 12);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(23, \"svg\", 9);\n          i0.ɵɵelement(24, \"path\", 13);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(25, \"div\", 14)(26, \"div\")(27, \"p\", 6);\n          i0.ɵɵtext(28, \"Active Critical Alerts\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"h2\", 15);\n          i0.ɵɵtext(30);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(31, \"div\", 16);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(32, \"svg\", 9);\n          i0.ɵɵelement(33, \"path\", 17);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(34, \"div\", 18)(35, \"h2\", 19);\n          i0.ɵɵelement(36, \"div\", 20);\n          i0.ɵɵtext(37, \" Live Command Center Feed \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(38, DashboardComponent_div_38_Template, 7, 0, \"div\", 21)(39, DashboardComponent_div_39_Template, 2, 1, \"div\", 22);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵtextInterpolate(ctx.policeDeployed);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(ctx.totalCrowdEstimate);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ctx.activeAlerts > 0));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(11, _c1, ctx.activeAlerts > 0, ctx.activeAlerts === 0));\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate1(\" \", ctx.activeAlerts, \" \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(14, _c2, ctx.activeAlerts > 0, ctx.activeAlerts === 0));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c3, ctx.activeCameras.length > 0, ctx.activeCameras.length === 0));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.activeCameras.length === 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.activeCameras.length > 0);\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n      styles: [\"\\n\\n.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar {\\n  width: 4px;\\n}\\n.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track {\\n  background: #0f172a; \\n}\\n.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\n  background: #334155; \\n  border-radius: 4px;\\n}\\n.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\\n  background: #475569; \\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhc2hib2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9EQUFvRDtBQUNwRDtFQUNFLFVBQVU7QUFDWjtBQUNBO0VBQ0UsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckIiLCJmaWxlIjoiZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBPcHRpb25hbCBnbG9iYWwgc2Nyb2xsYmFyIHN0eWxpbmcgZm9yIGRhcmsgbW9kZSAqL1xuLmN1c3RvbS1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgd2lkdGg6IDRweDtcbn1cbi5jdXN0b20tc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gIGJhY2tncm91bmQ6ICMwZjE3MmE7IFxufVxuLmN1c3RvbS1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgYmFja2dyb3VuZDogIzMzNDE1NTsgXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cbi5jdXN0b20tc2Nyb2xsYmFyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICM0NzU1Njk7IFxufSJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9EQUFvRDtBQUNwRDtFQUNFLFVBQVU7QUFDWjtBQUNBO0VBQ0UsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxtQkFBbUI7QUFDckI7QUFDQSxnMkJBQWcyQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIE9wdGlvbmFsIGdsb2JhbCBzY3JvbGxiYXIgc3R5bGluZyBmb3IgZGFyayBtb2RlICovXG4uY3VzdG9tLXNjcm9sbGJhcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICB3aWR0aDogNHB4O1xufVxuLmN1c3RvbS1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgYmFja2dyb3VuZDogIzBmMTcyYTsgXG59XG4uY3VzdG9tLXNjcm9sbGJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICBiYWNrZ3JvdW5kOiAjMzM0MTU1OyBcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xufVxuLmN1c3RvbS1zY3JvbGxiYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogIzQ3NTU2OTsgXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","cam_r1","gate","ɵɵproperty","ɵɵsanitizeUrl","ɵɵtemplate","DashboardComponent_div_39_div_1_Template","ctx_r1","activeCameras","DashboardComponent","constructor","http","policeDeployed","totalCrowdEstimate","activeAlerts","ngOnInit","fetchRealTimeData","crowdInterval","setInterval","change","Math","floor","random","get","subscribe","next","guards","length","error","err","console","cams","filter","c","rtsp_url","trim","ngOnDestroy","clearInterval","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","DashboardComponent_div_38_Template","DashboardComponent_div_39_Template","ɵɵtextInterpolate","ɵɵpureFunction1","_c0","ɵɵpureFunction2","_c1","_c2","_c3"],"sources":["C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\dashboard\\dashboard.component.ts","C:\\Users\\sanja\\OneDrive\\Desktop\\crowdguardai\\frontend\\src\\app\\pages\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit, OnDestroy {\n  \n  // Dynamic Variables\n  policeDeployed: number = 0;\n  totalCrowdEstimate: number = 1450;\n  activeAlerts: number = 0;\n  \n  // To store cameras that actually have RTSP links\n  activeCameras: any[] = [];\n  \n  // Timer for simulating live crowd movement\n  crowdInterval: any;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit(): void {\n    this.fetchRealTimeData();\n\n    // Simulates a live changing crowd count for the Hackathon Demo!\n    this.crowdInterval = setInterval(() => {\n      // Randomly increase or decrease crowd by -5 to +10\n      const change = Math.floor(Math.random() * 16) - 5; \n      this.totalCrowdEstimate += change;\n      \n      // Dynamic Alert Logic\n      if (this.totalCrowdEstimate > 1600) {\n        this.activeAlerts = 2; // Critical High\n      } else if (this.totalCrowdEstimate > 1500) {\n        this.activeAlerts = 1; // Warning\n      } else {\n        this.activeAlerts = 0; // Normal\n      }\n    }, 3000); // Changes every 3 seconds\n  }\n\n  fetchRealTimeData() {\n    // 1. Get exact number of Guards deployed from MongoDB\n    this.http.get<any[]>('http://localhost:8000/api/guards').subscribe({\n      next: (guards) => {\n        this.policeDeployed = guards.length;\n      },\n      error: (err) => console.error(err)\n    });\n\n    // 2. Get all configured Cameras from MongoDB\n    this.http.get<any[]>('http://localhost:8000/api/cameras').subscribe({\n      next: (cams) => {\n        // Filter out offline cameras, only keep ones with URLs\n        this.activeCameras = cams.filter(c => c.rtsp_url && c.rtsp_url.trim() !== '');\n      },\n      error: (err) => console.error(err)\n    });\n  }\n\n  ngOnDestroy() {\n    // Stop the timer when we leave the page\n    if (this.crowdInterval) {\n      clearInterval(this.crowdInterval);\n    }\n  }\n}","<div class=\"min-h-screen bg-[#0f172a] p-6 lg:p-8 font-sans text-gray-300\">\n  \n  <div class=\"mb-8 border-b border-slate-700/50 pb-5\">\n    <h1 class=\"text-3xl font-bold text-white tracking-wide\">CrowdGuardAI Live Dashboard</h1>\n    <p class=\"text-sm text-gray-400 mt-2\">Real-time overview of station security, crowd metrics, and AI alerts.</p>\n  </div>\n\n  <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n    \n    <div class=\"bg-[#1e293b] border-l-4 border-blue-500 rounded-xl p-6 shadow-lg flex justify-between items-center transition-all hover:scale-105 duration-300\">\n      <div>\n        <p class=\"text-sm text-gray-400 font-bold mb-1\">Police Deployed</p>\n        <h2 class=\"text-4xl font-bold text-white\">{{ policeDeployed }}</h2>\n      </div>\n      <div class=\"p-3 bg-blue-500/20 rounded-lg text-blue-400\">\n        <svg class=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"></path></svg>\n      </div>\n    </div>\n\n    <div class=\"bg-[#1e293b] border-l-4 border-orange-500 rounded-xl p-6 shadow-lg flex justify-between items-center transition-all hover:scale-105 duration-300\">\n      <div>\n        <p class=\"text-sm text-gray-400 font-bold mb-1\">Total Crowd Estimate</p>\n        <h2 class=\"text-4xl font-bold text-white\">{{ totalCrowdEstimate }}</h2>\n      </div>\n      <div class=\"p-3 bg-orange-500/20 rounded-lg text-orange-400\">\n        <svg class=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"></path></svg>\n      </div>\n    </div>\n\n    <div class=\"bg-[#1e293b] border-l-4 border-red-500 rounded-xl p-6 shadow-lg flex justify-between items-center transition-all duration-300\"\n         [ngClass]=\"{'animate-pulse shadow-[0_0_20px_rgba(239,68,68,0.5)]': activeAlerts > 0}\">\n      <div>\n        <p class=\"text-sm text-gray-400 font-bold mb-1\">Active Critical Alerts</p>\n        <h2 class=\"text-4xl font-bold\" [ngClass]=\"{'text-red-500': activeAlerts > 0, 'text-green-500': activeAlerts === 0}\">\n          {{ activeAlerts }}\n        </h2>\n      </div>\n      <div class=\"p-3 rounded-lg\" [ngClass]=\"{'bg-red-500/20 text-red-500': activeAlerts > 0, 'bg-green-500/20 text-green-500': activeAlerts === 0}\">\n        <svg class=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path></svg>\n      </div>\n    </div>\n\n  </div>\n\n  <div class=\"bg-[#1e293b] rounded-xl border border-slate-700/50 p-6 shadow-xl\">\n    \n    <h2 class=\"text-xl font-bold text-white mb-6 flex items-center\">\n      <div class=\"w-3 h-3 rounded-full mr-3\" [ngClass]=\"{'bg-green-500 animate-pulse': activeCameras.length > 0, 'bg-gray-500': activeCameras.length === 0}\"></div>\n      Live Command Center Feed\n    </h2>\n\n    <div *ngIf=\"activeCameras.length === 0\" class=\"border-2 border-dashed border-slate-600 rounded-xl p-16 text-center bg-[#0f172a]/50\">\n      <svg class=\"w-16 h-16 text-slate-500 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"></path></svg>\n      <h3 class=\"text-2xl font-bold text-gray-400\">Cameras Offline</h3>\n      <p class=\"text-sm text-gray-500 mt-2\">Go to the RTSP Setup tab to configure live IP cameras.</p>\n    </div>\n\n    <div *ngIf=\"activeCameras.length > 0\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      \n      <div *ngFor=\"let cam of activeCameras\" class=\"bg-black rounded-lg overflow-hidden border border-slate-600 relative aspect-video shadow-lg group\">\n        \n        <div class=\"absolute top-3 left-3 bg-black/80 px-3 py-1.5 rounded text-xs font-bold text-white border border-slate-500 z-10 flex items-center\">\n          <div class=\"w-2 h-2 bg-red-500 rounded-full animate-pulse mr-2\"></div>\n          {{ cam.gate }}\n        </div>\n        \n        <img [src]=\"'http://localhost:8000/api/video-feed/' + cam.gate + '?mode=object'\" \n             class=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\" \n             alt=\"Live Feed\" />\n      </div>\n\n    </div>\n\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}